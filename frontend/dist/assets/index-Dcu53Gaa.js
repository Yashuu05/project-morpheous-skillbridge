function s4(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Bf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ue(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var fI={exports:{}},Vp={},dI={exports:{}},_e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tf=Symbol.for("react.element"),l4=Symbol.for("react.portal"),u4=Symbol.for("react.fragment"),c4=Symbol.for("react.strict_mode"),f4=Symbol.for("react.profiler"),d4=Symbol.for("react.provider"),h4=Symbol.for("react.context"),p4=Symbol.for("react.forward_ref"),m4=Symbol.for("react.suspense"),g4=Symbol.for("react.memo"),y4=Symbol.for("react.lazy"),Rw=Symbol.iterator;function v4(t){return t===null||typeof t!="object"?null:(t=Rw&&t[Rw]||t["@@iterator"],typeof t=="function"?t:null)}var hI={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},pI=Object.assign,mI={};function sl(t,e,n){this.props=t,this.context=e,this.refs=mI,this.updater=n||hI}sl.prototype.isReactComponent={};sl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};sl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function gI(){}gI.prototype=sl.prototype;function Lb(t,e,n){this.props=t,this.context=e,this.refs=mI,this.updater=n||hI}var Vb=Lb.prototype=new gI;Vb.constructor=Lb;pI(Vb,sl.prototype);Vb.isPureReactComponent=!0;var Nw=Array.isArray,yI=Object.prototype.hasOwnProperty,Bb={current:null},vI={key:!0,ref:!0,__self:!0,__source:!0};function bI(t,e,n){var r,i={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)yI.call(e,r)&&!vI.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:tf,type:t,key:o,ref:a,props:i,_owner:Bb.current}}function b4(t,e){return{$$typeof:tf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function zb(t){return typeof t=="object"&&t!==null&&t.$$typeof===tf}function x4(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Mw=/\/+/g;function kg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?x4(""+t.key):e.toString(36)}function Ad(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case tf:case l4:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+kg(a,0):r,Nw(i)?(n="",t!=null&&(n=t.replace(Mw,"$&/")+"/"),Ad(i,e,n,"",function(u){return u})):i!=null&&(zb(i)&&(i=b4(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Mw,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",Nw(t))for(var s=0;s<t.length;s++){o=t[s];var l=r+kg(o,s);a+=Ad(o,e,n,l,i)}else if(l=v4(t),typeof l=="function")for(t=l.call(t),s=0;!(o=t.next()).done;)o=o.value,l=r+kg(o,s++),a+=Ad(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function zf(t,e,n){if(t==null)return t;var r=[],i=0;return Ad(t,r,"","",function(o){return e.call(n,o,i++)}),r}function _4(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var cn={current:null},Pd={transition:null},w4={ReactCurrentDispatcher:cn,ReactCurrentBatchConfig:Pd,ReactCurrentOwner:Bb};function xI(){throw Error("act(...) is not supported in production builds of React.")}_e.Children={map:zf,forEach:function(t,e,n){zf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return zf(t,function(){e++}),e},toArray:function(t){return zf(t,function(e){return e})||[]},only:function(t){if(!zb(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};_e.Component=sl;_e.Fragment=u4;_e.Profiler=f4;_e.PureComponent=Lb;_e.StrictMode=c4;_e.Suspense=m4;_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=w4;_e.act=xI;_e.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=pI({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=Bb.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)yI.call(e,l)&&!vI.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:tf,type:t.type,key:i,ref:o,props:r,_owner:a}};_e.createContext=function(t){return t={$$typeof:h4,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:d4,_context:t},t.Consumer=t};_e.createElement=bI;_e.createFactory=function(t){var e=bI.bind(null,t);return e.type=t,e};_e.createRef=function(){return{current:null}};_e.forwardRef=function(t){return{$$typeof:p4,render:t}};_e.isValidElement=zb;_e.lazy=function(t){return{$$typeof:y4,_payload:{_status:-1,_result:t},_init:_4}};_e.memo=function(t,e){return{$$typeof:g4,type:t,compare:e===void 0?null:e}};_e.startTransition=function(t){var e=Pd.transition;Pd.transition={};try{t()}finally{Pd.transition=e}};_e.unstable_act=xI;_e.useCallback=function(t,e){return cn.current.useCallback(t,e)};_e.useContext=function(t){return cn.current.useContext(t)};_e.useDebugValue=function(){};_e.useDeferredValue=function(t){return cn.current.useDeferredValue(t)};_e.useEffect=function(t,e){return cn.current.useEffect(t,e)};_e.useId=function(){return cn.current.useId()};_e.useImperativeHandle=function(t,e,n){return cn.current.useImperativeHandle(t,e,n)};_e.useInsertionEffect=function(t,e){return cn.current.useInsertionEffect(t,e)};_e.useLayoutEffect=function(t,e){return cn.current.useLayoutEffect(t,e)};_e.useMemo=function(t,e){return cn.current.useMemo(t,e)};_e.useReducer=function(t,e,n){return cn.current.useReducer(t,e,n)};_e.useRef=function(t){return cn.current.useRef(t)};_e.useState=function(t){return cn.current.useState(t)};_e.useSyncExternalStore=function(t,e,n){return cn.current.useSyncExternalStore(t,e,n)};_e.useTransition=function(){return cn.current.useTransition()};_e.version="18.3.1";dI.exports=_e;var M=dI.exports;const F=Ue(M),S4=s4({__proto__:null,default:F},[M]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E4=M,T4=Symbol.for("react.element"),A4=Symbol.for("react.fragment"),P4=Object.prototype.hasOwnProperty,I4=E4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,O4={key:!0,ref:!0,__self:!0,__source:!0};function _I(t,e,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)P4.call(e,r)&&!O4.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:T4,type:t,key:o,ref:a,props:i,_owner:I4.current}}Vp.Fragment=A4;Vp.jsx=_I;Vp.jsxs=_I;fI.exports=Vp;var h=fI.exports,qy={},wI={exports:{}},jn={},SI={exports:{}},EI={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,U){var H=$.length;$.push(U);e:for(;0<H;){var Q=H-1>>>1,G=$[Q];if(0<i(G,U))$[Q]=U,$[H]=G,H=Q;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var U=$[0],H=$.pop();if(H!==U){$[0]=H;e:for(var Q=0,G=$.length,ne=G>>>1;Q<ne;){var ue=2*(Q+1)-1,pe=$[ue],ge=ue+1,Ae=$[ge];if(0>i(pe,H))ge<G&&0>i(Ae,pe)?($[Q]=Ae,$[ge]=H,Q=ge):($[Q]=pe,$[ue]=H,Q=ue);else if(ge<G&&0>i(Ae,H))$[Q]=Ae,$[ge]=H,Q=ge;else break e}}return U}function i($,U){var H=$.sortIndex-U.sortIndex;return H!==0?H:$.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],u=[],c=1,f=null,p=3,m=!1,y=!1,w=!1,_=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S($){for(var U=n(u);U!==null;){if(U.callback===null)r(u);else if(U.startTime<=$)r(u),U.sortIndex=U.expirationTime,e(l,U);else break;U=n(u)}}function O($){if(w=!1,S($),!y)if(n(l)!==null)y=!0,z(E);else{var U=n(u);U!==null&&L(O,U.startTime-$)}}function E($,U){y=!1,w&&(w=!1,g(T),T=-1),m=!0;var H=p;try{for(S(U),f=n(l);f!==null&&(!(f.expirationTime>U)||$&&!C());){var Q=f.callback;if(typeof Q=="function"){f.callback=null,p=f.priorityLevel;var G=Q(f.expirationTime<=U);U=t.unstable_now(),typeof G=="function"?f.callback=G:f===n(l)&&r(l),S(U)}else r(l);f=n(l)}if(f!==null)var ne=!0;else{var ue=n(u);ue!==null&&L(O,ue.startTime-U),ne=!1}return ne}finally{f=null,p=H,m=!1}}var A=!1,b=null,T=-1,I=5,j=-1;function C(){return!(t.unstable_now()-j<I)}function R(){if(b!==null){var $=t.unstable_now();j=$;var U=!0;try{U=b(!0,$)}finally{U?k():(A=!1,b=null)}}else A=!1}var k;if(typeof x=="function")k=function(){x(R)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,V=D.port2;D.port1.onmessage=R,k=function(){V.postMessage(null)}}else k=function(){_(R,0)};function z($){b=$,A||(A=!0,k())}function L($,U){T=_(function(){$(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,z(E))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function($){switch(p){case 1:case 2:case 3:var U=3;break;default:U=p}var H=p;p=U;try{return $()}finally{p=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,U){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var H=p;p=$;try{return U()}finally{p=H}},t.unstable_scheduleCallback=function($,U,H){var Q=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?Q+H:Q):H=Q,$){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=H+G,$={id:c++,callback:U,priorityLevel:$,startTime:H,expirationTime:G,sortIndex:-1},H>Q?($.sortIndex=H,e(u,$),n(l)===null&&$===n(u)&&(w?(g(T),T=-1):w=!0,L(O,H-Q))):($.sortIndex=G,e(l,$),y||m||(y=!0,z(E))),$},t.unstable_shouldYield=C,t.unstable_wrapCallback=function($){var U=p;return function(){var H=p;p=U;try{return $.apply(this,arguments)}finally{p=H}}}})(EI);SI.exports=EI;var k4=SI.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C4=M,kn=k4;function J(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var TI=new Set,Bu={};function Ta(t,e){Ts(t,e),Ts(t+"Capture",e)}function Ts(t,e){for(Bu[t]=e,t=0;t<e.length;t++)TI.add(e[t])}var ti=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gy=Object.prototype.hasOwnProperty,j4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Dw={},$w={};function R4(t){return Gy.call($w,t)?!0:Gy.call(Dw,t)?!1:j4.test(t)?$w[t]=!0:(Dw[t]=!0,!1)}function N4(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function M4(t,e,n,r){if(e===null||typeof e>"u"||N4(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function fn(t,e,n,r,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var Ht={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ht[t]=new fn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ht[e]=new fn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ht[t]=new fn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ht[t]=new fn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ht[t]=new fn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ht[t]=new fn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ht[t]=new fn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ht[t]=new fn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ht[t]=new fn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ub=/[\-:]([a-z])/g;function Wb(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ub,Wb);Ht[e]=new fn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ub,Wb);Ht[e]=new fn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ub,Wb);Ht[e]=new fn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ht[t]=new fn(t,1,!1,t.toLowerCase(),null,!1,!1)});Ht.xlinkHref=new fn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ht[t]=new fn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Hb(t,e,n,r){var i=Ht.hasOwnProperty(e)?Ht[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(M4(e,n,i,r)&&(n=null),r||i===null?R4(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var hi=C4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Uf=Symbol.for("react.element"),Ga=Symbol.for("react.portal"),Ka=Symbol.for("react.fragment"),qb=Symbol.for("react.strict_mode"),Ky=Symbol.for("react.profiler"),AI=Symbol.for("react.provider"),PI=Symbol.for("react.context"),Gb=Symbol.for("react.forward_ref"),Yy=Symbol.for("react.suspense"),Xy=Symbol.for("react.suspense_list"),Kb=Symbol.for("react.memo"),Oi=Symbol.for("react.lazy"),II=Symbol.for("react.offscreen"),Fw=Symbol.iterator;function ql(t){return t===null||typeof t!="object"?null:(t=Fw&&t[Fw]||t["@@iterator"],typeof t=="function"?t:null)}var at=Object.assign,Cg;function fu(t){if(Cg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Cg=e&&e[1]||""}return`
`+Cg+t}var jg=!1;function Rg(t,e){if(!t||jg)return"";jg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=s);break}}}finally{jg=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?fu(t):""}function D4(t){switch(t.tag){case 5:return fu(t.type);case 16:return fu("Lazy");case 13:return fu("Suspense");case 19:return fu("SuspenseList");case 0:case 2:case 15:return t=Rg(t.type,!1),t;case 11:return t=Rg(t.type.render,!1),t;case 1:return t=Rg(t.type,!0),t;default:return""}}function Qy(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ka:return"Fragment";case Ga:return"Portal";case Ky:return"Profiler";case qb:return"StrictMode";case Yy:return"Suspense";case Xy:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case PI:return(t.displayName||"Context")+".Consumer";case AI:return(t._context.displayName||"Context")+".Provider";case Gb:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Kb:return e=t.displayName||null,e!==null?e:Qy(t.type)||"Memo";case Oi:e=t._payload,t=t._init;try{return Qy(t(e))}catch{}}return null}function $4(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qy(e);case 8:return e===qb?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ao(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function OI(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function F4(t){var e=OI(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Wf(t){t._valueTracker||(t._valueTracker=F4(t))}function kI(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=OI(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Kd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Jy(t,e){var n=e.checked;return at({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Lw(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ao(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function CI(t,e){e=e.checked,e!=null&&Hb(t,"checked",e,!1)}function Zy(t,e){CI(t,e);var n=ao(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ev(t,e.type,n):e.hasOwnProperty("defaultValue")&&ev(t,e.type,ao(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Vw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ev(t,e,n){(e!=="number"||Kd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var du=Array.isArray;function us(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ao(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function tv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(J(91));return at({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Bw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(J(92));if(du(n)){if(1<n.length)throw Error(J(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ao(n)}}function jI(t,e){var n=ao(e.value),r=ao(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function zw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function RI(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function nv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?RI(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Hf,NI=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Hf=Hf||document.createElement("div"),Hf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Hf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function zu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var wu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},L4=["Webkit","ms","Moz","O"];Object.keys(wu).forEach(function(t){L4.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),wu[e]=wu[t]})});function MI(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||wu.hasOwnProperty(t)&&wu[t]?(""+e).trim():e+"px"}function DI(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=MI(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var V4=at({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rv(t,e){if(e){if(V4[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(J(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(J(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(J(61))}if(e.style!=null&&typeof e.style!="object")throw Error(J(62))}}function iv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ov=null;function Yb(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var av=null,cs=null,fs=null;function Uw(t){if(t=of(t)){if(typeof av!="function")throw Error(J(280));var e=t.stateNode;e&&(e=Hp(e),av(t.stateNode,t.type,e))}}function $I(t){cs?fs?fs.push(t):fs=[t]:cs=t}function FI(){if(cs){var t=cs,e=fs;if(fs=cs=null,Uw(t),e)for(t=0;t<e.length;t++)Uw(e[t])}}function LI(t,e){return t(e)}function VI(){}var Ng=!1;function BI(t,e,n){if(Ng)return t(e,n);Ng=!0;try{return LI(t,e,n)}finally{Ng=!1,(cs!==null||fs!==null)&&(VI(),FI())}}function Uu(t,e){var n=t.stateNode;if(n===null)return null;var r=Hp(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(J(231,e,typeof n));return n}var sv=!1;if(ti)try{var Gl={};Object.defineProperty(Gl,"passive",{get:function(){sv=!0}}),window.addEventListener("test",Gl,Gl),window.removeEventListener("test",Gl,Gl)}catch{sv=!1}function B4(t,e,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Su=!1,Yd=null,Xd=!1,lv=null,z4={onError:function(t){Su=!0,Yd=t}};function U4(t,e,n,r,i,o,a,s,l){Su=!1,Yd=null,B4.apply(z4,arguments)}function W4(t,e,n,r,i,o,a,s,l){if(U4.apply(this,arguments),Su){if(Su){var u=Yd;Su=!1,Yd=null}else throw Error(J(198));Xd||(Xd=!0,lv=u)}}function Aa(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function zI(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ww(t){if(Aa(t)!==t)throw Error(J(188))}function H4(t){var e=t.alternate;if(!e){if(e=Aa(t),e===null)throw Error(J(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ww(i),t;if(o===r)return Ww(i),e;o=o.sibling}throw Error(J(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(J(189))}}if(n.alternate!==r)throw Error(J(190))}if(n.tag!==3)throw Error(J(188));return n.stateNode.current===n?t:e}function UI(t){return t=H4(t),t!==null?WI(t):null}function WI(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=WI(t);if(e!==null)return e;t=t.sibling}return null}var HI=kn.unstable_scheduleCallback,Hw=kn.unstable_cancelCallback,q4=kn.unstable_shouldYield,G4=kn.unstable_requestPaint,ht=kn.unstable_now,K4=kn.unstable_getCurrentPriorityLevel,Xb=kn.unstable_ImmediatePriority,qI=kn.unstable_UserBlockingPriority,Qd=kn.unstable_NormalPriority,Y4=kn.unstable_LowPriority,GI=kn.unstable_IdlePriority,Bp=null,Sr=null;function X4(t){if(Sr&&typeof Sr.onCommitFiberRoot=="function")try{Sr.onCommitFiberRoot(Bp,t,void 0,(t.current.flags&128)===128)}catch{}}var ur=Math.clz32?Math.clz32:Z4,Q4=Math.log,J4=Math.LN2;function Z4(t){return t>>>=0,t===0?32:31-(Q4(t)/J4|0)|0}var qf=64,Gf=4194304;function hu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Jd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=hu(s):(o&=a,o!==0&&(r=hu(o)))}else a=n&~i,a!==0?r=hu(a):o!==0&&(r=hu(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ur(e),i=1<<n,r|=t[n],e&=~i;return r}function e5(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function t5(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-ur(o),s=1<<a,l=i[a];l===-1?(!(s&n)||s&r)&&(i[a]=e5(s,e)):l<=e&&(t.expiredLanes|=s),o&=~s}}function uv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function KI(){var t=qf;return qf<<=1,!(qf&4194240)&&(qf=64),t}function Mg(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function nf(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ur(e),t[e]=n}function n5(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ur(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Qb(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ur(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var De=0;function YI(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var XI,Jb,QI,JI,ZI,cv=!1,Kf=[],Wi=null,Hi=null,qi=null,Wu=new Map,Hu=new Map,ji=[],r5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qw(t,e){switch(t){case"focusin":case"focusout":Wi=null;break;case"dragenter":case"dragleave":Hi=null;break;case"mouseover":case"mouseout":qi=null;break;case"pointerover":case"pointerout":Wu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hu.delete(e.pointerId)}}function Kl(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=of(e),e!==null&&Jb(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function i5(t,e,n,r,i){switch(e){case"focusin":return Wi=Kl(Wi,t,e,n,r,i),!0;case"dragenter":return Hi=Kl(Hi,t,e,n,r,i),!0;case"mouseover":return qi=Kl(qi,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Wu.set(o,Kl(Wu.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Hu.set(o,Kl(Hu.get(o)||null,t,e,n,r,i)),!0}return!1}function eO(t){var e=Ho(t.target);if(e!==null){var n=Aa(e);if(n!==null){if(e=n.tag,e===13){if(e=zI(n),e!==null){t.blockedOn=e,ZI(t.priority,function(){QI(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Id(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=fv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ov=r,n.target.dispatchEvent(r),ov=null}else return e=of(n),e!==null&&Jb(e),t.blockedOn=n,!1;e.shift()}return!0}function Gw(t,e,n){Id(t)&&n.delete(e)}function o5(){cv=!1,Wi!==null&&Id(Wi)&&(Wi=null),Hi!==null&&Id(Hi)&&(Hi=null),qi!==null&&Id(qi)&&(qi=null),Wu.forEach(Gw),Hu.forEach(Gw)}function Yl(t,e){t.blockedOn===e&&(t.blockedOn=null,cv||(cv=!0,kn.unstable_scheduleCallback(kn.unstable_NormalPriority,o5)))}function qu(t){function e(i){return Yl(i,t)}if(0<Kf.length){Yl(Kf[0],t);for(var n=1;n<Kf.length;n++){var r=Kf[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Wi!==null&&Yl(Wi,t),Hi!==null&&Yl(Hi,t),qi!==null&&Yl(qi,t),Wu.forEach(e),Hu.forEach(e),n=0;n<ji.length;n++)r=ji[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ji.length&&(n=ji[0],n.blockedOn===null);)eO(n),n.blockedOn===null&&ji.shift()}var ds=hi.ReactCurrentBatchConfig,Zd=!0;function a5(t,e,n,r){var i=De,o=ds.transition;ds.transition=null;try{De=1,Zb(t,e,n,r)}finally{De=i,ds.transition=o}}function s5(t,e,n,r){var i=De,o=ds.transition;ds.transition=null;try{De=4,Zb(t,e,n,r)}finally{De=i,ds.transition=o}}function Zb(t,e,n,r){if(Zd){var i=fv(t,e,n,r);if(i===null)Hg(t,e,r,eh,n),qw(t,r);else if(i5(i,t,e,n,r))r.stopPropagation();else if(qw(t,r),e&4&&-1<r5.indexOf(t)){for(;i!==null;){var o=of(i);if(o!==null&&XI(o),o=fv(t,e,n,r),o===null&&Hg(t,e,r,eh,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Hg(t,e,r,null,n)}}var eh=null;function fv(t,e,n,r){if(eh=null,t=Yb(r),t=Ho(t),t!==null)if(e=Aa(t),e===null)t=null;else if(n=e.tag,n===13){if(t=zI(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return eh=t,null}function tO(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(K4()){case Xb:return 1;case qI:return 4;case Qd:case Y4:return 16;case GI:return 536870912;default:return 16}default:return 16}}var Li=null,e1=null,Od=null;function nO(){if(Od)return Od;var t,e=e1,n=e.length,r,i="value"in Li?Li.value:Li.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[o-r];r++);return Od=i.slice(t,1<r?1-r:void 0)}function kd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Yf(){return!0}function Kw(){return!1}function Rn(t){function e(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Yf:Kw,this.isPropagationStopped=Kw,this}return at(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Yf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Yf)},persist:function(){},isPersistent:Yf}),e}var ll={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},t1=Rn(ll),rf=at({},ll,{view:0,detail:0}),l5=Rn(rf),Dg,$g,Xl,zp=at({},rf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:n1,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Xl&&(Xl&&t.type==="mousemove"?(Dg=t.screenX-Xl.screenX,$g=t.screenY-Xl.screenY):$g=Dg=0,Xl=t),Dg)},movementY:function(t){return"movementY"in t?t.movementY:$g}}),Yw=Rn(zp),u5=at({},zp,{dataTransfer:0}),c5=Rn(u5),f5=at({},rf,{relatedTarget:0}),Fg=Rn(f5),d5=at({},ll,{animationName:0,elapsedTime:0,pseudoElement:0}),h5=Rn(d5),p5=at({},ll,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),m5=Rn(p5),g5=at({},ll,{data:0}),Xw=Rn(g5),y5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},v5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},b5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function x5(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=b5[t])?!!e[t]:!1}function n1(){return x5}var _5=at({},rf,{key:function(t){if(t.key){var e=y5[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=kd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?v5[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:n1,charCode:function(t){return t.type==="keypress"?kd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?kd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),w5=Rn(_5),S5=at({},zp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qw=Rn(S5),E5=at({},rf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:n1}),T5=Rn(E5),A5=at({},ll,{propertyName:0,elapsedTime:0,pseudoElement:0}),P5=Rn(A5),I5=at({},zp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),O5=Rn(I5),k5=[9,13,27,32],r1=ti&&"CompositionEvent"in window,Eu=null;ti&&"documentMode"in document&&(Eu=document.documentMode);var C5=ti&&"TextEvent"in window&&!Eu,rO=ti&&(!r1||Eu&&8<Eu&&11>=Eu),Jw=" ",Zw=!1;function iO(t,e){switch(t){case"keyup":return k5.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oO(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ya=!1;function j5(t,e){switch(t){case"compositionend":return oO(e);case"keypress":return e.which!==32?null:(Zw=!0,Jw);case"textInput":return t=e.data,t===Jw&&Zw?null:t;default:return null}}function R5(t,e){if(Ya)return t==="compositionend"||!r1&&iO(t,e)?(t=nO(),Od=e1=Li=null,Ya=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return rO&&e.locale!=="ko"?null:e.data;default:return null}}var N5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function eS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!N5[t.type]:e==="textarea"}function aO(t,e,n,r){$I(r),e=th(e,"onChange"),0<e.length&&(n=new t1("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Tu=null,Gu=null;function M5(t){yO(t,0)}function Up(t){var e=Ja(t);if(kI(e))return t}function D5(t,e){if(t==="change")return e}var sO=!1;if(ti){var Lg;if(ti){var Vg="oninput"in document;if(!Vg){var tS=document.createElement("div");tS.setAttribute("oninput","return;"),Vg=typeof tS.oninput=="function"}Lg=Vg}else Lg=!1;sO=Lg&&(!document.documentMode||9<document.documentMode)}function nS(){Tu&&(Tu.detachEvent("onpropertychange",lO),Gu=Tu=null)}function lO(t){if(t.propertyName==="value"&&Up(Gu)){var e=[];aO(e,Gu,t,Yb(t)),BI(M5,e)}}function $5(t,e,n){t==="focusin"?(nS(),Tu=e,Gu=n,Tu.attachEvent("onpropertychange",lO)):t==="focusout"&&nS()}function F5(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Up(Gu)}function L5(t,e){if(t==="click")return Up(e)}function V5(t,e){if(t==="input"||t==="change")return Up(e)}function B5(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var hr=typeof Object.is=="function"?Object.is:B5;function Ku(t,e){if(hr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Gy.call(e,i)||!hr(t[i],e[i]))return!1}return!0}function rS(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function iS(t,e){var n=rS(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=rS(n)}}function uO(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?uO(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function cO(){for(var t=window,e=Kd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Kd(t.document)}return e}function i1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function z5(t){var e=cO(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&uO(n.ownerDocument.documentElement,n)){if(r!==null&&i1(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=iS(n,o);var a=iS(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var U5=ti&&"documentMode"in document&&11>=document.documentMode,Xa=null,dv=null,Au=null,hv=!1;function oS(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;hv||Xa==null||Xa!==Kd(r)||(r=Xa,"selectionStart"in r&&i1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Au&&Ku(Au,r)||(Au=r,r=th(dv,"onSelect"),0<r.length&&(e=new t1("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Xa)))}function Xf(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Qa={animationend:Xf("Animation","AnimationEnd"),animationiteration:Xf("Animation","AnimationIteration"),animationstart:Xf("Animation","AnimationStart"),transitionend:Xf("Transition","TransitionEnd")},Bg={},fO={};ti&&(fO=document.createElement("div").style,"AnimationEvent"in window||(delete Qa.animationend.animation,delete Qa.animationiteration.animation,delete Qa.animationstart.animation),"TransitionEvent"in window||delete Qa.transitionend.transition);function Wp(t){if(Bg[t])return Bg[t];if(!Qa[t])return t;var e=Qa[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in fO)return Bg[t]=e[n];return t}var dO=Wp("animationend"),hO=Wp("animationiteration"),pO=Wp("animationstart"),mO=Wp("transitionend"),gO=new Map,aS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function go(t,e){gO.set(t,e),Ta(e,[t])}for(var zg=0;zg<aS.length;zg++){var Ug=aS[zg],W5=Ug.toLowerCase(),H5=Ug[0].toUpperCase()+Ug.slice(1);go(W5,"on"+H5)}go(dO,"onAnimationEnd");go(hO,"onAnimationIteration");go(pO,"onAnimationStart");go("dblclick","onDoubleClick");go("focusin","onFocus");go("focusout","onBlur");go(mO,"onTransitionEnd");Ts("onMouseEnter",["mouseout","mouseover"]);Ts("onMouseLeave",["mouseout","mouseover"]);Ts("onPointerEnter",["pointerout","pointerover"]);Ts("onPointerLeave",["pointerout","pointerover"]);Ta("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ta("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ta("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ta("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ta("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ta("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),q5=new Set("cancel close invalid load scroll toggle".split(" ").concat(pu));function sS(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,W4(r,e,void 0,t),t.currentTarget=null}function yO(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;sS(i,s,u),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;sS(i,s,u),o=l}}}if(Xd)throw t=lv,Xd=!1,lv=null,t}function Ke(t,e){var n=e[vv];n===void 0&&(n=e[vv]=new Set);var r=t+"__bubble";n.has(r)||(vO(e,t,2,!1),n.add(r))}function Wg(t,e,n){var r=0;e&&(r|=4),vO(n,t,r,e)}var Qf="_reactListening"+Math.random().toString(36).slice(2);function Yu(t){if(!t[Qf]){t[Qf]=!0,TI.forEach(function(n){n!=="selectionchange"&&(q5.has(n)||Wg(n,!1,t),Wg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Qf]||(e[Qf]=!0,Wg("selectionchange",!1,e))}}function vO(t,e,n,r){switch(tO(e)){case 1:var i=a5;break;case 4:i=s5;break;default:i=Zb}n=i.bind(null,e,n,t),i=void 0,!sv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Hg(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=Ho(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}BI(function(){var u=o,c=Yb(n),f=[];e:{var p=gO.get(t);if(p!==void 0){var m=t1,y=t;switch(t){case"keypress":if(kd(n)===0)break e;case"keydown":case"keyup":m=w5;break;case"focusin":y="focus",m=Fg;break;case"focusout":y="blur",m=Fg;break;case"beforeblur":case"afterblur":m=Fg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Yw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=c5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=T5;break;case dO:case hO:case pO:m=h5;break;case mO:m=P5;break;case"scroll":m=l5;break;case"wheel":m=O5;break;case"copy":case"cut":case"paste":m=m5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Qw}var w=(e&4)!==0,_=!w&&t==="scroll",g=w?p!==null?p+"Capture":null:p;w=[];for(var x=u,S;x!==null;){S=x;var O=S.stateNode;if(S.tag===5&&O!==null&&(S=O,g!==null&&(O=Uu(x,g),O!=null&&w.push(Xu(x,O,S)))),_)break;x=x.return}0<w.length&&(p=new m(p,y,null,n,c),f.push({event:p,listeners:w}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==ov&&(y=n.relatedTarget||n.fromElement)&&(Ho(y)||y[ni]))break e;if((m||p)&&(p=c.window===c?c:(p=c.ownerDocument)?p.defaultView||p.parentWindow:window,m?(y=n.relatedTarget||n.toElement,m=u,y=y?Ho(y):null,y!==null&&(_=Aa(y),y!==_||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=u),m!==y)){if(w=Yw,O="onMouseLeave",g="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(w=Qw,O="onPointerLeave",g="onPointerEnter",x="pointer"),_=m==null?p:Ja(m),S=y==null?p:Ja(y),p=new w(O,x+"leave",m,n,c),p.target=_,p.relatedTarget=S,O=null,Ho(c)===u&&(w=new w(g,x+"enter",y,n,c),w.target=S,w.relatedTarget=_,O=w),_=O,m&&y)t:{for(w=m,g=y,x=0,S=w;S;S=Fa(S))x++;for(S=0,O=g;O;O=Fa(O))S++;for(;0<x-S;)w=Fa(w),x--;for(;0<S-x;)g=Fa(g),S--;for(;x--;){if(w===g||g!==null&&w===g.alternate)break t;w=Fa(w),g=Fa(g)}w=null}else w=null;m!==null&&lS(f,p,m,w,!1),y!==null&&_!==null&&lS(f,_,y,w,!0)}}e:{if(p=u?Ja(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var E=D5;else if(eS(p))if(sO)E=V5;else{E=F5;var A=$5}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(E=L5);if(E&&(E=E(t,u))){aO(f,E,n,c);break e}A&&A(t,p,u),t==="focusout"&&(A=p._wrapperState)&&A.controlled&&p.type==="number"&&ev(p,"number",p.value)}switch(A=u?Ja(u):window,t){case"focusin":(eS(A)||A.contentEditable==="true")&&(Xa=A,dv=u,Au=null);break;case"focusout":Au=dv=Xa=null;break;case"mousedown":hv=!0;break;case"contextmenu":case"mouseup":case"dragend":hv=!1,oS(f,n,c);break;case"selectionchange":if(U5)break;case"keydown":case"keyup":oS(f,n,c)}var b;if(r1)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Ya?iO(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(rO&&n.locale!=="ko"&&(Ya||T!=="onCompositionStart"?T==="onCompositionEnd"&&Ya&&(b=nO()):(Li=c,e1="value"in Li?Li.value:Li.textContent,Ya=!0)),A=th(u,T),0<A.length&&(T=new Xw(T,t,null,n,c),f.push({event:T,listeners:A}),b?T.data=b:(b=oO(n),b!==null&&(T.data=b)))),(b=C5?j5(t,n):R5(t,n))&&(u=th(u,"onBeforeInput"),0<u.length&&(c=new Xw("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=b))}yO(f,e)})}function Xu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function th(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Uu(t,n),o!=null&&r.unshift(Xu(t,o,i)),o=Uu(t,e),o!=null&&r.push(Xu(t,o,i))),t=t.return}return r}function Fa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function lS(t,e,n,r,i){for(var o=e._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=Uu(n,o),l!=null&&a.unshift(Xu(n,l,s))):i||(l=Uu(n,o),l!=null&&a.push(Xu(n,l,s)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var G5=/\r\n?/g,K5=/\u0000|\uFFFD/g;function uS(t){return(typeof t=="string"?t:""+t).replace(G5,`
`).replace(K5,"")}function Jf(t,e,n){if(e=uS(e),uS(t)!==e&&n)throw Error(J(425))}function nh(){}var pv=null,mv=null;function gv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var yv=typeof setTimeout=="function"?setTimeout:void 0,Y5=typeof clearTimeout=="function"?clearTimeout:void 0,cS=typeof Promise=="function"?Promise:void 0,X5=typeof queueMicrotask=="function"?queueMicrotask:typeof cS<"u"?function(t){return cS.resolve(null).then(t).catch(Q5)}:yv;function Q5(t){setTimeout(function(){throw t})}function qg(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),qu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);qu(e)}function Gi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function fS(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ul=Math.random().toString(36).slice(2),_r="__reactFiber$"+ul,Qu="__reactProps$"+ul,ni="__reactContainer$"+ul,vv="__reactEvents$"+ul,J5="__reactListeners$"+ul,Z5="__reactHandles$"+ul;function Ho(t){var e=t[_r];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ni]||n[_r]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=fS(t);t!==null;){if(n=t[_r])return n;t=fS(t)}return e}t=n,n=t.parentNode}return null}function of(t){return t=t[_r]||t[ni],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ja(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(J(33))}function Hp(t){return t[Qu]||null}var bv=[],Za=-1;function yo(t){return{current:t}}function Je(t){0>Za||(t.current=bv[Za],bv[Za]=null,Za--)}function qe(t,e){Za++,bv[Za]=t.current,t.current=e}var so={},rn=yo(so),vn=yo(!1),sa=so;function As(t,e){var n=t.type.contextTypes;if(!n)return so;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function bn(t){return t=t.childContextTypes,t!=null}function rh(){Je(vn),Je(rn)}function dS(t,e,n){if(rn.current!==so)throw Error(J(168));qe(rn,e),qe(vn,n)}function bO(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(J(108,$4(t)||"Unknown",i));return at({},n,r)}function ih(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||so,sa=rn.current,qe(rn,t),qe(vn,vn.current),!0}function hS(t,e,n){var r=t.stateNode;if(!r)throw Error(J(169));n?(t=bO(t,e,sa),r.__reactInternalMemoizedMergedChildContext=t,Je(vn),Je(rn),qe(rn,t)):Je(vn),qe(vn,n)}var zr=null,qp=!1,Gg=!1;function xO(t){zr===null?zr=[t]:zr.push(t)}function e$(t){qp=!0,xO(t)}function vo(){if(!Gg&&zr!==null){Gg=!0;var t=0,e=De;try{var n=zr;for(De=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}zr=null,qp=!1}catch(i){throw zr!==null&&(zr=zr.slice(t+1)),HI(Xb,vo),i}finally{De=e,Gg=!1}}return null}var es=[],ts=0,oh=null,ah=0,Fn=[],Ln=0,la=null,Ur=1,Wr="";function Lo(t,e){es[ts++]=ah,es[ts++]=oh,oh=t,ah=e}function _O(t,e,n){Fn[Ln++]=Ur,Fn[Ln++]=Wr,Fn[Ln++]=la,la=t;var r=Ur;t=Wr;var i=32-ur(r)-1;r&=~(1<<i),n+=1;var o=32-ur(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Ur=1<<32-ur(e)+i|n<<i|r,Wr=o+t}else Ur=1<<o|n<<i|r,Wr=t}function o1(t){t.return!==null&&(Lo(t,1),_O(t,1,0))}function a1(t){for(;t===oh;)oh=es[--ts],es[ts]=null,ah=es[--ts],es[ts]=null;for(;t===la;)la=Fn[--Ln],Fn[Ln]=null,Wr=Fn[--Ln],Fn[Ln]=null,Ur=Fn[--Ln],Fn[Ln]=null}var On=null,Pn=null,Ze=!1,ir=null;function wO(t,e){var n=zn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function pS(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,On=t,Pn=Gi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,On=t,Pn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=la!==null?{id:Ur,overflow:Wr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=zn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,On=t,Pn=null,!0):!1;default:return!1}}function xv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function _v(t){if(Ze){var e=Pn;if(e){var n=e;if(!pS(t,e)){if(xv(t))throw Error(J(418));e=Gi(n.nextSibling);var r=On;e&&pS(t,e)?wO(r,n):(t.flags=t.flags&-4097|2,Ze=!1,On=t)}}else{if(xv(t))throw Error(J(418));t.flags=t.flags&-4097|2,Ze=!1,On=t}}}function mS(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;On=t}function Zf(t){if(t!==On)return!1;if(!Ze)return mS(t),Ze=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!gv(t.type,t.memoizedProps)),e&&(e=Pn)){if(xv(t))throw SO(),Error(J(418));for(;e;)wO(t,e),e=Gi(e.nextSibling)}if(mS(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(J(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Pn=Gi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Pn=null}}else Pn=On?Gi(t.stateNode.nextSibling):null;return!0}function SO(){for(var t=Pn;t;)t=Gi(t.nextSibling)}function Ps(){Pn=On=null,Ze=!1}function s1(t){ir===null?ir=[t]:ir.push(t)}var t$=hi.ReactCurrentBatchConfig;function Ql(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(J(309));var r=n.stateNode}if(!r)throw Error(J(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(J(284));if(!n._owner)throw Error(J(290,t))}return t}function ed(t,e){throw t=Object.prototype.toString.call(e),Error(J(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function gS(t){var e=t._init;return e(t._payload)}function EO(t){function e(g,x){if(t){var S=g.deletions;S===null?(g.deletions=[x],g.flags|=16):S.push(x)}}function n(g,x){if(!t)return null;for(;x!==null;)e(g,x),x=x.sibling;return null}function r(g,x){for(g=new Map;x!==null;)x.key!==null?g.set(x.key,x):g.set(x.index,x),x=x.sibling;return g}function i(g,x){return g=Qi(g,x),g.index=0,g.sibling=null,g}function o(g,x,S){return g.index=S,t?(S=g.alternate,S!==null?(S=S.index,S<x?(g.flags|=2,x):S):(g.flags|=2,x)):(g.flags|=1048576,x)}function a(g){return t&&g.alternate===null&&(g.flags|=2),g}function s(g,x,S,O){return x===null||x.tag!==6?(x=ey(S,g.mode,O),x.return=g,x):(x=i(x,S),x.return=g,x)}function l(g,x,S,O){var E=S.type;return E===Ka?c(g,x,S.props.children,O,S.key):x!==null&&(x.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Oi&&gS(E)===x.type)?(O=i(x,S.props),O.ref=Ql(g,x,S),O.return=g,O):(O=$d(S.type,S.key,S.props,null,g.mode,O),O.ref=Ql(g,x,S),O.return=g,O)}function u(g,x,S,O){return x===null||x.tag!==4||x.stateNode.containerInfo!==S.containerInfo||x.stateNode.implementation!==S.implementation?(x=ty(S,g.mode,O),x.return=g,x):(x=i(x,S.children||[]),x.return=g,x)}function c(g,x,S,O,E){return x===null||x.tag!==7?(x=ta(S,g.mode,O,E),x.return=g,x):(x=i(x,S),x.return=g,x)}function f(g,x,S){if(typeof x=="string"&&x!==""||typeof x=="number")return x=ey(""+x,g.mode,S),x.return=g,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Uf:return S=$d(x.type,x.key,x.props,null,g.mode,S),S.ref=Ql(g,null,x),S.return=g,S;case Ga:return x=ty(x,g.mode,S),x.return=g,x;case Oi:var O=x._init;return f(g,O(x._payload),S)}if(du(x)||ql(x))return x=ta(x,g.mode,S,null),x.return=g,x;ed(g,x)}return null}function p(g,x,S,O){var E=x!==null?x.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return E!==null?null:s(g,x,""+S,O);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Uf:return S.key===E?l(g,x,S,O):null;case Ga:return S.key===E?u(g,x,S,O):null;case Oi:return E=S._init,p(g,x,E(S._payload),O)}if(du(S)||ql(S))return E!==null?null:c(g,x,S,O,null);ed(g,S)}return null}function m(g,x,S,O,E){if(typeof O=="string"&&O!==""||typeof O=="number")return g=g.get(S)||null,s(x,g,""+O,E);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Uf:return g=g.get(O.key===null?S:O.key)||null,l(x,g,O,E);case Ga:return g=g.get(O.key===null?S:O.key)||null,u(x,g,O,E);case Oi:var A=O._init;return m(g,x,S,A(O._payload),E)}if(du(O)||ql(O))return g=g.get(S)||null,c(x,g,O,E,null);ed(x,O)}return null}function y(g,x,S,O){for(var E=null,A=null,b=x,T=x=0,I=null;b!==null&&T<S.length;T++){b.index>T?(I=b,b=null):I=b.sibling;var j=p(g,b,S[T],O);if(j===null){b===null&&(b=I);break}t&&b&&j.alternate===null&&e(g,b),x=o(j,x,T),A===null?E=j:A.sibling=j,A=j,b=I}if(T===S.length)return n(g,b),Ze&&Lo(g,T),E;if(b===null){for(;T<S.length;T++)b=f(g,S[T],O),b!==null&&(x=o(b,x,T),A===null?E=b:A.sibling=b,A=b);return Ze&&Lo(g,T),E}for(b=r(g,b);T<S.length;T++)I=m(b,g,T,S[T],O),I!==null&&(t&&I.alternate!==null&&b.delete(I.key===null?T:I.key),x=o(I,x,T),A===null?E=I:A.sibling=I,A=I);return t&&b.forEach(function(C){return e(g,C)}),Ze&&Lo(g,T),E}function w(g,x,S,O){var E=ql(S);if(typeof E!="function")throw Error(J(150));if(S=E.call(S),S==null)throw Error(J(151));for(var A=E=null,b=x,T=x=0,I=null,j=S.next();b!==null&&!j.done;T++,j=S.next()){b.index>T?(I=b,b=null):I=b.sibling;var C=p(g,b,j.value,O);if(C===null){b===null&&(b=I);break}t&&b&&C.alternate===null&&e(g,b),x=o(C,x,T),A===null?E=C:A.sibling=C,A=C,b=I}if(j.done)return n(g,b),Ze&&Lo(g,T),E;if(b===null){for(;!j.done;T++,j=S.next())j=f(g,j.value,O),j!==null&&(x=o(j,x,T),A===null?E=j:A.sibling=j,A=j);return Ze&&Lo(g,T),E}for(b=r(g,b);!j.done;T++,j=S.next())j=m(b,g,T,j.value,O),j!==null&&(t&&j.alternate!==null&&b.delete(j.key===null?T:j.key),x=o(j,x,T),A===null?E=j:A.sibling=j,A=j);return t&&b.forEach(function(R){return e(g,R)}),Ze&&Lo(g,T),E}function _(g,x,S,O){if(typeof S=="object"&&S!==null&&S.type===Ka&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Uf:e:{for(var E=S.key,A=x;A!==null;){if(A.key===E){if(E=S.type,E===Ka){if(A.tag===7){n(g,A.sibling),x=i(A,S.props.children),x.return=g,g=x;break e}}else if(A.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Oi&&gS(E)===A.type){n(g,A.sibling),x=i(A,S.props),x.ref=Ql(g,A,S),x.return=g,g=x;break e}n(g,A);break}else e(g,A);A=A.sibling}S.type===Ka?(x=ta(S.props.children,g.mode,O,S.key),x.return=g,g=x):(O=$d(S.type,S.key,S.props,null,g.mode,O),O.ref=Ql(g,x,S),O.return=g,g=O)}return a(g);case Ga:e:{for(A=S.key;x!==null;){if(x.key===A)if(x.tag===4&&x.stateNode.containerInfo===S.containerInfo&&x.stateNode.implementation===S.implementation){n(g,x.sibling),x=i(x,S.children||[]),x.return=g,g=x;break e}else{n(g,x);break}else e(g,x);x=x.sibling}x=ty(S,g.mode,O),x.return=g,g=x}return a(g);case Oi:return A=S._init,_(g,x,A(S._payload),O)}if(du(S))return y(g,x,S,O);if(ql(S))return w(g,x,S,O);ed(g,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,x!==null&&x.tag===6?(n(g,x.sibling),x=i(x,S),x.return=g,g=x):(n(g,x),x=ey(S,g.mode,O),x.return=g,g=x),a(g)):n(g,x)}return _}var Is=EO(!0),TO=EO(!1),sh=yo(null),lh=null,ns=null,l1=null;function u1(){l1=ns=lh=null}function c1(t){var e=sh.current;Je(sh),t._currentValue=e}function wv(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function hs(t,e){lh=t,l1=ns=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(gn=!0),t.firstContext=null)}function qn(t){var e=t._currentValue;if(l1!==t)if(t={context:t,memoizedValue:e,next:null},ns===null){if(lh===null)throw Error(J(308));ns=t,lh.dependencies={lanes:0,firstContext:t}}else ns=ns.next=t;return e}var qo=null;function f1(t){qo===null?qo=[t]:qo.push(t)}function AO(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,f1(e)):(n.next=i.next,i.next=n),e.interleaved=n,ri(t,r)}function ri(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ki=!1;function d1(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function PO(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Xr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ki(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ie&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ri(t,n)}return i=r.interleaved,i===null?(e.next=e,f1(r)):(e.next=i.next,i.next=e),r.interleaved=e,ri(t,n)}function Cd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Qb(t,n)}}function yS(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function uh(t,e,n,r){var i=t.updateQueue;ki=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?o=u:a.next=u,a=l;var c=t.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==a&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;a=0,c=u=l=null,s=o;do{var p=s.lane,m=s.eventTime;if((r&p)===p){c!==null&&(c=c.next={eventTime:m,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var y=t,w=s;switch(p=e,m=n,w.tag){case 1:if(y=w.payload,typeof y=="function"){f=y.call(m,f,p);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,p=typeof y=="function"?y.call(m,f,p):y,p==null)break e;f=at({},f,p);break e;case 2:ki=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[s]:p.push(s))}else m={eventTime:m,lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=m,l=f):c=c.next=m,a|=p;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;p=s,s=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);ca|=a,t.lanes=a,t.memoizedState=f}}function vS(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(J(191,i));i.call(r)}}}var af={},Er=yo(af),Ju=yo(af),Zu=yo(af);function Go(t){if(t===af)throw Error(J(174));return t}function h1(t,e){switch(qe(Zu,e),qe(Ju,t),qe(Er,af),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:nv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=nv(e,t)}Je(Er),qe(Er,e)}function Os(){Je(Er),Je(Ju),Je(Zu)}function IO(t){Go(Zu.current);var e=Go(Er.current),n=nv(e,t.type);e!==n&&(qe(Ju,t),qe(Er,n))}function p1(t){Ju.current===t&&(Je(Er),Je(Ju))}var rt=yo(0);function ch(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Kg=[];function m1(){for(var t=0;t<Kg.length;t++)Kg[t]._workInProgressVersionPrimary=null;Kg.length=0}var jd=hi.ReactCurrentDispatcher,Yg=hi.ReactCurrentBatchConfig,ua=0,ot=null,Tt=null,Mt=null,fh=!1,Pu=!1,ec=0,n$=0;function Kt(){throw Error(J(321))}function g1(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!hr(t[n],e[n]))return!1;return!0}function y1(t,e,n,r,i,o){if(ua=o,ot=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,jd.current=t===null||t.memoizedState===null?a$:s$,t=n(r,i),Pu){o=0;do{if(Pu=!1,ec=0,25<=o)throw Error(J(301));o+=1,Mt=Tt=null,e.updateQueue=null,jd.current=l$,t=n(r,i)}while(Pu)}if(jd.current=dh,e=Tt!==null&&Tt.next!==null,ua=0,Mt=Tt=ot=null,fh=!1,e)throw Error(J(300));return t}function v1(){var t=ec!==0;return ec=0,t}function br(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?ot.memoizedState=Mt=t:Mt=Mt.next=t,Mt}function Gn(){if(Tt===null){var t=ot.alternate;t=t!==null?t.memoizedState:null}else t=Tt.next;var e=Mt===null?ot.memoizedState:Mt.next;if(e!==null)Mt=e,Tt=t;else{if(t===null)throw Error(J(310));Tt=t,t={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},Mt===null?ot.memoizedState=Mt=t:Mt=Mt.next=t}return Mt}function tc(t,e){return typeof e=="function"?e(t):e}function Xg(t){var e=Gn(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=Tt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,u=o;do{var c=u.lane;if((ua&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=f,a=r):l=l.next=f,ot.lanes|=c,ca|=c}u=u.next}while(u!==null&&u!==o);l===null?a=r:l.next=s,hr(r,e.memoizedState)||(gn=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,ot.lanes|=o,ca|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Qg(t){var e=Gn(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);hr(o,e.memoizedState)||(gn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function OO(){}function kO(t,e){var n=ot,r=Gn(),i=e(),o=!hr(r.memoizedState,i);if(o&&(r.memoizedState=i,gn=!0),r=r.queue,b1(RO.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Mt!==null&&Mt.memoizedState.tag&1){if(n.flags|=2048,nc(9,jO.bind(null,n,r,i,e),void 0,null),$t===null)throw Error(J(349));ua&30||CO(n,e,i)}return i}function CO(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ot.updateQueue,e===null?(e={lastEffect:null,stores:null},ot.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function jO(t,e,n,r){e.value=n,e.getSnapshot=r,NO(e)&&MO(t)}function RO(t,e,n){return n(function(){NO(e)&&MO(t)})}function NO(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!hr(t,n)}catch{return!0}}function MO(t){var e=ri(t,1);e!==null&&cr(e,t,1,-1)}function bS(t){var e=br();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tc,lastRenderedState:t},e.queue=t,t=t.dispatch=o$.bind(null,ot,t),[e.memoizedState,t]}function nc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ot.updateQueue,e===null?(e={lastEffect:null,stores:null},ot.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function DO(){return Gn().memoizedState}function Rd(t,e,n,r){var i=br();ot.flags|=t,i.memoizedState=nc(1|e,n,void 0,r===void 0?null:r)}function Gp(t,e,n,r){var i=Gn();r=r===void 0?null:r;var o=void 0;if(Tt!==null){var a=Tt.memoizedState;if(o=a.destroy,r!==null&&g1(r,a.deps)){i.memoizedState=nc(e,n,o,r);return}}ot.flags|=t,i.memoizedState=nc(1|e,n,o,r)}function xS(t,e){return Rd(8390656,8,t,e)}function b1(t,e){return Gp(2048,8,t,e)}function $O(t,e){return Gp(4,2,t,e)}function FO(t,e){return Gp(4,4,t,e)}function LO(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function VO(t,e,n){return n=n!=null?n.concat([t]):null,Gp(4,4,LO.bind(null,e,t),n)}function x1(){}function BO(t,e){var n=Gn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&g1(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function zO(t,e){var n=Gn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&g1(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function UO(t,e,n){return ua&21?(hr(n,e)||(n=KI(),ot.lanes|=n,ca|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,gn=!0),t.memoizedState=n)}function r$(t,e){var n=De;De=n!==0&&4>n?n:4,t(!0);var r=Yg.transition;Yg.transition={};try{t(!1),e()}finally{De=n,Yg.transition=r}}function WO(){return Gn().memoizedState}function i$(t,e,n){var r=Xi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},HO(t))qO(e,n);else if(n=AO(t,e,n,r),n!==null){var i=un();cr(n,t,r,i),GO(n,e,r)}}function o$(t,e,n){var r=Xi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(HO(t))qO(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,hr(s,a)){var l=e.interleaved;l===null?(i.next=i,f1(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=AO(t,e,i,r),n!==null&&(i=un(),cr(n,t,r,i),GO(n,e,r))}}function HO(t){var e=t.alternate;return t===ot||e!==null&&e===ot}function qO(t,e){Pu=fh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function GO(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Qb(t,n)}}var dh={readContext:qn,useCallback:Kt,useContext:Kt,useEffect:Kt,useImperativeHandle:Kt,useInsertionEffect:Kt,useLayoutEffect:Kt,useMemo:Kt,useReducer:Kt,useRef:Kt,useState:Kt,useDebugValue:Kt,useDeferredValue:Kt,useTransition:Kt,useMutableSource:Kt,useSyncExternalStore:Kt,useId:Kt,unstable_isNewReconciler:!1},a$={readContext:qn,useCallback:function(t,e){return br().memoizedState=[t,e===void 0?null:e],t},useContext:qn,useEffect:xS,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Rd(4194308,4,LO.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Rd(4194308,4,t,e)},useInsertionEffect:function(t,e){return Rd(4,2,t,e)},useMemo:function(t,e){var n=br();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=br();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=i$.bind(null,ot,t),[r.memoizedState,t]},useRef:function(t){var e=br();return t={current:t},e.memoizedState=t},useState:bS,useDebugValue:x1,useDeferredValue:function(t){return br().memoizedState=t},useTransition:function(){var t=bS(!1),e=t[0];return t=r$.bind(null,t[1]),br().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ot,i=br();if(Ze){if(n===void 0)throw Error(J(407));n=n()}else{if(n=e(),$t===null)throw Error(J(349));ua&30||CO(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,xS(RO.bind(null,r,o,t),[t]),r.flags|=2048,nc(9,jO.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=br(),e=$t.identifierPrefix;if(Ze){var n=Wr,r=Ur;n=(r&~(1<<32-ur(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ec++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=n$++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},s$={readContext:qn,useCallback:BO,useContext:qn,useEffect:b1,useImperativeHandle:VO,useInsertionEffect:$O,useLayoutEffect:FO,useMemo:zO,useReducer:Xg,useRef:DO,useState:function(){return Xg(tc)},useDebugValue:x1,useDeferredValue:function(t){var e=Gn();return UO(e,Tt.memoizedState,t)},useTransition:function(){var t=Xg(tc)[0],e=Gn().memoizedState;return[t,e]},useMutableSource:OO,useSyncExternalStore:kO,useId:WO,unstable_isNewReconciler:!1},l$={readContext:qn,useCallback:BO,useContext:qn,useEffect:b1,useImperativeHandle:VO,useInsertionEffect:$O,useLayoutEffect:FO,useMemo:zO,useReducer:Qg,useRef:DO,useState:function(){return Qg(tc)},useDebugValue:x1,useDeferredValue:function(t){var e=Gn();return Tt===null?e.memoizedState=t:UO(e,Tt.memoizedState,t)},useTransition:function(){var t=Qg(tc)[0],e=Gn().memoizedState;return[t,e]},useMutableSource:OO,useSyncExternalStore:kO,useId:WO,unstable_isNewReconciler:!1};function er(t,e){if(t&&t.defaultProps){e=at({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Sv(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:at({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Kp={isMounted:function(t){return(t=t._reactInternals)?Aa(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=un(),i=Xi(t),o=Xr(r,i);o.payload=e,n!=null&&(o.callback=n),e=Ki(t,o,i),e!==null&&(cr(e,t,i,r),Cd(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=un(),i=Xi(t),o=Xr(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Ki(t,o,i),e!==null&&(cr(e,t,i,r),Cd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=un(),r=Xi(t),i=Xr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ki(t,i,r),e!==null&&(cr(e,t,r,n),Cd(e,t,r))}};function _S(t,e,n,r,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!Ku(n,r)||!Ku(i,o):!0}function KO(t,e,n){var r=!1,i=so,o=e.contextType;return typeof o=="object"&&o!==null?o=qn(o):(i=bn(e)?sa:rn.current,r=e.contextTypes,o=(r=r!=null)?As(t,i):so),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Kp,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function wS(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Kp.enqueueReplaceState(e,e.state,null)}function Ev(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},d1(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=qn(o):(o=bn(e)?sa:rn.current,i.context=As(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Sv(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Kp.enqueueReplaceState(i,i.state,null),uh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ks(t,e){try{var n="",r=e;do n+=D4(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Jg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Tv(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var u$=typeof WeakMap=="function"?WeakMap:Map;function YO(t,e,n){n=Xr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ph||(ph=!0,Mv=r),Tv(t,e)},n}function XO(t,e,n){n=Xr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Tv(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Tv(t,e),typeof r!="function"&&(Yi===null?Yi=new Set([this]):Yi.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function SS(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new u$;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=S$.bind(null,t,e,n),e.then(t,t))}function ES(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function TS(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Xr(-1,1),e.tag=2,Ki(n,e,1))),n.lanes|=1),t)}var c$=hi.ReactCurrentOwner,gn=!1;function sn(t,e,n,r){e.child=t===null?TO(e,null,n,r):Is(e,t.child,n,r)}function AS(t,e,n,r,i){n=n.render;var o=e.ref;return hs(e,i),r=y1(t,e,n,r,o,i),n=v1(),t!==null&&!gn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ii(t,e,i)):(Ze&&n&&o1(e),e.flags|=1,sn(t,e,r,i),e.child)}function PS(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!I1(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,QO(t,e,o,r,i)):(t=$d(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ku,n(a,r)&&t.ref===e.ref)return ii(t,e,i)}return e.flags|=1,t=Qi(o,r),t.ref=e.ref,t.return=e,e.child=t}function QO(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Ku(o,r)&&t.ref===e.ref)if(gn=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(gn=!0);else return e.lanes=t.lanes,ii(t,e,i)}return Av(t,e,n,r,i)}function JO(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(is,En),En|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,qe(is,En),En|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,qe(is,En),En|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,qe(is,En),En|=r;return sn(t,e,i,n),e.child}function ZO(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Av(t,e,n,r,i){var o=bn(n)?sa:rn.current;return o=As(e,o),hs(e,i),n=y1(t,e,n,r,o,i),r=v1(),t!==null&&!gn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ii(t,e,i)):(Ze&&r&&o1(e),e.flags|=1,sn(t,e,n,i),e.child)}function IS(t,e,n,r,i){if(bn(n)){var o=!0;ih(e)}else o=!1;if(hs(e,i),e.stateNode===null)Nd(t,e),KO(e,n,r),Ev(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=qn(u):(u=bn(n)?sa:rn.current,u=As(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==u)&&wS(e,a,r,u),ki=!1;var p=e.memoizedState;a.state=p,uh(e,r,a,i),l=e.memoizedState,s!==r||p!==l||vn.current||ki?(typeof c=="function"&&(Sv(e,n,c,r),l=e.memoizedState),(s=ki||_S(e,n,s,r,p,l,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,PO(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:er(e.type,s),a.props=u,f=e.pendingProps,p=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=qn(l):(l=bn(n)?sa:rn.current,l=As(e,l));var m=n.getDerivedStateFromProps;(c=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==f||p!==l)&&wS(e,a,r,l),ki=!1,p=e.memoizedState,a.state=p,uh(e,r,a,i);var y=e.memoizedState;s!==f||p!==y||vn.current||ki?(typeof m=="function"&&(Sv(e,n,m,r),y=e.memoizedState),(u=ki||_S(e,n,u,r,p,y,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,y,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,y,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),a.props=r,a.state=y,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Pv(t,e,n,r,o,i)}function Pv(t,e,n,r,i,o){ZO(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&hS(e,n,!1),ii(t,e,o);r=e.stateNode,c$.current=e;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Is(e,t.child,null,o),e.child=Is(e,null,s,o)):sn(t,e,s,o),e.memoizedState=r.state,i&&hS(e,n,!0),e.child}function ek(t){var e=t.stateNode;e.pendingContext?dS(t,e.pendingContext,e.pendingContext!==e.context):e.context&&dS(t,e.context,!1),h1(t,e.containerInfo)}function OS(t,e,n,r,i){return Ps(),s1(i),e.flags|=256,sn(t,e,n,r),e.child}var Iv={dehydrated:null,treeContext:null,retryLane:0};function Ov(t){return{baseLanes:t,cachePool:null,transitions:null}}function tk(t,e,n){var r=e.pendingProps,i=rt.current,o=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),qe(rt,i&1),t===null)return _v(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=Qp(a,r,0,null),t=ta(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Ov(n),e.memoizedState=Iv,t):_1(e,a));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return f$(t,e,a,r,s,i,n);if(o){o=r.fallback,a=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Qi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=Qi(s,o):(o=ta(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=t.child.memoizedState,a=a===null?Ov(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=Iv,r}return o=t.child,t=o.sibling,r=Qi(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function _1(t,e){return e=Qp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function td(t,e,n,r){return r!==null&&s1(r),Is(e,t.child,null,n),t=_1(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function f$(t,e,n,r,i,o,a){if(n)return e.flags&256?(e.flags&=-257,r=Jg(Error(J(422))),td(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Qp({mode:"visible",children:r.children},i,0,null),o=ta(o,i,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Is(e,t.child,null,a),e.child.memoizedState=Ov(a),e.memoizedState=Iv,o);if(!(e.mode&1))return td(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(J(419)),r=Jg(o,r,void 0),td(t,e,a,r)}if(s=(a&t.childLanes)!==0,gn||s){if(r=$t,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,ri(t,i),cr(r,t,i,-1))}return P1(),r=Jg(Error(J(421))),td(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=E$.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Pn=Gi(i.nextSibling),On=e,Ze=!0,ir=null,t!==null&&(Fn[Ln++]=Ur,Fn[Ln++]=Wr,Fn[Ln++]=la,Ur=t.id,Wr=t.overflow,la=e),e=_1(e,r.children),e.flags|=4096,e)}function kS(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),wv(t.return,e,n)}function Zg(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function nk(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(sn(t,e,r.children,n),r=rt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&kS(t,n,e);else if(t.tag===19)kS(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(qe(rt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ch(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Zg(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ch(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Zg(e,!0,n,null,o);break;case"together":Zg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Nd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ii(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ca|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(J(153));if(e.child!==null){for(t=e.child,n=Qi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Qi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function d$(t,e,n){switch(e.tag){case 3:ek(e),Ps();break;case 5:IO(e);break;case 1:bn(e.type)&&ih(e);break;case 4:h1(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;qe(sh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(qe(rt,rt.current&1),e.flags|=128,null):n&e.child.childLanes?tk(t,e,n):(qe(rt,rt.current&1),t=ii(t,e,n),t!==null?t.sibling:null);qe(rt,rt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return nk(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),qe(rt,rt.current),r)break;return null;case 22:case 23:return e.lanes=0,JO(t,e,n)}return ii(t,e,n)}var rk,kv,ik,ok;rk=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};kv=function(){};ik=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Go(Er.current);var o=null;switch(n){case"input":i=Jy(t,i),r=Jy(t,r),o=[];break;case"select":i=at({},i,{value:void 0}),r=at({},r,{value:void 0}),o=[];break;case"textarea":i=tv(t,i),r=tv(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=nh)}rv(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Bu.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Bu.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ke("scroll",t),o||s===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};ok=function(t,e,n,r){n!==r&&(e.flags|=4)};function Jl(t,e){if(!Ze)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Yt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function h$(t,e,n){var r=e.pendingProps;switch(a1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yt(e),null;case 1:return bn(e.type)&&rh(),Yt(e),null;case 3:return r=e.stateNode,Os(),Je(vn),Je(rn),m1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Zf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ir!==null&&(Fv(ir),ir=null))),kv(t,e),Yt(e),null;case 5:p1(e);var i=Go(Zu.current);if(n=e.type,t!==null&&e.stateNode!=null)ik(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(J(166));return Yt(e),null}if(t=Go(Er.current),Zf(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[_r]=e,r[Qu]=o,t=(e.mode&1)!==0,n){case"dialog":Ke("cancel",r),Ke("close",r);break;case"iframe":case"object":case"embed":Ke("load",r);break;case"video":case"audio":for(i=0;i<pu.length;i++)Ke(pu[i],r);break;case"source":Ke("error",r);break;case"img":case"image":case"link":Ke("error",r),Ke("load",r);break;case"details":Ke("toggle",r);break;case"input":Lw(r,o),Ke("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ke("invalid",r);break;case"textarea":Bw(r,o),Ke("invalid",r)}rv(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&Jf(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&Jf(r.textContent,s,t),i=["children",""+s]):Bu.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&Ke("scroll",r)}switch(n){case"input":Wf(r),Vw(r,o,!0);break;case"textarea":Wf(r),zw(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=nh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=RI(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[_r]=e,t[Qu]=r,rk(t,e,!1,!1),e.stateNode=t;e:{switch(a=iv(n,r),n){case"dialog":Ke("cancel",t),Ke("close",t),i=r;break;case"iframe":case"object":case"embed":Ke("load",t),i=r;break;case"video":case"audio":for(i=0;i<pu.length;i++)Ke(pu[i],t);i=r;break;case"source":Ke("error",t),i=r;break;case"img":case"image":case"link":Ke("error",t),Ke("load",t),i=r;break;case"details":Ke("toggle",t),i=r;break;case"input":Lw(t,r),i=Jy(t,r),Ke("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=at({},r,{value:void 0}),Ke("invalid",t);break;case"textarea":Bw(t,r),i=tv(t,r),Ke("invalid",t);break;default:i=r}rv(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?DI(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&NI(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&zu(t,l):typeof l=="number"&&zu(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Bu.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Ke("scroll",t):l!=null&&Hb(t,o,l,a))}switch(n){case"input":Wf(t),Vw(t,r,!1);break;case"textarea":Wf(t),zw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ao(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?us(t,!!r.multiple,o,!1):r.defaultValue!=null&&us(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=nh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Yt(e),null;case 6:if(t&&e.stateNode!=null)ok(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(J(166));if(n=Go(Zu.current),Go(Er.current),Zf(e)){if(r=e.stateNode,n=e.memoizedProps,r[_r]=e,(o=r.nodeValue!==n)&&(t=On,t!==null))switch(t.tag){case 3:Jf(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Jf(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[_r]=e,e.stateNode=r}return Yt(e),null;case 13:if(Je(rt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ze&&Pn!==null&&e.mode&1&&!(e.flags&128))SO(),Ps(),e.flags|=98560,o=!1;else if(o=Zf(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(J(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(J(317));o[_r]=e}else Ps(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Yt(e),o=!1}else ir!==null&&(Fv(ir),ir=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||rt.current&1?Pt===0&&(Pt=3):P1())),e.updateQueue!==null&&(e.flags|=4),Yt(e),null);case 4:return Os(),kv(t,e),t===null&&Yu(e.stateNode.containerInfo),Yt(e),null;case 10:return c1(e.type._context),Yt(e),null;case 17:return bn(e.type)&&rh(),Yt(e),null;case 19:if(Je(rt),o=e.memoizedState,o===null)return Yt(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)Jl(o,!1);else{if(Pt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=ch(t),a!==null){for(e.flags|=128,Jl(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return qe(rt,rt.current&1|2),e.child}t=t.sibling}o.tail!==null&&ht()>Cs&&(e.flags|=128,r=!0,Jl(o,!1),e.lanes=4194304)}else{if(!r)if(t=ch(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Jl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Ze)return Yt(e),null}else 2*ht()-o.renderingStartTime>Cs&&n!==1073741824&&(e.flags|=128,r=!0,Jl(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=ht(),e.sibling=null,n=rt.current,qe(rt,r?n&1|2:n&1),e):(Yt(e),null);case 22:case 23:return A1(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?En&1073741824&&(Yt(e),e.subtreeFlags&6&&(e.flags|=8192)):Yt(e),null;case 24:return null;case 25:return null}throw Error(J(156,e.tag))}function p$(t,e){switch(a1(e),e.tag){case 1:return bn(e.type)&&rh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Os(),Je(vn),Je(rn),m1(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return p1(e),null;case 13:if(Je(rt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(J(340));Ps()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Je(rt),null;case 4:return Os(),null;case 10:return c1(e.type._context),null;case 22:case 23:return A1(),null;case 24:return null;default:return null}}var nd=!1,Zt=!1,m$=typeof WeakSet=="function"?WeakSet:Set,ie=null;function rs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ut(t,e,r)}else n.current=null}function Cv(t,e,n){try{n()}catch(r){ut(t,e,r)}}var CS=!1;function g$(t,e){if(pv=Zd,t=cO(),i1(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,u=0,c=0,f=t,p=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(s=a+i),f!==o||r!==0&&f.nodeType!==3||(l=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===t)break t;if(p===n&&++u===i&&(s=a),p===o&&++c===r&&(l=a),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(mv={focusedElem:t,selectionRange:n},Zd=!1,ie=e;ie!==null;)if(e=ie,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ie=t;else for(;ie!==null;){e=ie;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,_=y.memoizedState,g=e.stateNode,x=g.getSnapshotBeforeUpdate(e.elementType===e.type?w:er(e.type,w),_);g.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(O){ut(e,e.return,O)}if(t=e.sibling,t!==null){t.return=e.return,ie=t;break}ie=e.return}return y=CS,CS=!1,y}function Iu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Cv(e,n,o)}i=i.next}while(i!==r)}}function Yp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function jv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function ak(t){var e=t.alternate;e!==null&&(t.alternate=null,ak(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[_r],delete e[Qu],delete e[vv],delete e[J5],delete e[Z5])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function sk(t){return t.tag===5||t.tag===3||t.tag===4}function jS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||sk(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Rv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=nh));else if(r!==4&&(t=t.child,t!==null))for(Rv(t,e,n),t=t.sibling;t!==null;)Rv(t,e,n),t=t.sibling}function Nv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Nv(t,e,n),t=t.sibling;t!==null;)Nv(t,e,n),t=t.sibling}var Vt=null,tr=!1;function Ai(t,e,n){for(n=n.child;n!==null;)lk(t,e,n),n=n.sibling}function lk(t,e,n){if(Sr&&typeof Sr.onCommitFiberUnmount=="function")try{Sr.onCommitFiberUnmount(Bp,n)}catch{}switch(n.tag){case 5:Zt||rs(n,e);case 6:var r=Vt,i=tr;Vt=null,Ai(t,e,n),Vt=r,tr=i,Vt!==null&&(tr?(t=Vt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Vt.removeChild(n.stateNode));break;case 18:Vt!==null&&(tr?(t=Vt,n=n.stateNode,t.nodeType===8?qg(t.parentNode,n):t.nodeType===1&&qg(t,n),qu(t)):qg(Vt,n.stateNode));break;case 4:r=Vt,i=tr,Vt=n.stateNode.containerInfo,tr=!0,Ai(t,e,n),Vt=r,tr=i;break;case 0:case 11:case 14:case 15:if(!Zt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&Cv(n,e,a),i=i.next}while(i!==r)}Ai(t,e,n);break;case 1:if(!Zt&&(rs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){ut(n,e,s)}Ai(t,e,n);break;case 21:Ai(t,e,n);break;case 22:n.mode&1?(Zt=(r=Zt)||n.memoizedState!==null,Ai(t,e,n),Zt=r):Ai(t,e,n);break;default:Ai(t,e,n)}}function RS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new m$),e.forEach(function(r){var i=T$.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Jn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 5:Vt=s.stateNode,tr=!1;break e;case 3:Vt=s.stateNode.containerInfo,tr=!0;break e;case 4:Vt=s.stateNode.containerInfo,tr=!0;break e}s=s.return}if(Vt===null)throw Error(J(160));lk(o,a,i),Vt=null,tr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){ut(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)uk(e,t),e=e.sibling}function uk(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Jn(e,t),vr(t),r&4){try{Iu(3,t,t.return),Yp(3,t)}catch(w){ut(t,t.return,w)}try{Iu(5,t,t.return)}catch(w){ut(t,t.return,w)}}break;case 1:Jn(e,t),vr(t),r&512&&n!==null&&rs(n,n.return);break;case 5:if(Jn(e,t),vr(t),r&512&&n!==null&&rs(n,n.return),t.flags&32){var i=t.stateNode;try{zu(i,"")}catch(w){ut(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&CI(i,o),iv(s,a);var u=iv(s,o);for(a=0;a<l.length;a+=2){var c=l[a],f=l[a+1];c==="style"?DI(i,f):c==="dangerouslySetInnerHTML"?NI(i,f):c==="children"?zu(i,f):Hb(i,c,f,u)}switch(s){case"input":Zy(i,o);break;case"textarea":jI(i,o);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?us(i,!!o.multiple,m,!1):p!==!!o.multiple&&(o.defaultValue!=null?us(i,!!o.multiple,o.defaultValue,!0):us(i,!!o.multiple,o.multiple?[]:"",!1))}i[Qu]=o}catch(w){ut(t,t.return,w)}}break;case 6:if(Jn(e,t),vr(t),r&4){if(t.stateNode===null)throw Error(J(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(w){ut(t,t.return,w)}}break;case 3:if(Jn(e,t),vr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{qu(e.containerInfo)}catch(w){ut(t,t.return,w)}break;case 4:Jn(e,t),vr(t);break;case 13:Jn(e,t),vr(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(E1=ht())),r&4&&RS(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Zt=(u=Zt)||c,Jn(e,t),Zt=u):Jn(e,t),vr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(ie=t,c=t.child;c!==null;){for(f=ie=c;ie!==null;){switch(p=ie,m=p.child,p.tag){case 0:case 11:case 14:case 15:Iu(4,p,p.return);break;case 1:rs(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(w){ut(r,n,w)}}break;case 5:rs(p,p.return);break;case 22:if(p.memoizedState!==null){MS(f);continue}}m!==null?(m.return=p,ie=m):MS(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=MI("display",a))}catch(w){ut(t,t.return,w)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(w){ut(t,t.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Jn(e,t),vr(t),r&4&&RS(t);break;case 21:break;default:Jn(e,t),vr(t)}}function vr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(sk(n)){var r=n;break e}n=n.return}throw Error(J(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(zu(i,""),r.flags&=-33);var o=jS(t);Nv(t,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=jS(t);Rv(t,s,a);break;default:throw Error(J(161))}}catch(l){ut(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function y$(t,e,n){ie=t,ck(t)}function ck(t,e,n){for(var r=(t.mode&1)!==0;ie!==null;){var i=ie,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||nd;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||Zt;s=nd;var u=Zt;if(nd=a,(Zt=l)&&!u)for(ie=i;ie!==null;)a=ie,l=a.child,a.tag===22&&a.memoizedState!==null?DS(i):l!==null?(l.return=a,ie=l):DS(i);for(;o!==null;)ie=o,ck(o),o=o.sibling;ie=i,nd=s,Zt=u}NS(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,ie=o):NS(t)}}function NS(t){for(;ie!==null;){var e=ie;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Zt||Yp(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Zt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:er(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&vS(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}vS(e,a,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&qu(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}Zt||e.flags&512&&jv(e)}catch(p){ut(e,e.return,p)}}if(e===t){ie=null;break}if(n=e.sibling,n!==null){n.return=e.return,ie=n;break}ie=e.return}}function MS(t){for(;ie!==null;){var e=ie;if(e===t){ie=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ie=n;break}ie=e.return}}function DS(t){for(;ie!==null;){var e=ie;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Yp(4,e)}catch(l){ut(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){ut(e,i,l)}}var o=e.return;try{jv(e)}catch(l){ut(e,o,l)}break;case 5:var a=e.return;try{jv(e)}catch(l){ut(e,a,l)}}}catch(l){ut(e,e.return,l)}if(e===t){ie=null;break}var s=e.sibling;if(s!==null){s.return=e.return,ie=s;break}ie=e.return}}var v$=Math.ceil,hh=hi.ReactCurrentDispatcher,w1=hi.ReactCurrentOwner,Wn=hi.ReactCurrentBatchConfig,Ie=0,$t=null,vt=null,Wt=0,En=0,is=yo(0),Pt=0,rc=null,ca=0,Xp=0,S1=0,Ou=null,pn=null,E1=0,Cs=1/0,Br=null,ph=!1,Mv=null,Yi=null,rd=!1,Vi=null,mh=0,ku=0,Dv=null,Md=-1,Dd=0;function un(){return Ie&6?ht():Md!==-1?Md:Md=ht()}function Xi(t){return t.mode&1?Ie&2&&Wt!==0?Wt&-Wt:t$.transition!==null?(Dd===0&&(Dd=KI()),Dd):(t=De,t!==0||(t=window.event,t=t===void 0?16:tO(t.type)),t):1}function cr(t,e,n,r){if(50<ku)throw ku=0,Dv=null,Error(J(185));nf(t,n,r),(!(Ie&2)||t!==$t)&&(t===$t&&(!(Ie&2)&&(Xp|=n),Pt===4&&Ri(t,Wt)),xn(t,r),n===1&&Ie===0&&!(e.mode&1)&&(Cs=ht()+500,qp&&vo()))}function xn(t,e){var n=t.callbackNode;t5(t,e);var r=Jd(t,t===$t?Wt:0);if(r===0)n!==null&&Hw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Hw(n),e===1)t.tag===0?e$($S.bind(null,t)):xO($S.bind(null,t)),X5(function(){!(Ie&6)&&vo()}),n=null;else{switch(YI(r)){case 1:n=Xb;break;case 4:n=qI;break;case 16:n=Qd;break;case 536870912:n=GI;break;default:n=Qd}n=vk(n,fk.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function fk(t,e){if(Md=-1,Dd=0,Ie&6)throw Error(J(327));var n=t.callbackNode;if(ps()&&t.callbackNode!==n)return null;var r=Jd(t,t===$t?Wt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=gh(t,r);else{e=r;var i=Ie;Ie|=2;var o=hk();($t!==t||Wt!==e)&&(Br=null,Cs=ht()+500,ea(t,e));do try{_$();break}catch(s){dk(t,s)}while(!0);u1(),hh.current=o,Ie=i,vt!==null?e=0:($t=null,Wt=0,e=Pt)}if(e!==0){if(e===2&&(i=uv(t),i!==0&&(r=i,e=$v(t,i))),e===1)throw n=rc,ea(t,0),Ri(t,r),xn(t,ht()),n;if(e===6)Ri(t,r);else{if(i=t.current.alternate,!(r&30)&&!b$(i)&&(e=gh(t,r),e===2&&(o=uv(t),o!==0&&(r=o,e=$v(t,o))),e===1))throw n=rc,ea(t,0),Ri(t,r),xn(t,ht()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(J(345));case 2:Vo(t,pn,Br);break;case 3:if(Ri(t,r),(r&130023424)===r&&(e=E1+500-ht(),10<e)){if(Jd(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){un(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=yv(Vo.bind(null,t,pn,Br),e);break}Vo(t,pn,Br);break;case 4:if(Ri(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-ur(r);o=1<<a,a=e[a],a>i&&(i=a),r&=~o}if(r=i,r=ht()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*v$(r/1960))-r,10<r){t.timeoutHandle=yv(Vo.bind(null,t,pn,Br),r);break}Vo(t,pn,Br);break;case 5:Vo(t,pn,Br);break;default:throw Error(J(329))}}}return xn(t,ht()),t.callbackNode===n?fk.bind(null,t):null}function $v(t,e){var n=Ou;return t.current.memoizedState.isDehydrated&&(ea(t,e).flags|=256),t=gh(t,e),t!==2&&(e=pn,pn=n,e!==null&&Fv(e)),t}function Fv(t){pn===null?pn=t:pn.push.apply(pn,t)}function b$(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!hr(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ri(t,e){for(e&=~S1,e&=~Xp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ur(e),r=1<<n;t[n]=-1,e&=~r}}function $S(t){if(Ie&6)throw Error(J(327));ps();var e=Jd(t,0);if(!(e&1))return xn(t,ht()),null;var n=gh(t,e);if(t.tag!==0&&n===2){var r=uv(t);r!==0&&(e=r,n=$v(t,r))}if(n===1)throw n=rc,ea(t,0),Ri(t,e),xn(t,ht()),n;if(n===6)throw Error(J(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Vo(t,pn,Br),xn(t,ht()),null}function T1(t,e){var n=Ie;Ie|=1;try{return t(e)}finally{Ie=n,Ie===0&&(Cs=ht()+500,qp&&vo())}}function fa(t){Vi!==null&&Vi.tag===0&&!(Ie&6)&&ps();var e=Ie;Ie|=1;var n=Wn.transition,r=De;try{if(Wn.transition=null,De=1,t)return t()}finally{De=r,Wn.transition=n,Ie=e,!(Ie&6)&&vo()}}function A1(){En=is.current,Je(is)}function ea(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Y5(n)),vt!==null)for(n=vt.return;n!==null;){var r=n;switch(a1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&rh();break;case 3:Os(),Je(vn),Je(rn),m1();break;case 5:p1(r);break;case 4:Os();break;case 13:Je(rt);break;case 19:Je(rt);break;case 10:c1(r.type._context);break;case 22:case 23:A1()}n=n.return}if($t=t,vt=t=Qi(t.current,null),Wt=En=e,Pt=0,rc=null,S1=Xp=ca=0,pn=Ou=null,qo!==null){for(e=0;e<qo.length;e++)if(n=qo[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}qo=null}return t}function dk(t,e){do{var n=vt;try{if(u1(),jd.current=dh,fh){for(var r=ot.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}fh=!1}if(ua=0,Mt=Tt=ot=null,Pu=!1,ec=0,w1.current=null,n===null||n.return===null){Pt=1,rc=e,vt=null;break}e:{var o=t,a=n.return,s=n,l=e;if(e=Wt,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var p=c.alternate;p?(c.updateQueue=p.updateQueue,c.memoizedState=p.memoizedState,c.lanes=p.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=ES(a);if(m!==null){m.flags&=-257,TS(m,a,s,o,e),m.mode&1&&SS(o,u,e),e=m,l=u;var y=e.updateQueue;if(y===null){var w=new Set;w.add(l),e.updateQueue=w}else y.add(l);break e}else{if(!(e&1)){SS(o,u,e),P1();break e}l=Error(J(426))}}else if(Ze&&s.mode&1){var _=ES(a);if(_!==null){!(_.flags&65536)&&(_.flags|=256),TS(_,a,s,o,e),s1(ks(l,s));break e}}o=l=ks(l,s),Pt!==4&&(Pt=2),Ou===null?Ou=[o]:Ou.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var g=YO(o,l,e);yS(o,g);break e;case 1:s=l;var x=o.type,S=o.stateNode;if(!(o.flags&128)&&(typeof x.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Yi===null||!Yi.has(S)))){o.flags|=65536,e&=-e,o.lanes|=e;var O=XO(o,s,e);yS(o,O);break e}}o=o.return}while(o!==null)}mk(n)}catch(E){e=E,vt===n&&n!==null&&(vt=n=n.return);continue}break}while(!0)}function hk(){var t=hh.current;return hh.current=dh,t===null?dh:t}function P1(){(Pt===0||Pt===3||Pt===2)&&(Pt=4),$t===null||!(ca&268435455)&&!(Xp&268435455)||Ri($t,Wt)}function gh(t,e){var n=Ie;Ie|=2;var r=hk();($t!==t||Wt!==e)&&(Br=null,ea(t,e));do try{x$();break}catch(i){dk(t,i)}while(!0);if(u1(),Ie=n,hh.current=r,vt!==null)throw Error(J(261));return $t=null,Wt=0,Pt}function x$(){for(;vt!==null;)pk(vt)}function _$(){for(;vt!==null&&!q4();)pk(vt)}function pk(t){var e=yk(t.alternate,t,En);t.memoizedProps=t.pendingProps,e===null?mk(t):vt=e,w1.current=null}function mk(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=p$(n,e),n!==null){n.flags&=32767,vt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Pt=6,vt=null;return}}else if(n=h$(n,e,En),n!==null){vt=n;return}if(e=e.sibling,e!==null){vt=e;return}vt=e=t}while(e!==null);Pt===0&&(Pt=5)}function Vo(t,e,n){var r=De,i=Wn.transition;try{Wn.transition=null,De=1,w$(t,e,n,r)}finally{Wn.transition=i,De=r}return null}function w$(t,e,n,r){do ps();while(Vi!==null);if(Ie&6)throw Error(J(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(J(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(n5(t,o),t===$t&&(vt=$t=null,Wt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||rd||(rd=!0,vk(Qd,function(){return ps(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Wn.transition,Wn.transition=null;var a=De;De=1;var s=Ie;Ie|=4,w1.current=null,g$(t,n),uk(n,t),z5(mv),Zd=!!pv,mv=pv=null,t.current=n,y$(n),G4(),Ie=s,De=a,Wn.transition=o}else t.current=n;if(rd&&(rd=!1,Vi=t,mh=i),o=t.pendingLanes,o===0&&(Yi=null),X4(n.stateNode),xn(t,ht()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ph)throw ph=!1,t=Mv,Mv=null,t;return mh&1&&t.tag!==0&&ps(),o=t.pendingLanes,o&1?t===Dv?ku++:(ku=0,Dv=t):ku=0,vo(),null}function ps(){if(Vi!==null){var t=YI(mh),e=Wn.transition,n=De;try{if(Wn.transition=null,De=16>t?16:t,Vi===null)var r=!1;else{if(t=Vi,Vi=null,mh=0,Ie&6)throw Error(J(331));var i=Ie;for(Ie|=4,ie=t.current;ie!==null;){var o=ie,a=o.child;if(ie.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(ie=u;ie!==null;){var c=ie;switch(c.tag){case 0:case 11:case 15:Iu(8,c,o)}var f=c.child;if(f!==null)f.return=c,ie=f;else for(;ie!==null;){c=ie;var p=c.sibling,m=c.return;if(ak(c),c===u){ie=null;break}if(p!==null){p.return=m,ie=p;break}ie=m}}}var y=o.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var _=w.sibling;w.sibling=null,w=_}while(w!==null)}}ie=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,ie=a;else e:for(;ie!==null;){if(o=ie,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Iu(9,o,o.return)}var g=o.sibling;if(g!==null){g.return=o.return,ie=g;break e}ie=o.return}}var x=t.current;for(ie=x;ie!==null;){a=ie;var S=a.child;if(a.subtreeFlags&2064&&S!==null)S.return=a,ie=S;else e:for(a=x;ie!==null;){if(s=ie,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Yp(9,s)}}catch(E){ut(s,s.return,E)}if(s===a){ie=null;break e}var O=s.sibling;if(O!==null){O.return=s.return,ie=O;break e}ie=s.return}}if(Ie=i,vo(),Sr&&typeof Sr.onPostCommitFiberRoot=="function")try{Sr.onPostCommitFiberRoot(Bp,t)}catch{}r=!0}return r}finally{De=n,Wn.transition=e}}return!1}function FS(t,e,n){e=ks(n,e),e=YO(t,e,1),t=Ki(t,e,1),e=un(),t!==null&&(nf(t,1,e),xn(t,e))}function ut(t,e,n){if(t.tag===3)FS(t,t,n);else for(;e!==null;){if(e.tag===3){FS(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Yi===null||!Yi.has(r))){t=ks(n,t),t=XO(e,t,1),e=Ki(e,t,1),t=un(),e!==null&&(nf(e,1,t),xn(e,t));break}}e=e.return}}function S$(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=un(),t.pingedLanes|=t.suspendedLanes&n,$t===t&&(Wt&n)===n&&(Pt===4||Pt===3&&(Wt&130023424)===Wt&&500>ht()-E1?ea(t,0):S1|=n),xn(t,e)}function gk(t,e){e===0&&(t.mode&1?(e=Gf,Gf<<=1,!(Gf&130023424)&&(Gf=4194304)):e=1);var n=un();t=ri(t,e),t!==null&&(nf(t,e,n),xn(t,n))}function E$(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),gk(t,n)}function T$(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(J(314))}r!==null&&r.delete(e),gk(t,n)}var yk;yk=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||vn.current)gn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return gn=!1,d$(t,e,n);gn=!!(t.flags&131072)}else gn=!1,Ze&&e.flags&1048576&&_O(e,ah,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Nd(t,e),t=e.pendingProps;var i=As(e,rn.current);hs(e,n),i=y1(null,e,r,t,i,n);var o=v1();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,bn(r)?(o=!0,ih(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,d1(e),i.updater=Kp,e.stateNode=i,i._reactInternals=e,Ev(e,r,t,n),e=Pv(null,e,r,!0,o,n)):(e.tag=0,Ze&&o&&o1(e),sn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Nd(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=P$(r),t=er(r,t),i){case 0:e=Av(null,e,r,t,n);break e;case 1:e=IS(null,e,r,t,n);break e;case 11:e=AS(null,e,r,t,n);break e;case 14:e=PS(null,e,r,er(r.type,t),n);break e}throw Error(J(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:er(r,i),Av(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:er(r,i),IS(t,e,r,i,n);case 3:e:{if(ek(e),t===null)throw Error(J(387));r=e.pendingProps,o=e.memoizedState,i=o.element,PO(t,e),uh(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=ks(Error(J(423)),e),e=OS(t,e,r,n,i);break e}else if(r!==i){i=ks(Error(J(424)),e),e=OS(t,e,r,n,i);break e}else for(Pn=Gi(e.stateNode.containerInfo.firstChild),On=e,Ze=!0,ir=null,n=TO(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ps(),r===i){e=ii(t,e,n);break e}sn(t,e,r,n)}e=e.child}return e;case 5:return IO(e),t===null&&_v(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,gv(r,i)?a=null:o!==null&&gv(r,o)&&(e.flags|=32),ZO(t,e),sn(t,e,a,n),e.child;case 6:return t===null&&_v(e),null;case 13:return tk(t,e,n);case 4:return h1(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Is(e,null,r,n):sn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:er(r,i),AS(t,e,r,i,n);case 7:return sn(t,e,e.pendingProps,n),e.child;case 8:return sn(t,e,e.pendingProps.children,n),e.child;case 12:return sn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,qe(sh,r._currentValue),r._currentValue=a,o!==null)if(hr(o.value,a)){if(o.children===i.children&&!vn.current){e=ii(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Xr(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),wv(o.return,n,e),s.lanes|=n;break}l=l.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(J(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),wv(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}sn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,hs(e,n),i=qn(i),r=r(i),e.flags|=1,sn(t,e,r,n),e.child;case 14:return r=e.type,i=er(r,e.pendingProps),i=er(r.type,i),PS(t,e,r,i,n);case 15:return QO(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:er(r,i),Nd(t,e),e.tag=1,bn(r)?(t=!0,ih(e)):t=!1,hs(e,n),KO(e,r,i),Ev(e,r,i,n),Pv(null,e,r,!0,t,n);case 19:return nk(t,e,n);case 22:return JO(t,e,n)}throw Error(J(156,e.tag))};function vk(t,e){return HI(t,e)}function A$(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(t,e,n,r){return new A$(t,e,n,r)}function I1(t){return t=t.prototype,!(!t||!t.isReactComponent)}function P$(t){if(typeof t=="function")return I1(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Gb)return 11;if(t===Kb)return 14}return 2}function Qi(t,e){var n=t.alternate;return n===null?(n=zn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function $d(t,e,n,r,i,o){var a=2;if(r=t,typeof t=="function")I1(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Ka:return ta(n.children,i,o,e);case qb:a=8,i|=8;break;case Ky:return t=zn(12,n,e,i|2),t.elementType=Ky,t.lanes=o,t;case Yy:return t=zn(13,n,e,i),t.elementType=Yy,t.lanes=o,t;case Xy:return t=zn(19,n,e,i),t.elementType=Xy,t.lanes=o,t;case II:return Qp(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case AI:a=10;break e;case PI:a=9;break e;case Gb:a=11;break e;case Kb:a=14;break e;case Oi:a=16,r=null;break e}throw Error(J(130,t==null?t:typeof t,""))}return e=zn(a,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function ta(t,e,n,r){return t=zn(7,t,r,e),t.lanes=n,t}function Qp(t,e,n,r){return t=zn(22,t,r,e),t.elementType=II,t.lanes=n,t.stateNode={isHidden:!1},t}function ey(t,e,n){return t=zn(6,t,null,e),t.lanes=n,t}function ty(t,e,n){return e=zn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function I$(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mg(0),this.expirationTimes=Mg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mg(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function O1(t,e,n,r,i,o,a,s,l){return t=new I$(t,e,n,s,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=zn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},d1(o),t}function O$(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ga,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function bk(t){if(!t)return so;t=t._reactInternals;e:{if(Aa(t)!==t||t.tag!==1)throw Error(J(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(bn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(J(171))}if(t.tag===1){var n=t.type;if(bn(n))return bO(t,n,e)}return e}function xk(t,e,n,r,i,o,a,s,l){return t=O1(n,r,!0,t,i,o,a,s,l),t.context=bk(null),n=t.current,r=un(),i=Xi(n),o=Xr(r,i),o.callback=e??null,Ki(n,o,i),t.current.lanes=i,nf(t,i,r),xn(t,r),t}function Jp(t,e,n,r){var i=e.current,o=un(),a=Xi(i);return n=bk(n),e.context===null?e.context=n:e.pendingContext=n,e=Xr(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ki(i,e,a),t!==null&&(cr(t,i,a,o),Cd(t,i,a)),a}function yh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function LS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function k1(t,e){LS(t,e),(t=t.alternate)&&LS(t,e)}function k$(){return null}var _k=typeof reportError=="function"?reportError:function(t){console.error(t)};function C1(t){this._internalRoot=t}Zp.prototype.render=C1.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(J(409));Jp(t,e,null,null)};Zp.prototype.unmount=C1.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;fa(function(){Jp(null,t,null,null)}),e[ni]=null}};function Zp(t){this._internalRoot=t}Zp.prototype.unstable_scheduleHydration=function(t){if(t){var e=JI();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ji.length&&e!==0&&e<ji[n].priority;n++);ji.splice(n,0,t),n===0&&eO(t)}};function j1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function em(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function VS(){}function C$(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=yh(a);o.call(u)}}var a=xk(e,r,t,0,null,!1,!1,"",VS);return t._reactRootContainer=a,t[ni]=a.current,Yu(t.nodeType===8?t.parentNode:t),fa(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=yh(l);s.call(u)}}var l=O1(t,0,!1,null,null,!1,!1,"",VS);return t._reactRootContainer=l,t[ni]=l.current,Yu(t.nodeType===8?t.parentNode:t),fa(function(){Jp(e,l,n,r)}),l}function tm(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=yh(a);s.call(l)}}Jp(e,a,t,i)}else a=C$(n,e,t,i,r);return yh(a)}XI=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=hu(e.pendingLanes);n!==0&&(Qb(e,n|1),xn(e,ht()),!(Ie&6)&&(Cs=ht()+500,vo()))}break;case 13:fa(function(){var r=ri(t,1);if(r!==null){var i=un();cr(r,t,1,i)}}),k1(t,1)}};Jb=function(t){if(t.tag===13){var e=ri(t,134217728);if(e!==null){var n=un();cr(e,t,134217728,n)}k1(t,134217728)}};QI=function(t){if(t.tag===13){var e=Xi(t),n=ri(t,e);if(n!==null){var r=un();cr(n,t,e,r)}k1(t,e)}};JI=function(){return De};ZI=function(t,e){var n=De;try{return De=t,e()}finally{De=n}};av=function(t,e,n){switch(e){case"input":if(Zy(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Hp(r);if(!i)throw Error(J(90));kI(r),Zy(r,i)}}}break;case"textarea":jI(t,n);break;case"select":e=n.value,e!=null&&us(t,!!n.multiple,e,!1)}};LI=T1;VI=fa;var j$={usingClientEntryPoint:!1,Events:[of,Ja,Hp,$I,FI,T1]},Zl={findFiberByHostInstance:Ho,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},R$={bundleType:Zl.bundleType,version:Zl.version,rendererPackageName:Zl.rendererPackageName,rendererConfig:Zl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:hi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=UI(t),t===null?null:t.stateNode},findFiberByHostInstance:Zl.findFiberByHostInstance||k$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var id=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!id.isDisabled&&id.supportsFiber)try{Bp=id.inject(R$),Sr=id}catch{}}jn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j$;jn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!j1(e))throw Error(J(200));return O$(t,e,null,n)};jn.createRoot=function(t,e){if(!j1(t))throw Error(J(299));var n=!1,r="",i=_k;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=O1(t,1,!1,null,null,n,!1,r,i),t[ni]=e.current,Yu(t.nodeType===8?t.parentNode:t),new C1(e)};jn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(J(188)):(t=Object.keys(t).join(","),Error(J(268,t)));return t=UI(e),t=t===null?null:t.stateNode,t};jn.flushSync=function(t){return fa(t)};jn.hydrate=function(t,e,n){if(!em(e))throw Error(J(200));return tm(null,t,e,!0,n)};jn.hydrateRoot=function(t,e,n){if(!j1(t))throw Error(J(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=_k;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=xk(e,null,t,1,n??null,i,!1,o,a),t[ni]=e.current,Yu(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Zp(e)};jn.render=function(t,e,n){if(!em(e))throw Error(J(200));return tm(null,t,e,!1,n)};jn.unmountComponentAtNode=function(t){if(!em(t))throw Error(J(40));return t._reactRootContainer?(fa(function(){tm(null,null,t,!1,function(){t._reactRootContainer=null,t[ni]=null})}),!0):!1};jn.unstable_batchedUpdates=T1;jn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!em(n))throw Error(J(200));if(t==null||t._reactInternals===void 0)throw Error(J(38));return tm(t,e,n,!1,r)};jn.version="18.3.1-next-f1338f8080-20240426";function wk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(wk)}catch(t){console.error(t)}}wk(),wI.exports=jn;var N$=wI.exports,BS=N$;qy.createRoot=BS.createRoot,qy.hydrateRoot=BS.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ic(){return ic=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ic.apply(this,arguments)}var Bi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Bi||(Bi={}));const zS="popstate";function M$(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:a,hash:s}=r.location;return Lv("",{pathname:o,search:a,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:vh(i)}return $$(e,n,null,t)}function pt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function R1(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function D$(){return Math.random().toString(36).substr(2,8)}function US(t,e){return{usr:t.state,key:t.key,idx:e}}function Lv(t,e,n,r){return n===void 0&&(n=null),ic({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?cl(e):e,{state:n,key:e&&e.key||r||D$()})}function vh(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function cl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function $$(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,s=Bi.Pop,l=null,u=c();u==null&&(u=0,a.replaceState(ic({},a.state,{idx:u}),""));function c(){return(a.state||{idx:null}).idx}function f(){s=Bi.Pop;let _=c(),g=_==null?null:_-u;u=_,l&&l({action:s,location:w.location,delta:g})}function p(_,g){s=Bi.Push;let x=Lv(w.location,_,g);u=c()+1;let S=US(x,u),O=w.createHref(x);try{a.pushState(S,"",O)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(O)}o&&l&&l({action:s,location:w.location,delta:1})}function m(_,g){s=Bi.Replace;let x=Lv(w.location,_,g);u=c();let S=US(x,u),O=w.createHref(x);a.replaceState(S,"",O),o&&l&&l({action:s,location:w.location,delta:0})}function y(_){let g=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof _=="string"?_:vh(_);return x=x.replace(/ $/,"%20"),pt(g,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,g)}let w={get action(){return s},get location(){return t(i,a)},listen(_){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(zS,f),l=_,()=>{i.removeEventListener(zS,f),l=null}},createHref(_){return e(i,_)},createURL:y,encodeLocation(_){let g=y(_);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:p,replace:m,go(_){return a.go(_)}};return w}var WS;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(WS||(WS={}));function F$(t,e,n){return n===void 0&&(n="/"),L$(t,e,n)}function L$(t,e,n,r){let i=typeof e=="string"?cl(e):e,o=N1(i.pathname||"/",n);if(o==null)return null;let a=Sk(t);V$(a);let s=null;for(let l=0;s==null&&l<a.length;++l){let u=J$(o);s=Y$(a[l],u)}return s}function Sk(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,a,s)=>{let l={relativePath:s===void 0?o.path||"":s,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};l.relativePath.startsWith("/")&&(pt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Ji([r,l.relativePath]),c=n.concat(l);o.children&&o.children.length>0&&(pt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Sk(o.children,e,c,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:G$(u,o.index),routesMeta:c})};return t.forEach((o,a)=>{var s;if(o.path===""||!((s=o.path)!=null&&s.includes("?")))i(o,a);else for(let l of Ek(o.path))i(o,a,l)}),e}function Ek(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=Ek(r.join("/")),s=[];return s.push(...a.map(l=>l===""?o:[o,l].join("/"))),i&&s.push(...a),s.map(l=>t.startsWith("/")&&l===""?"/":l)}function V$(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:K$(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const B$=/^:[\w-]+$/,z$=3,U$=2,W$=1,H$=10,q$=-2,HS=t=>t==="*";function G$(t,e){let n=t.split("/"),r=n.length;return n.some(HS)&&(r+=q$),e&&(r+=U$),n.filter(i=>!HS(i)).reduce((i,o)=>i+(B$.test(o)?z$:o===""?W$:H$),r)}function K$(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Y$(t,e,n){let{routesMeta:r}=t,i={},o="/",a=[];for(let s=0;s<r.length;++s){let l=r[s],u=s===r.length-1,c=o==="/"?e:e.slice(o.length)||"/",f=X$({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),p=l.route;if(!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:Ji([o,f.pathname]),pathnameBase:r3(Ji([o,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(o=Ji([o,f.pathnameBase]))}return a}function X$(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Q$(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((u,c,f)=>{let{paramName:p,isOptional:m}=c;if(p==="*"){let w=s[f]||"";a=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const y=s[f];return m&&!y?u[p]=void 0:u[p]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:a,pattern:t}}function Q$(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),R1(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,s,l)=>(r.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function J$(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return R1(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function N1(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const Z$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,e3=t=>Z$.test(t);function t3(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?cl(t):t,o;if(n)if(e3(n))o=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),R1(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+n))}n.startsWith("/")?o=qS(n.substring(1),"/"):o=qS(n,e)}else o=e;return{pathname:o,search:i3(r),hash:o3(i)}}function qS(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function ny(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function n3(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function M1(t,e){let n=n3(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function D1(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=cl(t):(i=ic({},t),pt(!i.pathname||!i.pathname.includes("?"),ny("?","pathname","search",i)),pt(!i.pathname||!i.pathname.includes("#"),ny("#","pathname","hash",i)),pt(!i.search||!i.search.includes("#"),ny("#","search","hash",i)));let o=t===""||i.pathname==="",a=o?"/":i.pathname,s;if(a==null)s=n;else{let f=e.length-1;if(!r&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}s=f>=0?e[f]:"/"}let l=t3(i,s),u=a&&a!=="/"&&a.endsWith("/"),c=(o||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Ji=t=>t.join("/").replace(/\/\/+/g,"/"),r3=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),i3=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,o3=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function a3(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Tk=["post","put","patch","delete"];new Set(Tk);const s3=["get",...Tk];new Set(s3);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function oc(){return oc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oc.apply(this,arguments)}const $1=M.createContext(null),l3=M.createContext(null),bo=M.createContext(null),nm=M.createContext(null),xo=M.createContext({outlet:null,matches:[],isDataRoute:!1}),Ak=M.createContext(null);function u3(t,e){let{relative:n}=e===void 0?{}:e;fl()||pt(!1);let{basename:r,navigator:i}=M.useContext(bo),{hash:o,pathname:a,search:s}=Ik(t,{relative:n}),l=a;return r!=="/"&&(l=a==="/"?r:Ji([r,a])),i.createHref({pathname:l,search:s,hash:o})}function fl(){return M.useContext(nm)!=null}function sf(){return fl()||pt(!1),M.useContext(nm).location}function Pk(t){M.useContext(bo).static||M.useLayoutEffect(t)}function _o(){let{isDataRoute:t}=M.useContext(xo);return t?w3():c3()}function c3(){fl()||pt(!1);let t=M.useContext($1),{basename:e,future:n,navigator:r}=M.useContext(bo),{matches:i}=M.useContext(xo),{pathname:o}=sf(),a=JSON.stringify(M1(i,n.v7_relativeSplatPath)),s=M.useRef(!1);return Pk(()=>{s.current=!0}),M.useCallback(function(u,c){if(c===void 0&&(c={}),!s.current)return;if(typeof u=="number"){r.go(u);return}let f=D1(u,JSON.parse(a),o,c.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Ji([e,f.pathname])),(c.replace?r.replace:r.push)(f,c.state,c)},[e,r,a,o,t])}function Ik(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=M.useContext(bo),{matches:i}=M.useContext(xo),{pathname:o}=sf(),a=JSON.stringify(M1(i,r.v7_relativeSplatPath));return M.useMemo(()=>D1(t,JSON.parse(a),o,n==="path"),[t,a,o,n])}function f3(t,e){return d3(t,e)}function d3(t,e,n,r){fl()||pt(!1);let{navigator:i}=M.useContext(bo),{matches:o}=M.useContext(xo),a=o[o.length-1],s=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=sf(),c;if(e){var f;let _=typeof e=="string"?cl(e):e;l==="/"||(f=_.pathname)!=null&&f.startsWith(l)||pt(!1),c=_}else c=u;let p=c.pathname||"/",m=p;if(l!=="/"){let _=l.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(_.length).join("/")}let y=F$(t,{pathname:m}),w=y3(y&&y.map(_=>Object.assign({},_,{params:Object.assign({},s,_.params),pathname:Ji([l,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:Ji([l,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),o,n,r);return e&&w?M.createElement(nm.Provider,{value:{location:oc({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Bi.Pop}},w):w}function h3(){let t=_3(),e=a3(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),n?M.createElement("pre",{style:i},n):null,null)}const p3=M.createElement(h3,null);class m3 extends M.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?M.createElement(xo.Provider,{value:this.props.routeContext},M.createElement(Ak.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function g3(t){let{routeContext:e,match:n,children:r}=t,i=M.useContext($1);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),M.createElement(xo.Provider,{value:e},r)}function y3(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,s=(i=n)==null?void 0:i.errors;if(s!=null){let c=a.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);c>=0||pt(!1),a=a.slice(0,Math.min(a.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<a.length;c++){let f=a[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=c),f.route.id){let{loaderData:p,errors:m}=n,y=f.route.loader&&p[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||y){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((c,f,p)=>{let m,y=!1,w=null,_=null;n&&(m=s&&f.route.id?s[f.route.id]:void 0,w=f.route.errorElement||p3,l&&(u<0&&p===0?(S3("route-fallback"),y=!0,_=null):u===p&&(y=!0,_=f.route.hydrateFallbackElement||null)));let g=e.concat(a.slice(0,p+1)),x=()=>{let S;return m?S=w:y?S=_:f.route.Component?S=M.createElement(f.route.Component,null):f.route.element?S=f.route.element:S=c,M.createElement(g3,{match:f,routeContext:{outlet:c,matches:g,isDataRoute:n!=null},children:S})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?M.createElement(m3,{location:n.location,revalidation:n.revalidation,component:w,error:m,children:x(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):x()},null)}var Ok=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Ok||{}),kk=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(kk||{});function v3(t){let e=M.useContext($1);return e||pt(!1),e}function b3(t){let e=M.useContext(l3);return e||pt(!1),e}function x3(t){let e=M.useContext(xo);return e||pt(!1),e}function Ck(t){let e=x3(),n=e.matches[e.matches.length-1];return n.route.id||pt(!1),n.route.id}function _3(){var t;let e=M.useContext(Ak),n=b3(),r=Ck();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function w3(){let{router:t}=v3(Ok.UseNavigateStable),e=Ck(kk.UseNavigateStable),n=M.useRef(!1);return Pk(()=>{n.current=!0}),M.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,oc({fromRouteId:e},o)))},[t,e])}const GS={};function S3(t,e,n){GS[t]||(GS[t]=!0)}function E3(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function jk(t){let{to:e,replace:n,state:r,relative:i}=t;fl()||pt(!1);let{future:o,static:a}=M.useContext(bo),{matches:s}=M.useContext(xo),{pathname:l}=sf(),u=_o(),c=D1(e,M1(s,o.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(c);return M.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:i}),[u,f,i,n,r]),null}function Ii(t){pt(!1)}function T3(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Bi.Pop,navigator:o,static:a=!1,future:s}=t;fl()&&pt(!1);let l=e.replace(/^\/*/,"/"),u=M.useMemo(()=>({basename:l,navigator:o,static:a,future:oc({v7_relativeSplatPath:!1},s)}),[l,s,o,a]);typeof r=="string"&&(r=cl(r));let{pathname:c="/",search:f="",hash:p="",state:m=null,key:y="default"}=r,w=M.useMemo(()=>{let _=N1(c,l);return _==null?null:{location:{pathname:_,search:f,hash:p,state:m,key:y},navigationType:i}},[l,c,f,p,m,y,i]);return w==null?null:M.createElement(bo.Provider,{value:u},M.createElement(nm.Provider,{children:n,value:w}))}function A3(t){let{children:e,location:n}=t;return f3(Vv(e),n)}new Promise(()=>{});function Vv(t,e){e===void 0&&(e=[]);let n=[];return M.Children.forEach(t,(r,i)=>{if(!M.isValidElement(r))return;let o=[...e,i];if(r.type===M.Fragment){n.push.apply(n,Vv(r.props.children,o));return}r.type!==Ii&&pt(!1),!r.props.index||!r.props.children||pt(!1);let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Vv(r.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bv(){return Bv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bv.apply(this,arguments)}function P3(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function I3(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function O3(t,e){return t.button===0&&(!e||e==="_self")&&!I3(t)}const k3=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],C3="6";try{window.__reactRouterVersion=C3}catch{}const j3="startTransition",KS=S4[j3];function R3(t){let{basename:e,children:n,future:r,window:i}=t,o=M.useRef();o.current==null&&(o.current=M$({window:i,v5Compat:!0}));let a=o.current,[s,l]=M.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},c=M.useCallback(f=>{u&&KS?KS(()=>l(f)):l(f)},[l,u]);return M.useLayoutEffect(()=>a.listen(c),[a,c]),M.useEffect(()=>E3(r),[r]),M.createElement(T3,{basename:e,children:n,location:s.location,navigationType:s.action,navigator:a,future:r})}const N3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",M3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ko=M.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:a,state:s,target:l,to:u,preventScrollReset:c,viewTransition:f}=e,p=P3(e,k3),{basename:m}=M.useContext(bo),y,w=!1;if(typeof u=="string"&&M3.test(u)&&(y=u,N3))try{let S=new URL(window.location.href),O=u.startsWith("//")?new URL(S.protocol+u):new URL(u),E=N1(O.pathname,m);O.origin===S.origin&&E!=null?u=E+O.search+O.hash:w=!0}catch{}let _=u3(u,{relative:i}),g=D3(u,{replace:a,state:s,target:l,preventScrollReset:c,relative:i,viewTransition:f});function x(S){r&&r(S),S.defaultPrevented||g(S)}return M.createElement("a",Bv({},p,{href:y||_,onClick:w||o?r:x,ref:n,target:l}))});var YS;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(YS||(YS={}));var XS;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(XS||(XS={}));function D3(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:a,viewTransition:s}=e===void 0?{}:e,l=_o(),u=sf(),c=Ik(t,{relative:a});return M.useCallback(f=>{if(O3(f,n)){f.preventDefault();let p=r!==void 0?r:vh(u)===vh(c);l(t,{replace:p,state:i,preventScrollReset:o,relative:a,viewTransition:s})}},[u,l,c,r,i,n,t,o,a,s])}const $3=()=>{};var QS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rk=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},F3=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],a=t[n++],s=t[n++],l=((i&7)<<18|(o&63)<<12|(a&63)<<6|s&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},Nk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],a=i+1<t.length,s=a?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,f=(o&3)<<4|s>>4;let p=(s&15)<<2|u>>6,m=u&63;l||(m=64,a||(p=64)),r.push(n[c],n[f],n[p],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Rk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):F3(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||s==null||u==null||f==null)throw new L3;const p=o<<2|s>>4;if(r.push(p),u!==64){const m=s<<4&240|u>>2;if(r.push(m),f!==64){const y=u<<6&192|f;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class L3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const V3=function(t){const e=Rk(t);return Nk.encodeByteArray(e,!0)},bh=function(t){return V3(t).replace(/\./g,"")},Mk=function(t){try{return Nk.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z3=()=>B3().__FIREBASE_DEFAULTS__,U3=()=>{if(typeof process>"u"||typeof QS>"u")return;const t=QS.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},W3=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Mk(t[1]);return e&&JSON.parse(e)},rm=()=>{try{return $3()||z3()||U3()||W3()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Dk=t=>{var e,n;return(n=(e=rm())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},H3=t=>{const e=Dk(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},$k=()=>{var t;return(t=rm())==null?void 0:t.config},Fk=t=>{var e;return(e=rm())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Lk(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G3(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[bh(JSON.stringify(n)),bh(JSON.stringify(a)),""].join(".")}const Cu={};function K3(){const t={prod:[],emulator:[]};for(const e of Object.keys(Cu))Cu[e]?t.emulator.push(e):t.prod.push(e);return t}function Y3(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let JS=!1;function Vk(t,e){if(typeof window>"u"||typeof document>"u"||!dl(window.location.host)||Cu[t]===e||Cu[t]||JS)return;Cu[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",o=K3().prod.length>0;function a(){const p=document.getElementById(r);p&&p.remove()}function s(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function l(p,m){p.setAttribute("width","24"),p.setAttribute("id",m),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function u(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{JS=!0,a()},p}function c(p,m){p.setAttribute("id",m),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function f(){const p=Y3(r),m=n("text"),y=document.getElementById(m)||document.createElement("span"),w=n("learnmore"),_=document.getElementById(w)||document.createElement("a"),g=n("preprendIcon"),x=document.getElementById(g)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const S=p.element;s(S),c(_,w);const O=u();l(x,g),S.append(x,y,_,O),document.body.appendChild(S)}o?(y.innerText="Preview backend disconnected.",x.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(x.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,y.innerText="Preview backend running in this workspace."),y.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function X3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function Q3(){var e;const t=(e=rm())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function J3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Z3(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function eF(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function tF(){const t=on();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function nF(){return!Q3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rF(){try{return typeof indexedDB=="object"}catch{return!1}}function iF(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)==null?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oF="FirebaseError";class pi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=oF,Object.setPrototypeOf(this,pi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lf.prototype.create)}}class lf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],a=o?aF(o,r):"Error",s=`${this.serviceName}: ${a} (${i}).`;return new pi(i,s,r)}}function aF(t,e){return t.replace(sF,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const sF=/\{\$([^}]+)}/g;function lF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function da(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],a=e[i];if(ZS(o)&&ZS(a)){if(!da(o,a))return!1}else if(o!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function ZS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function mu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function gu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function uF(t,e){const n=new cF(t,e);return n.subscribe.bind(n)}class cF{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");fF(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=ry),i.error===void 0&&(i.error=ry),i.complete===void 0&&(i.complete=ry);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fF(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ry(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(t){return t&&t._delegate?t._delegate:t}class ha{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dF{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new q3;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(pF(e))try{this.getOrInitializeService({instanceIdentifier:Bo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Bo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bo){return this.instances.has(e)}getOptions(e=Bo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,a]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(o);r===s&&a.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:hF(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Bo){return this.component?this.component.multipleInstances?e:Bo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function hF(t){return t===Bo?void 0:t}function pF(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mF{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new dF(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Se;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Se||(Se={}));const gF={debug:Se.DEBUG,verbose:Se.VERBOSE,info:Se.INFO,warn:Se.WARN,error:Se.ERROR,silent:Se.SILENT},yF=Se.INFO,vF={[Se.DEBUG]:"log",[Se.VERBOSE]:"log",[Se.INFO]:"info",[Se.WARN]:"warn",[Se.ERROR]:"error"},bF=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=vF[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class F1{constructor(e){this.name=e,this._logLevel=yF,this._logHandler=bF,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?gF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Se.DEBUG,...e),this._logHandler(this,Se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Se.VERBOSE,...e),this._logHandler(this,Se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Se.INFO,...e),this._logHandler(this,Se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Se.WARN,...e),this._logHandler(this,Se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Se.ERROR,...e),this._logHandler(this,Se.ERROR,...e)}}const xF=(t,e)=>e.some(n=>t instanceof n);let e2,t2;function _F(){return e2||(e2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wF(){return t2||(t2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Bk=new WeakMap,zv=new WeakMap,zk=new WeakMap,iy=new WeakMap,L1=new WeakMap;function SF(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(Zi(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&Bk.set(n,t)}).catch(()=>{}),L1.set(e,t),e}function EF(t){if(zv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});zv.set(t,e)}let Uv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return zv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||zk.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function TF(t){Uv=t(Uv)}function AF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(oy(this),e,...n);return zk.set(r,e.sort?e.sort():[e]),Zi(r)}:wF().includes(t)?function(...e){return t.apply(oy(this),e),Zi(Bk.get(this))}:function(...e){return Zi(t.apply(oy(this),e))}}function PF(t){return typeof t=="function"?AF(t):(t instanceof IDBTransaction&&EF(t),xF(t,_F())?new Proxy(t,Uv):t)}function Zi(t){if(t instanceof IDBRequest)return SF(t);if(iy.has(t))return iy.get(t);const e=PF(t);return e!==t&&(iy.set(t,e),L1.set(e,t)),e}const oy=t=>L1.get(t);function IF(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(t,e),s=Zi(a);return r&&a.addEventListener("upgradeneeded",l=>{r(Zi(a.result),l.oldVersion,l.newVersion,Zi(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),s.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),s}const OF=["get","getKey","getAll","getAllKeys","count"],kF=["put","add","delete","clear"],ay=new Map;function n2(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ay.get(e))return ay.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=kF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||OF.includes(n)))return;const o=async function(a,...s){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(s.shift())),(await Promise.all([u[n](...s),i&&l.done]))[0]};return ay.set(e,o),o}TF(t=>({...t,get:(e,n,r)=>n2(e,n)||t.get(e,n,r),has:(e,n)=>!!n2(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CF{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(jF(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function jF(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Wv="@firebase/app",r2="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oi=new F1("@firebase/app"),RF="@firebase/app-compat",NF="@firebase/analytics-compat",MF="@firebase/analytics",DF="@firebase/app-check-compat",$F="@firebase/app-check",FF="@firebase/auth",LF="@firebase/auth-compat",VF="@firebase/database",BF="@firebase/data-connect",zF="@firebase/database-compat",UF="@firebase/functions",WF="@firebase/functions-compat",HF="@firebase/installations",qF="@firebase/installations-compat",GF="@firebase/messaging",KF="@firebase/messaging-compat",YF="@firebase/performance",XF="@firebase/performance-compat",QF="@firebase/remote-config",JF="@firebase/remote-config-compat",ZF="@firebase/storage",eL="@firebase/storage-compat",tL="@firebase/firestore",nL="@firebase/ai",rL="@firebase/firestore-compat",iL="firebase",oL="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv="[DEFAULT]",aL={[Wv]:"fire-core",[RF]:"fire-core-compat",[MF]:"fire-analytics",[NF]:"fire-analytics-compat",[$F]:"fire-app-check",[DF]:"fire-app-check-compat",[FF]:"fire-auth",[LF]:"fire-auth-compat",[VF]:"fire-rtdb",[BF]:"fire-data-connect",[zF]:"fire-rtdb-compat",[UF]:"fire-fn",[WF]:"fire-fn-compat",[HF]:"fire-iid",[qF]:"fire-iid-compat",[GF]:"fire-fcm",[KF]:"fire-fcm-compat",[YF]:"fire-perf",[XF]:"fire-perf-compat",[QF]:"fire-rc",[JF]:"fire-rc-compat",[ZF]:"fire-gcs",[eL]:"fire-gcs-compat",[tL]:"fire-fst",[rL]:"fire-fst-compat",[nL]:"fire-vertex","fire-js":"fire-js",[iL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xh=new Map,sL=new Map,qv=new Map;function i2(t,e){try{t.container.addComponent(e)}catch(n){oi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function js(t){const e=t.name;if(qv.has(e))return oi.debug(`There were multiple attempts to register component ${e}.`),!1;qv.set(e,t);for(const n of xh.values())i2(n,t);for(const n of sL.values())i2(n,t);return!0}function V1(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Vn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},eo=new lf("app","Firebase",lL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ha("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw eo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hl=oL;function Uk(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Hv,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw eo.create("bad-app-name",{appName:String(i)});if(n||(n=$k()),!n)throw eo.create("no-options");const o=xh.get(i);if(o){if(da(n,o.options)&&da(r,o.config))return o;throw eo.create("duplicate-app",{appName:i})}const a=new mF(i);for(const l of qv.values())a.addComponent(l);const s=new uL(n,r,a);return xh.set(i,s),s}function Wk(t=Hv){const e=xh.get(t);if(!e&&t===Hv&&$k())return Uk();if(!e)throw eo.create("no-app",{appName:t});return e}function to(t,e,n){let r=aL[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),oi.warn(a.join(" "));return}js(new ha(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cL="firebase-heartbeat-database",fL=1,ac="firebase-heartbeat-store";let sy=null;function Hk(){return sy||(sy=IF(cL,fL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ac)}catch(n){console.warn(n)}}}}).catch(t=>{throw eo.create("idb-open",{originalErrorMessage:t.message})})),sy}async function dL(t){try{const n=(await Hk()).transaction(ac),r=await n.objectStore(ac).get(qk(t));return await n.done,r}catch(e){if(e instanceof pi)oi.warn(e.message);else{const n=eo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});oi.warn(n.message)}}}async function o2(t,e){try{const r=(await Hk()).transaction(ac,"readwrite");await r.objectStore(ac).put(e,qk(t)),await r.done}catch(n){if(n instanceof pi)oi.warn(n.message);else{const r=eo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});oi.warn(r.message)}}}function qk(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hL=1024,pL=30;class mL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new yL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=a2();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>pL){const a=vL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){oi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=a2(),{heartbeatsToSend:r,unsentEntries:i}=gL(this._heartbeatsCache.heartbeats),o=bh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return oi.warn(n),""}}}function a2(){return new Date().toISOString().substring(0,10)}function gL(t,e=hL){const n=[];let r=t.slice();for(const i of t){const o=n.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),s2(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),s2(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class yL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rF()?iF().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await dL(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return o2(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return o2(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function s2(t){return bh(JSON.stringify({version:2,heartbeats:t})).length}function vL(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bL(t){js(new ha("platform-logger",e=>new CF(e),"PRIVATE")),js(new ha("heartbeat",e=>new mL(e),"PRIVATE")),to(Wv,r2,t),to(Wv,r2,"esm2020"),to("fire-js","")}bL("");function Gk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const xL=Gk,Kk=new lf("auth","Firebase",Gk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _h=new F1("@firebase/auth");function _L(t,...e){_h.logLevel<=Se.WARN&&_h.warn(`Auth (${hl}): ${t}`,...e)}function Fd(t,...e){_h.logLevel<=Se.ERROR&&_h.error(`Auth (${hl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pr(t,...e){throw B1(t,...e)}function Tr(t,...e){return B1(t,...e)}function Yk(t,e,n){const r={...xL(),[e]:n};return new lf("auth","Firebase",r).create(e,{appName:t.name})}function Qr(t){return Yk(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function B1(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Kk.create(t,...e)}function fe(t,e,...n){if(!t)throw B1(e,...n)}function Hr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Fd(e),new Error(e)}function ai(t,e){t||Hr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gv(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function wL(){return l2()==="http:"||l2()==="https:"}function l2(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(wL()||Z3()||"connection"in navigator)?navigator.onLine:!0}function EL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e,n){this.shortDelay=e,this.longDelay=n,ai(n>e,"Short delay should be less than long delay!"),this.isMobile=X3()||eF()}get(){return SL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z1(t,e){ai(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AL=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],PL=new cf(3e4,6e4);function wo(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function So(t,e,n,r,i={}){return Qk(t,i,async()=>{let o={},a={};r&&(e==="GET"?a=r:o={body:JSON.stringify(r)});const s=uf({key:t.config.apiKey,...a}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:l,...o};return J3()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&dl(t.emulatorConfig.host)&&(u.credentials="include"),Xk.fetch()(await Jk(t,t.config.apiHost,n,s),u)})}async function Qk(t,e,n){t._canInitEmulator=!1;const r={...TL,...e};try{const i=new OL(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw od(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const s=o.ok?a.errorMessage:a.error.message,[l,u]=s.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw od(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw od(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw od(t,"user-disabled",a);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Yk(t,c,u);pr(t,c)}}catch(i){if(i instanceof pi)throw i;pr(t,"network-request-failed",{message:String(i)})}}async function ff(t,e,n,r,i={}){const o=await So(t,e,n,r,i);return"mfaPendingCredential"in o&&pr(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function Jk(t,e,n,r){const i=`${e}${n}?${r}`,o=t,a=o.config.emulator?z1(t.config,i):`${t.config.apiScheme}://${i}`;return AL.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(a).toString():a}function IL(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class OL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Tr(this.auth,"network-request-failed")),PL.get())})}}function od(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Tr(t,e,r);return i.customData._tokenResponse=n,i}function u2(t){return t!==void 0&&t.enterprise!==void 0}class kL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return IL(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function CL(t,e){return So(t,"GET","/v2/recaptchaConfig",wo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jL(t,e){return So(t,"POST","/v1/accounts:delete",e)}async function wh(t,e){return So(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ju(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function RL(t,e=!1){const n=qt(t),r=await n.getIdToken(e),i=U1(r);fe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:ju(ly(i.auth_time)),issuedAtTime:ju(ly(i.iat)),expirationTime:ju(ly(i.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function ly(t){return Number(t)*1e3}function U1(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Fd("JWT malformed, contained fewer than 3 sections"),null;try{const i=Mk(n);return i?JSON.parse(i):(Fd("Failed to decode base64 JWT payload"),null)}catch(i){return Fd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function c2(t){const e=U1(t);return fe(e,"internal-error"),fe(typeof e.exp<"u","internal-error"),fe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof pi&&NL(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function NL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ju(this.lastLoginAt),this.creationTime=ju(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sh(t){var f;const e=t.auth,n=await t.getIdToken(),r=await sc(t,wh(e,{idToken:n}));fe(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const o=(f=i.providerUserInfo)!=null&&f.length?Zk(i.providerUserInfo):[],a=$L(t.providerData,o),s=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),u=s?l:!1,c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Kv(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,c)}async function DL(t){const e=qt(t);await Sh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $L(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Zk(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FL(t,e){const n=await Qk(t,{},async()=>{const r=uf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,a=await Jk(t,i,"/v1/token",`key=${o}`),s=await t._getAdditionalHeaders();s["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:s,body:r};return t.emulatorConfig&&dl(t.emulatorConfig.host)&&(l.credentials="include"),Xk.fetch()(a,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function LL(t,e){return So(t,"POST","/v2/accounts:revokeToken",wo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){fe(e.idToken,"internal-error"),fe(typeof e.idToken<"u","internal-error"),fe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):c2(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){fe(e.length!==0,"internal-error");const n=c2(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(fe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await FL(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,a=new ms;return r&&(fe(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(fe(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),o&&(fe(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ms,this.toJSON())}_performRefresh(){return Hr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pi(t,e){fe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class sr{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new ML(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Kv(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await sc(this,this.stsTokenManager.getToken(this.auth,e));return fe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return RL(this,e)}reload(){return DL(this)}_assign(e){this!==e&&(fe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new sr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Sh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vn(this.auth.app))return Promise.reject(Qr(this.auth));const e=await this.getIdToken();return await sc(this,jL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,o=n.phoneNumber??void 0,a=n.photoURL??void 0,s=n.tenantId??void 0,l=n._redirectEventId??void 0,u=n.createdAt??void 0,c=n.lastLoginAt??void 0,{uid:f,emailVerified:p,isAnonymous:m,providerData:y,stsTokenManager:w}=n;fe(f&&w,e,"internal-error");const _=ms.fromJSON(this.name,w);fe(typeof f=="string",e,"internal-error"),Pi(r,e.name),Pi(i,e.name),fe(typeof p=="boolean",e,"internal-error"),fe(typeof m=="boolean",e,"internal-error"),Pi(o,e.name),Pi(a,e.name),Pi(s,e.name),Pi(l,e.name),Pi(u,e.name),Pi(c,e.name);const g=new sr({uid:f,auth:e,email:i,emailVerified:p,displayName:r,isAnonymous:m,photoURL:a,phoneNumber:o,tenantId:s,stsTokenManager:_,createdAt:u,lastLoginAt:c});return y&&Array.isArray(y)&&(g.providerData=y.map(x=>({...x}))),l&&(g._redirectEventId=l),g}static async _fromIdTokenResponse(e,n,r=!1){const i=new ms;i.updateFromServerResponse(n);const o=new sr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Sh(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];fe(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?Zk(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),s=new ms;s.updateFromIdToken(r);const l=new sr({uid:i.localId,auth:e,stsTokenManager:s,isAnonymous:a}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Kv(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2=new Map;function qr(t){ai(t instanceof Function,"Expected a class definition");let e=f2.get(t);return e?(ai(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,f2.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}eC.type="NONE";const d2=eC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ld(t,e,n){return`firebase:${t}:${e}:${n}`}class gs{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Ld(this.userKey,i.apiKey,o),this.fullPersistenceKey=Ld("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await wh(this.auth,{idToken:e}).catch(()=>{});return n?sr._fromGetAccountInfoResponse(this.auth,n,e):null}return sr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new gs(qr(d2),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||qr(d2);const a=Ld(r,e.config.apiKey,e.name);let s=null;for(const u of n)try{const c=await u._get(a);if(c){let f;if(typeof c=="string"){const p=await wh(e,{idToken:c}).catch(()=>{});if(!p)break;f=await sr._fromGetAccountInfoResponse(e,p,c)}else f=sr._fromJSON(e,c);u!==o&&(s=f),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new gs(o,e,r):(o=l[0],s&&await o._set(a,s.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(a)}catch{}})),new gs(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h2(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(iC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(tC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(aC(e))return"Blackberry";if(sC(e))return"Webos";if(nC(e))return"Safari";if((e.includes("chrome/")||rC(e))&&!e.includes("edge/"))return"Chrome";if(oC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function tC(t=on()){return/firefox\//i.test(t)}function nC(t=on()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function rC(t=on()){return/crios\//i.test(t)}function iC(t=on()){return/iemobile/i.test(t)}function oC(t=on()){return/android/i.test(t)}function aC(t=on()){return/blackberry/i.test(t)}function sC(t=on()){return/webos/i.test(t)}function W1(t=on()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function VL(t=on()){var e;return W1(t)&&!!((e=window.navigator)!=null&&e.standalone)}function BL(){return tF()&&document.documentMode===10}function lC(t=on()){return W1(t)||oC(t)||sC(t)||aC(t)||/windows phone/i.test(t)||iC(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uC(t,e=[]){let n;switch(t){case"Browser":n=h2(on());break;case"Worker":n=`${h2(on())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${hl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((a,s)=>{try{const l=e(o);a(l)}catch(l){s(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UL(t,e={}){return So(t,"GET","/v2/passwordPolicy",wo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WL=6;class HL{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??WL,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new p2(this),this.idTokenSubscription=new p2(this),this.beforeStateQueue=new zL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Kk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=qr(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await gs.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await wh(this,{idToken:e}),r=await sr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if(Vn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(s,s))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(o=this.redirectUser)==null?void 0:o._redirectEventId,s=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===s)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return fe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Sh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=EL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Vn(this.app))return Promise.reject(Qr(this));const n=e?qt(e):null;return n&&fe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&fe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Vn(this.app)?Promise.reject(Qr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Vn(this.app)?Promise.reject(Qr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(qr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await UL(this),n=new HL(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new lf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await LL(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&qr(e)||this._popupRedirectResolver;fe(n,this,"argument-error"),this.redirectPersistenceManager=await gs.create(this,[qr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let a=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(fe(s,this,"internal-error"),s.then(()=>{a||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{a=!0,l()}}else{const l=e.addObserver(n);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=uC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&_L(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Pa(t){return qt(t)}class p2{constructor(e){this.auth=e,this.observer=null,this.addObserver=uF(n=>this.observer=n)}get next(){return fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let im={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function GL(t){im=t}function cC(t){return im.loadJS(t)}function KL(){return im.recaptchaEnterpriseScript}function YL(){return im.gapiScript}function XL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class QL{constructor(){this.enterprise=new JL}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class JL{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const ZL="recaptcha-enterprise",fC="NO_RECAPTCHA";class e6{constructor(e){this.type=ZL,this.auth=Pa(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(a,s)=>{CL(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)s(new Error("recaptcha Enterprise site key undefined"));else{const u=new kL(l);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,a(u.siteKey)}}).catch(l=>{s(l)})})}function i(o,a,s){const l=window.grecaptcha;u2(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(u=>{a(u)}).catch(()=>{a(fC)})}):s(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new QL().execute("siteKey",{action:"verify"}):new Promise((o,a)=>{r(this.auth).then(s=>{if(!n&&u2(window.grecaptcha))i(s,o,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=KL();l.length!==0&&(l+=s),cC(l).then(()=>{i(s,o,a)}).catch(u=>{a(u)})}}).catch(s=>{a(s)})})}}async function m2(t,e,n,r=!1,i=!1){const o=new e6(t);let a;if(i)a=fC;else try{a=await o.verify(n)}catch{a=await o.verify(n,!0)}const s={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in s){const l=s.phoneEnrollmentInfo.phoneNumber,u=s.phoneEnrollmentInfo.recaptchaToken;Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in s){const l=s.phoneSignInInfo.recaptchaToken;Object.assign(s,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return s}return r?Object.assign(s,{captchaResp:a}):Object.assign(s,{captchaResponse:a}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function Yv(t,e,n,r,i){var o;if((o=t._getRecaptchaConfig())!=null&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await m2(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await m2(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t6(t,e){const n=V1(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(da(o,e??{}))return i;pr(i,"already-initialized")}return n.initialize({options:e})}function n6(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(qr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function r6(t,e,n){const r=Pa(t);fe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=dC(e),{host:a,port:s}=i6(e),l=s===null?"":`:${s}`,u={url:`${o}//${a}${l}/`},c=Object.freeze({host:a,port:s,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){fe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),fe(da(u,r.config.emulator)&&da(c,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=c,r.settings.appVerificationDisabledForTesting=!0,dl(a)?(Lk(`${o}//${a}${l}`),Vk("Auth",!0)):o6()}function dC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function i6(t){const e=dC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:g2(r.substr(o.length+1))}}else{const[o,a]=r.split(":");return{host:o,port:g2(a)}}}function g2(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function o6(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Hr("not implemented")}_getIdTokenResponse(e){return Hr("not implemented")}_linkToIdToken(e,n){return Hr("not implemented")}_getReauthenticationResolver(e){return Hr("not implemented")}}async function a6(t,e){return So(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s6(t,e){return ff(t,"POST","/v1/accounts:signInWithPassword",wo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l6(t,e){return ff(t,"POST","/v1/accounts:signInWithEmailLink",wo(t,e))}async function u6(t,e){return ff(t,"POST","/v1/accounts:signInWithEmailLink",wo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc extends H1{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new lc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new lc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Yv(e,n,"signInWithPassword",s6);case"emailLink":return l6(e,{email:this._email,oobCode:this._password});default:pr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Yv(e,r,"signUpPassword",a6);case"emailLink":return u6(e,{idToken:n,email:this._email,oobCode:this._password});default:pr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ys(t,e){return ff(t,"POST","/v1/accounts:signInWithIdp",wo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c6="http://localhost";class pa extends H1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new pa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):pr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...o}=n;if(!r||!i)return null;const a=new pa(r,i);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return ys(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ys(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ys(e,n)}buildRequest(){const e={requestUri:c6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=uf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f6(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function d6(t){const e=mu(gu(t)).link,n=e?mu(gu(e)).deep_link_id:null,r=mu(gu(t)).deep_link_id;return(r?mu(gu(r)).link:null)||r||n||e||t}class q1{constructor(e){const n=mu(gu(e)),r=n.apiKey??null,i=n.oobCode??null,o=f6(n.mode??null);fe(r&&i&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=d6(e);try{return new q1(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(){this.providerId=pl.PROVIDER_ID}static credential(e,n){return lc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=q1.parseLink(n);return fe(r,"argument-error"),lc._fromEmailAndCode(e,r.code,r.tenantId)}}pl.PROVIDER_ID="password";pl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";pl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df extends hC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni extends df{constructor(){super("facebook.com")}static credential(e){return pa._fromParams({providerId:Ni.PROVIDER_ID,signInMethod:Ni.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ni.credentialFromTaggedObject(e)}static credentialFromError(e){return Ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ni.credential(e.oauthAccessToken)}catch{return null}}}Ni.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ni.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi extends df{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return pa._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Mi.credential(n,r)}catch{return null}}}Mi.GOOGLE_SIGN_IN_METHOD="google.com";Mi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di extends df{constructor(){super("github.com")}static credential(e){return pa._fromParams({providerId:Di.PROVIDER_ID,signInMethod:Di.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Di.credentialFromTaggedObject(e)}static credentialFromError(e){return Di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Di.credential(e.oauthAccessToken)}catch{return null}}}Di.GITHUB_SIGN_IN_METHOD="github.com";Di.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends df{constructor(){super("twitter.com")}static credential(e,n){return pa._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return $i.credential(n,r)}catch{return null}}}$i.TWITTER_SIGN_IN_METHOD="twitter.com";$i.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h6(t,e){return ff(t,"POST","/v1/accounts:signUp",wo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await sr._fromIdTokenResponse(e,r,i),a=y2(r);return new ma({user:o,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=y2(r);return new ma({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function y2(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh extends pi{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Eh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Eh(e,n,r,i)}}function pC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Eh._fromErrorAndOperation(t,o,e,r):o})}async function p6(t,e,n=!1){const r=await sc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ma._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m6(t,e,n=!1){const{auth:r}=t;if(Vn(r.app))return Promise.reject(Qr(r));const i="reauthenticate";try{const o=await sc(t,pC(r,i,e,t),n);fe(o.idToken,r,"internal-error");const a=U1(o.idToken);fe(a,r,"internal-error");const{sub:s}=a;return fe(t.uid===s,r,"user-mismatch"),ma._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&pr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mC(t,e,n=!1){if(Vn(t.app))return Promise.reject(Qr(t));const r="signIn",i=await pC(t,r,e),o=await ma._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function g6(t,e){return mC(Pa(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gC(t){const e=Pa(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function y6(t,e,n){if(Vn(t.app))return Promise.reject(Qr(t));const r=Pa(t),a=await Yv(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",h6).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&gC(t),l}),s=await ma._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(s.user),s}function v6(t,e,n){return Vn(t.app)?Promise.reject(Qr(t)):g6(qt(t),pl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&gC(t),r})}function b6(t,e,n,r){return qt(t).onIdTokenChanged(e,n,r)}function x6(t,e,n){return qt(t).beforeAuthStateChanged(e,n)}function _6(t,e,n,r){return qt(t).onAuthStateChanged(e,n,r)}function Th(t){return qt(t).signOut()}const Ah="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ah,"1"),this.storage.removeItem(Ah),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w6=1e3,S6=10;class vC extends yC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=lC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,s,l)=>{this.notifyListeners(a,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);BL()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,S6):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},w6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}vC.type="LOCAL";const E6=vC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC extends yC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}bC.type="SESSION";const xC=bC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T6(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new om(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const s=Array.from(a).map(async u=>u(n.origin,o)),l=await T6(s);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}om.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G1(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,a;return new Promise((s,l)=>{const u=G1("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(f){const p=f;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),s(p.data.response);break;default:clearTimeout(c),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(){return window}function P6(t){Ar().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _C(){return typeof Ar().WorkerGlobalScope<"u"&&typeof Ar().importScripts=="function"}async function I6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function O6(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function k6(){return _C()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC="firebaseLocalStorageDb",C6=1,Ph="firebaseLocalStorage",SC="fbase_key";class hf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function am(t,e){return t.transaction([Ph],e?"readwrite":"readonly").objectStore(Ph)}function j6(){const t=indexedDB.deleteDatabase(wC);return new hf(t).toPromise()}function Xv(){const t=indexedDB.open(wC,C6);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ph,{keyPath:SC})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ph)?e(r):(r.close(),await j6(),e(await Xv()))})})}async function v2(t,e,n){const r=am(t,!0).put({[SC]:e,value:n});return new hf(r).toPromise()}async function R6(t,e){const n=am(t,!1).get(e),r=await new hf(n).toPromise();return r===void 0?null:r.value}function b2(t,e){const n=am(t,!0).delete(e);return new hf(n).toPromise()}const N6=800,M6=3;class EC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Xv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>M6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _C()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=om._getInstance(k6()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await I6(),!this.activeServiceWorker)return;this.sender=new A6(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||O6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Xv();return await v2(e,Ah,"1"),await b2(e,Ah),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>v2(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>R6(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>b2(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=am(i,!1).getAll();return new hf(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),N6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}EC.type="LOCAL";const D6=EC;new cf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $6(t,e){return e?qr(e):(fe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1 extends H1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ys(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ys(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ys(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function F6(t){return mC(t.auth,new K1(t),t.bypassAuthState)}function L6(t){const{auth:e,user:n}=t;return fe(n,e,"internal-error"),m6(n,new K1(t),t.bypassAuthState)}async function V6(t){const{auth:e,user:n}=t;return fe(n,e,"internal-error"),p6(n,new K1(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:a,type:s}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return F6;case"linkViaPopup":case"linkViaRedirect":return V6;case"reauthViaPopup":case"reauthViaRedirect":return L6;default:pr(this.auth,"internal-error")}}resolve(e){ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B6=new cf(2e3,1e4);class os extends TC{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,os.currentPopupAction&&os.currentPopupAction.cancel(),os.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return fe(e,this.auth,"internal-error"),e}async onExecution(){ai(this.filter.length===1,"Popup operations only handle one event");const e=G1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Tr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Tr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,os.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Tr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,B6.get())};e()}}os.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z6="pendingRedirect",Vd=new Map;class U6 extends TC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Vd.get(this.auth._key());if(!e){try{const r=await W6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Vd.set(this.auth._key(),e)}return this.bypassAuthState||Vd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function W6(t,e){const n=G6(e),r=q6(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function H6(t,e){Vd.set(t._key(),e)}function q6(t){return qr(t._redirectPersistence)}function G6(t){return Ld(z6,t.config.apiKey,t.name)}async function K6(t,e,n=!1){if(Vn(t.app))return Promise.reject(Qr(t));const r=Pa(t),i=$6(r,e),a=await new U6(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y6=10*60*1e3;class X6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Q6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!AC(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Tr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Y6&&this.cachedEventUids.clear(),this.cachedEventUids.has(x2(e))}saveEventToCache(e){this.cachedEventUids.add(x2(e)),this.lastProcessedEventTime=Date.now()}}function x2(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function AC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Q6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return AC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J6(t,e={}){return So(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,eV=/^https?/;async function tV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await J6(t);for(const n of e)try{if(nV(n))return}catch{}pr(t,"unauthorized-domain")}function nV(t){const e=Gv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!eV.test(n))return!1;if(Z6.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rV=new cf(3e4,6e4);function _2(){const t=Ar().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function iV(t){return new Promise((e,n)=>{var i,o,a;function r(){_2(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{_2(),n(Tr(t,"network-request-failed"))},timeout:rV.get()})}if((o=(i=Ar().gapi)==null?void 0:i.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((a=Ar().gapi)!=null&&a.load)r();else{const s=XL("iframefcb");return Ar()[s]=()=>{gapi.load?r():n(Tr(t,"network-request-failed"))},cC(`${YL()}?onload=${s}`).catch(l=>n(l))}}).catch(e=>{throw Bd=null,e})}let Bd=null;function oV(t){return Bd=Bd||iV(t),Bd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aV=new cf(5e3,15e3),sV="__/auth/iframe",lV="emulator/auth/iframe",uV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fV(t){const e=t.config;fe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?z1(e,lV):`https://${t.config.authDomain}/${sV}`,r={apiKey:e.apiKey,appName:t.name,v:hl},i=cV.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${uf(r).slice(1)}`}async function dV(t){const e=await oV(t),n=Ar().gapi;return fe(n,t,"internal-error"),e.open({where:document.body,url:fV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uV,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const a=Tr(t,"network-request-failed"),s=Ar().setTimeout(()=>{o(a)},aV.get());function l(){Ar().clearTimeout(s),i(r)}r.ping(l).then(l,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},pV=500,mV=600,gV="_blank",yV="http://localhost";class w2{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function vV(t,e,n,r=pV,i=mV){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l={...hV,width:r.toString(),height:i.toString(),top:o,left:a},u=on().toLowerCase();n&&(s=rC(u)?gV:n),tC(u)&&(e=e||yV,l.scrollbars="yes");const c=Object.entries(l).reduce((p,[m,y])=>`${p}${m}=${y},`,"");if(VL(u)&&s!=="_self")return bV(e||"",s),new w2(null);const f=window.open(e||"",s,c);fe(f,t,"popup-blocked");try{f.focus()}catch{}return new w2(f)}function bV(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xV="__/auth/handler",_V="emulator/auth/handler",wV=encodeURIComponent("fac");async function S2(t,e,n,r,i,o){fe(t.config.authDomain,t,"auth-domain-config-required"),fe(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:hl,eventId:i};if(e instanceof hC){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",lF(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,f]of Object.entries({}))a[c]=f}if(e instanceof df){const c=e.getScopes().filter(f=>f!=="");c.length>0&&(a.scopes=c.join(","))}t.tenantId&&(a.tid=t.tenantId);const s=a;for(const c of Object.keys(s))s[c]===void 0&&delete s[c];const l=await t._getAppCheckToken(),u=l?`#${wV}=${encodeURIComponent(l)}`:"";return`${SV(t)}?${uf(s).slice(1)}${u}`}function SV({config:t}){return t.emulator?z1(t,_V):`https://${t.authDomain}/${xV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uy="webStorageSupport";class EV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xC,this._completeRedirectFn=K6,this._overrideRedirectResult=H6}async _openPopup(e,n,r,i){var a;ai((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const o=await S2(e,n,r,Gv(),i);return vV(e,o,G1())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await S2(e,n,r,Gv(),i);return P6(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(ai(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await dV(e),r=new X6(e);return n.register("authEvent",i=>(fe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(uy,{type:uy},i=>{var a;const o=(a=i==null?void 0:i[0])==null?void 0:a[uy];o!==void 0&&n(!!o),pr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=tV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return lC()||nC()||W1()}}const TV=EV;var E2="@firebase/auth",T2="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function IV(t){js(new ha("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:s}=r.options;fe(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:uC(t)},u=new qL(r,i,o,l);return n6(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),js(new ha("auth-internal",e=>{const n=Pa(e.getProvider("auth").getImmediate());return(r=>new AV(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),to(E2,T2,PV(t)),to(E2,T2,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OV=5*60,kV=Fk("authIdTokenMaxAge")||OV;let A2=null;const CV=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>kV)return;const i=n==null?void 0:n.token;A2!==i&&(A2=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function jV(t=Wk()){const e=V1(t,"auth");if(e.isInitialized())return e.getImmediate();const n=t6(t,{popupRedirectResolver:TV,persistence:[D6,E6,xC]}),r=Fk("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const a=CV(o.toString());x6(n,a,()=>a(n.currentUser)),b6(n,s=>a(s))}}const i=Dk("auth");return i&&r6(n,`http://${i}`),n}function RV(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}GL({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Tr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",RV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});IV("Browser");var P2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var no,PC;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,T){function I(){}I.prototype=T.prototype,b.F=T.prototype,b.prototype=new I,b.prototype.constructor=b,b.D=function(j,C,R){for(var k=Array(arguments.length-2),D=2;D<arguments.length;D++)k[D-2]=arguments[D];return T.prototype[C].apply(j,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(b,T,I){I||(I=0);const j=Array(16);if(typeof T=="string")for(var C=0;C<16;++C)j[C]=T.charCodeAt(I++)|T.charCodeAt(I++)<<8|T.charCodeAt(I++)<<16|T.charCodeAt(I++)<<24;else for(C=0;C<16;++C)j[C]=T[I++]|T[I++]<<8|T[I++]<<16|T[I++]<<24;T=b.g[0],I=b.g[1],C=b.g[2];let R=b.g[3],k;k=T+(R^I&(C^R))+j[0]+3614090360&4294967295,T=I+(k<<7&4294967295|k>>>25),k=R+(C^T&(I^C))+j[1]+3905402710&4294967295,R=T+(k<<12&4294967295|k>>>20),k=C+(I^R&(T^I))+j[2]+606105819&4294967295,C=R+(k<<17&4294967295|k>>>15),k=I+(T^C&(R^T))+j[3]+3250441966&4294967295,I=C+(k<<22&4294967295|k>>>10),k=T+(R^I&(C^R))+j[4]+4118548399&4294967295,T=I+(k<<7&4294967295|k>>>25),k=R+(C^T&(I^C))+j[5]+1200080426&4294967295,R=T+(k<<12&4294967295|k>>>20),k=C+(I^R&(T^I))+j[6]+2821735955&4294967295,C=R+(k<<17&4294967295|k>>>15),k=I+(T^C&(R^T))+j[7]+4249261313&4294967295,I=C+(k<<22&4294967295|k>>>10),k=T+(R^I&(C^R))+j[8]+1770035416&4294967295,T=I+(k<<7&4294967295|k>>>25),k=R+(C^T&(I^C))+j[9]+2336552879&4294967295,R=T+(k<<12&4294967295|k>>>20),k=C+(I^R&(T^I))+j[10]+4294925233&4294967295,C=R+(k<<17&4294967295|k>>>15),k=I+(T^C&(R^T))+j[11]+2304563134&4294967295,I=C+(k<<22&4294967295|k>>>10),k=T+(R^I&(C^R))+j[12]+1804603682&4294967295,T=I+(k<<7&4294967295|k>>>25),k=R+(C^T&(I^C))+j[13]+4254626195&4294967295,R=T+(k<<12&4294967295|k>>>20),k=C+(I^R&(T^I))+j[14]+2792965006&4294967295,C=R+(k<<17&4294967295|k>>>15),k=I+(T^C&(R^T))+j[15]+1236535329&4294967295,I=C+(k<<22&4294967295|k>>>10),k=T+(C^R&(I^C))+j[1]+4129170786&4294967295,T=I+(k<<5&4294967295|k>>>27),k=R+(I^C&(T^I))+j[6]+3225465664&4294967295,R=T+(k<<9&4294967295|k>>>23),k=C+(T^I&(R^T))+j[11]+643717713&4294967295,C=R+(k<<14&4294967295|k>>>18),k=I+(R^T&(C^R))+j[0]+3921069994&4294967295,I=C+(k<<20&4294967295|k>>>12),k=T+(C^R&(I^C))+j[5]+3593408605&4294967295,T=I+(k<<5&4294967295|k>>>27),k=R+(I^C&(T^I))+j[10]+38016083&4294967295,R=T+(k<<9&4294967295|k>>>23),k=C+(T^I&(R^T))+j[15]+3634488961&4294967295,C=R+(k<<14&4294967295|k>>>18),k=I+(R^T&(C^R))+j[4]+3889429448&4294967295,I=C+(k<<20&4294967295|k>>>12),k=T+(C^R&(I^C))+j[9]+568446438&4294967295,T=I+(k<<5&4294967295|k>>>27),k=R+(I^C&(T^I))+j[14]+3275163606&4294967295,R=T+(k<<9&4294967295|k>>>23),k=C+(T^I&(R^T))+j[3]+4107603335&4294967295,C=R+(k<<14&4294967295|k>>>18),k=I+(R^T&(C^R))+j[8]+1163531501&4294967295,I=C+(k<<20&4294967295|k>>>12),k=T+(C^R&(I^C))+j[13]+2850285829&4294967295,T=I+(k<<5&4294967295|k>>>27),k=R+(I^C&(T^I))+j[2]+4243563512&4294967295,R=T+(k<<9&4294967295|k>>>23),k=C+(T^I&(R^T))+j[7]+1735328473&4294967295,C=R+(k<<14&4294967295|k>>>18),k=I+(R^T&(C^R))+j[12]+2368359562&4294967295,I=C+(k<<20&4294967295|k>>>12),k=T+(I^C^R)+j[5]+4294588738&4294967295,T=I+(k<<4&4294967295|k>>>28),k=R+(T^I^C)+j[8]+2272392833&4294967295,R=T+(k<<11&4294967295|k>>>21),k=C+(R^T^I)+j[11]+1839030562&4294967295,C=R+(k<<16&4294967295|k>>>16),k=I+(C^R^T)+j[14]+4259657740&4294967295,I=C+(k<<23&4294967295|k>>>9),k=T+(I^C^R)+j[1]+2763975236&4294967295,T=I+(k<<4&4294967295|k>>>28),k=R+(T^I^C)+j[4]+1272893353&4294967295,R=T+(k<<11&4294967295|k>>>21),k=C+(R^T^I)+j[7]+4139469664&4294967295,C=R+(k<<16&4294967295|k>>>16),k=I+(C^R^T)+j[10]+3200236656&4294967295,I=C+(k<<23&4294967295|k>>>9),k=T+(I^C^R)+j[13]+681279174&4294967295,T=I+(k<<4&4294967295|k>>>28),k=R+(T^I^C)+j[0]+3936430074&4294967295,R=T+(k<<11&4294967295|k>>>21),k=C+(R^T^I)+j[3]+3572445317&4294967295,C=R+(k<<16&4294967295|k>>>16),k=I+(C^R^T)+j[6]+76029189&4294967295,I=C+(k<<23&4294967295|k>>>9),k=T+(I^C^R)+j[9]+3654602809&4294967295,T=I+(k<<4&4294967295|k>>>28),k=R+(T^I^C)+j[12]+3873151461&4294967295,R=T+(k<<11&4294967295|k>>>21),k=C+(R^T^I)+j[15]+530742520&4294967295,C=R+(k<<16&4294967295|k>>>16),k=I+(C^R^T)+j[2]+3299628645&4294967295,I=C+(k<<23&4294967295|k>>>9),k=T+(C^(I|~R))+j[0]+4096336452&4294967295,T=I+(k<<6&4294967295|k>>>26),k=R+(I^(T|~C))+j[7]+1126891415&4294967295,R=T+(k<<10&4294967295|k>>>22),k=C+(T^(R|~I))+j[14]+2878612391&4294967295,C=R+(k<<15&4294967295|k>>>17),k=I+(R^(C|~T))+j[5]+4237533241&4294967295,I=C+(k<<21&4294967295|k>>>11),k=T+(C^(I|~R))+j[12]+1700485571&4294967295,T=I+(k<<6&4294967295|k>>>26),k=R+(I^(T|~C))+j[3]+2399980690&4294967295,R=T+(k<<10&4294967295|k>>>22),k=C+(T^(R|~I))+j[10]+4293915773&4294967295,C=R+(k<<15&4294967295|k>>>17),k=I+(R^(C|~T))+j[1]+2240044497&4294967295,I=C+(k<<21&4294967295|k>>>11),k=T+(C^(I|~R))+j[8]+1873313359&4294967295,T=I+(k<<6&4294967295|k>>>26),k=R+(I^(T|~C))+j[15]+4264355552&4294967295,R=T+(k<<10&4294967295|k>>>22),k=C+(T^(R|~I))+j[6]+2734768916&4294967295,C=R+(k<<15&4294967295|k>>>17),k=I+(R^(C|~T))+j[13]+1309151649&4294967295,I=C+(k<<21&4294967295|k>>>11),k=T+(C^(I|~R))+j[4]+4149444226&4294967295,T=I+(k<<6&4294967295|k>>>26),k=R+(I^(T|~C))+j[11]+3174756917&4294967295,R=T+(k<<10&4294967295|k>>>22),k=C+(T^(R|~I))+j[2]+718787259&4294967295,C=R+(k<<15&4294967295|k>>>17),k=I+(R^(C|~T))+j[9]+3951481745&4294967295,b.g[0]=b.g[0]+T&4294967295,b.g[1]=b.g[1]+(C+(k<<21&4294967295|k>>>11))&4294967295,b.g[2]=b.g[2]+C&4294967295,b.g[3]=b.g[3]+R&4294967295}r.prototype.v=function(b,T){T===void 0&&(T=b.length);const I=T-this.blockSize,j=this.C;let C=this.h,R=0;for(;R<T;){if(C==0)for(;R<=I;)i(this,b,R),R+=this.blockSize;if(typeof b=="string"){for(;R<T;)if(j[C++]=b.charCodeAt(R++),C==this.blockSize){i(this,j),C=0;break}}else for(;R<T;)if(j[C++]=b[R++],C==this.blockSize){i(this,j),C=0;break}}this.h=C,this.o+=T},r.prototype.A=function(){var b=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);b[0]=128;for(var T=1;T<b.length-8;++T)b[T]=0;T=this.o*8;for(var I=b.length-8;I<b.length;++I)b[I]=T&255,T/=256;for(this.v(b),b=Array(16),T=0,I=0;I<4;++I)for(let j=0;j<32;j+=8)b[T++]=this.g[I]>>>j&255;return b};function o(b,T){var I=s;return Object.prototype.hasOwnProperty.call(I,b)?I[b]:I[b]=T(b)}function a(b,T){this.h=T;const I=[];let j=!0;for(let C=b.length-1;C>=0;C--){const R=b[C]|0;j&&R==T||(I[C]=R,j=!1)}this.g=I}var s={};function l(b){return-128<=b&&b<128?o(b,function(T){return new a([T|0],T<0?-1:0)}):new a([b|0],b<0?-1:0)}function u(b){if(isNaN(b)||!isFinite(b))return f;if(b<0)return _(u(-b));const T=[];let I=1;for(let j=0;b>=I;j++)T[j]=b/I|0,I*=4294967296;return new a(T,0)}function c(b,T){if(b.length==0)throw Error("number format error: empty string");if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(b.charAt(0)=="-")return _(c(b.substring(1),T));if(b.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=u(Math.pow(T,8));let j=f;for(let R=0;R<b.length;R+=8){var C=Math.min(8,b.length-R);const k=parseInt(b.substring(R,R+C),T);C<8?(C=u(Math.pow(T,C)),j=j.j(C).add(u(k))):(j=j.j(I),j=j.add(u(k)))}return j}var f=l(0),p=l(1),m=l(16777216);t=a.prototype,t.m=function(){if(w(this))return-_(this).m();let b=0,T=1;for(let I=0;I<this.g.length;I++){const j=this.i(I);b+=(j>=0?j:4294967296+j)*T,T*=4294967296}return b},t.toString=function(b){if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(y(this))return"0";if(w(this))return"-"+_(this).toString(b);const T=u(Math.pow(b,6));var I=this;let j="";for(;;){const C=O(I,T).g;I=g(I,C.j(T));let R=((I.g.length>0?I.g[0]:I.h)>>>0).toString(b);if(I=C,y(I))return R+j;for(;R.length<6;)R="0"+R;j=R+j}},t.i=function(b){return b<0?0:b<this.g.length?this.g[b]:this.h};function y(b){if(b.h!=0)return!1;for(let T=0;T<b.g.length;T++)if(b.g[T]!=0)return!1;return!0}function w(b){return b.h==-1}t.l=function(b){return b=g(this,b),w(b)?-1:y(b)?0:1};function _(b){const T=b.g.length,I=[];for(let j=0;j<T;j++)I[j]=~b.g[j];return new a(I,~b.h).add(p)}t.abs=function(){return w(this)?_(this):this},t.add=function(b){const T=Math.max(this.g.length,b.g.length),I=[];let j=0;for(let C=0;C<=T;C++){let R=j+(this.i(C)&65535)+(b.i(C)&65535),k=(R>>>16)+(this.i(C)>>>16)+(b.i(C)>>>16);j=k>>>16,R&=65535,k&=65535,I[C]=k<<16|R}return new a(I,I[I.length-1]&-2147483648?-1:0)};function g(b,T){return b.add(_(T))}t.j=function(b){if(y(this)||y(b))return f;if(w(this))return w(b)?_(this).j(_(b)):_(_(this).j(b));if(w(b))return _(this.j(_(b)));if(this.l(m)<0&&b.l(m)<0)return u(this.m()*b.m());const T=this.g.length+b.g.length,I=[];for(var j=0;j<2*T;j++)I[j]=0;for(j=0;j<this.g.length;j++)for(let C=0;C<b.g.length;C++){const R=this.i(j)>>>16,k=this.i(j)&65535,D=b.i(C)>>>16,V=b.i(C)&65535;I[2*j+2*C]+=k*V,x(I,2*j+2*C),I[2*j+2*C+1]+=R*V,x(I,2*j+2*C+1),I[2*j+2*C+1]+=k*D,x(I,2*j+2*C+1),I[2*j+2*C+2]+=R*D,x(I,2*j+2*C+2)}for(b=0;b<T;b++)I[b]=I[2*b+1]<<16|I[2*b];for(b=T;b<2*T;b++)I[b]=0;return new a(I,0)};function x(b,T){for(;(b[T]&65535)!=b[T];)b[T+1]+=b[T]>>>16,b[T]&=65535,T++}function S(b,T){this.g=b,this.h=T}function O(b,T){if(y(T))throw Error("division by zero");if(y(b))return new S(f,f);if(w(b))return T=O(_(b),T),new S(_(T.g),_(T.h));if(w(T))return T=O(b,_(T)),new S(_(T.g),T.h);if(b.g.length>30){if(w(b)||w(T))throw Error("slowDivide_ only works with positive integers.");for(var I=p,j=T;j.l(b)<=0;)I=E(I),j=E(j);var C=A(I,1),R=A(j,1);for(j=A(j,2),I=A(I,2);!y(j);){var k=R.add(j);k.l(b)<=0&&(C=C.add(I),R=k),j=A(j,1),I=A(I,1)}return T=g(b,C.j(T)),new S(C,T)}for(C=f;b.l(T)>=0;){for(I=Math.max(1,Math.floor(b.m()/T.m())),j=Math.ceil(Math.log(I)/Math.LN2),j=j<=48?1:Math.pow(2,j-48),R=u(I),k=R.j(T);w(k)||k.l(b)>0;)I-=j,R=u(I),k=R.j(T);y(R)&&(R=p),C=C.add(R),b=g(b,k)}return new S(C,b)}t.B=function(b){return O(this,b).h},t.and=function(b){const T=Math.max(this.g.length,b.g.length),I=[];for(let j=0;j<T;j++)I[j]=this.i(j)&b.i(j);return new a(I,this.h&b.h)},t.or=function(b){const T=Math.max(this.g.length,b.g.length),I=[];for(let j=0;j<T;j++)I[j]=this.i(j)|b.i(j);return new a(I,this.h|b.h)},t.xor=function(b){const T=Math.max(this.g.length,b.g.length),I=[];for(let j=0;j<T;j++)I[j]=this.i(j)^b.i(j);return new a(I,this.h^b.h)};function E(b){const T=b.g.length+1,I=[];for(let j=0;j<T;j++)I[j]=b.i(j)<<1|b.i(j-1)>>>31;return new a(I,b.h)}function A(b,T){const I=T>>5;T%=32;const j=b.g.length-I,C=[];for(let R=0;R<j;R++)C[R]=T>0?b.i(R+I)>>>T|b.i(R+I+1)<<32-T:b.i(R+I);return new a(C,b.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,PC=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=c,no=a}).apply(typeof P2<"u"?P2:typeof self<"u"?self:typeof window<"u"?window:{});var ad=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var IC,yu,OC,zd,Qv,kC,CC,jC;(function(){var t,e=Object.defineProperty;function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof ad=="object"&&ad];for(var v=0;v<d.length;++v){var P=d[v];if(P&&P.Math==Math)return P}throw Error("Cannot find global object")}var r=n(this);function i(d,v){if(v)e:{var P=r;d=d.split(".");for(var N=0;N<d.length-1;N++){var B=d[N];if(!(B in P))break e;P=P[B]}d=d[d.length-1],N=P[d],v=v(N),v!=N&&v!=null&&e(P,d,{configurable:!0,writable:!0,value:v})}}i("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(d){return d||function(v){var P=[],N;for(N in v)Object.prototype.hasOwnProperty.call(v,N)&&P.push([N,v[N]]);return P}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function s(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function l(d,v,P){return d.call.apply(d.bind,arguments)}function u(d,v,P){return u=l,u.apply(null,arguments)}function c(d,v){var P=Array.prototype.slice.call(arguments,1);return function(){var N=P.slice();return N.push.apply(N,arguments),d.apply(this,N)}}function f(d,v){function P(){}P.prototype=v.prototype,d.Z=v.prototype,d.prototype=new P,d.prototype.constructor=d,d.Ob=function(N,B,W){for(var ee=Array(arguments.length-2),be=2;be<arguments.length;be++)ee[be-2]=arguments[be];return v.prototype[B].apply(N,ee)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function m(d){const v=d.length;if(v>0){const P=Array(v);for(let N=0;N<v;N++)P[N]=d[N];return P}return[]}function y(d,v){for(let N=1;N<arguments.length;N++){const B=arguments[N];var P=typeof B;if(P=P!="object"?P:B?Array.isArray(B)?"array":P:"null",P=="array"||P=="object"&&typeof B.length=="number"){P=d.length||0;const W=B.length||0;d.length=P+W;for(let ee=0;ee<W;ee++)d[P+ee]=B[ee]}else d.push(B)}}class w{constructor(v,P){this.i=v,this.j=P,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function _(d){a.setTimeout(()=>{throw d},0)}function g(){var d=b;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class x{constructor(){this.h=this.g=null}add(v,P){const N=S.get();N.set(v,P),this.h?this.h.next=N:this.g=N,this.h=N}}var S=new w(()=>new O,d=>d.reset());class O{constructor(){this.next=this.g=this.h=null}set(v,P){this.h=v,this.g=P,this.next=null}reset(){this.next=this.g=this.h=null}}let E,A=!1,b=new x,T=()=>{const d=Promise.resolve(void 0);E=()=>{d.then(I)}};function I(){for(var d;d=g();){try{d.h.call(d.g)}catch(P){_(P)}var v=S;v.j(d),v.h<100&&(v.h++,d.next=v.g,v.g=d)}A=!1}function j(){this.u=this.u,this.C=this.C}j.prototype.u=!1,j.prototype.dispose=function(){this.u||(this.u=!0,this.N())},j.prototype[Symbol.dispose]=function(){this.dispose()},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function C(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}C.prototype.h=function(){this.defaultPrevented=!0};var R=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const P=()=>{};a.addEventListener("test",P,v),a.removeEventListener("test",P,v)}catch{}return d}();function k(d){return/^[\s\xa0]*$/.test(d)}function D(d,v){C.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,v)}f(D,C),D.prototype.init=function(d,v){const P=this.type=d.type,N=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget,v||(P=="mouseover"?v=d.fromElement:P=="mouseout"&&(v=d.toElement)),this.relatedTarget=v,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&D.Z.h.call(this)},D.prototype.h=function(){D.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var V="closure_listenable_"+(Math.random()*1e6|0),z=0;function L(d,v,P,N,B){this.listener=d,this.proxy=null,this.src=v,this.type=P,this.capture=!!N,this.ha=B,this.key=++z,this.da=this.fa=!1}function $(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function U(d,v,P){for(const N in d)v.call(P,d[N],N,d)}function H(d,v){for(const P in d)v.call(void 0,d[P],P,d)}function Q(d){const v={};for(const P in d)v[P]=d[P];return v}const G="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ne(d,v){let P,N;for(let B=1;B<arguments.length;B++){N=arguments[B];for(P in N)d[P]=N[P];for(let W=0;W<G.length;W++)P=G[W],Object.prototype.hasOwnProperty.call(N,P)&&(d[P]=N[P])}}function ue(d){this.src=d,this.g={},this.h=0}ue.prototype.add=function(d,v,P,N,B){const W=d.toString();d=this.g[W],d||(d=this.g[W]=[],this.h++);const ee=ge(d,v,N,B);return ee>-1?(v=d[ee],P||(v.fa=!1)):(v=new L(v,this.src,W,!!N,B),v.fa=P,d.push(v)),v};function pe(d,v){const P=v.type;if(P in d.g){var N=d.g[P],B=Array.prototype.indexOf.call(N,v,void 0),W;(W=B>=0)&&Array.prototype.splice.call(N,B,1),W&&($(v),d.g[P].length==0&&(delete d.g[P],d.h--))}}function ge(d,v,P,N){for(let B=0;B<d.length;++B){const W=d[B];if(!W.da&&W.listener==v&&W.capture==!!P&&W.ha==N)return B}return-1}var Ae="closure_lm_"+(Math.random()*1e6|0),se={};function Z(d,v,P,N,B){if(Array.isArray(v)){for(let W=0;W<v.length;W++)Z(d,v[W],P,N,B);return null}return P=Qn(P),d&&d[V]?d.J(v,P,s(N)?!!N.capture:!1,B):he(d,v,P,!1,N,B)}function he(d,v,P,N,B,W){if(!v)throw Error("Invalid event type");const ee=s(B)?!!B.capture:!!B;let be=tt(d);if(be||(d[Ae]=be=new ue(d)),P=be.add(v,P,N,ee,W),P.proxy)return P;if(N=ve(),P.proxy=N,N.src=d,N.listener=P,d.addEventListener)R||(B=ee),B===void 0&&(B=!1),d.addEventListener(v.toString(),N,B);else if(d.attachEvent)d.attachEvent(we(v.toString()),N);else if(d.addListener&&d.removeListener)d.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return P}function ve(){function d(P){return v.call(d.src,d.listener,P)}const v=ft;return d}function X(d,v,P,N,B){if(Array.isArray(v))for(var W=0;W<v.length;W++)X(d,v[W],P,N,B);else N=s(N)?!!N.capture:!!N,P=Qn(P),d&&d[V]?(d=d.i,W=String(v).toString(),W in d.g&&(v=d.g[W],P=ge(v,P,N,B),P>-1&&($(v[P]),Array.prototype.splice.call(v,P,1),v.length==0&&(delete d.g[W],d.h--)))):d&&(d=tt(d))&&(v=d.g[v.toString()],d=-1,v&&(d=ge(v,P,N,B)),(P=d>-1?v[d]:null)&&We(P))}function We(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[V])pe(v.i,d);else{var P=d.type,N=d.proxy;v.removeEventListener?v.removeEventListener(P,N,d.capture):v.detachEvent?v.detachEvent(we(P),N):v.addListener&&v.removeListener&&v.removeListener(N),(P=tt(v))?(pe(P,d),P.h==0&&(P.src=null,v[Ae]=null)):$(d)}}}function we(d){return d in se?se[d]:se[d]="on"+d}function ft(d,v){if(d.da)d=!0;else{v=new D(v,this);const P=d.listener,N=d.ha||d.src;d.fa&&We(d),d=P.call(N,v)}return d}function tt(d){return d=d[Ae],d instanceof ue?d:null}var Ct="__closure_events_fn_"+(Math.random()*1e9>>>0);function Qn(d){return typeof d=="function"?d:(d[Ct]||(d[Ct]=function(v){return d.handleEvent(v)}),d[Ct])}function nt(){j.call(this),this.i=new ue(this),this.M=this,this.G=null}f(nt,j),nt.prototype[V]=!0,nt.prototype.removeEventListener=function(d,v,P,N){X(this,d,v,P,N)};function mt(d,v){var P,N=d.G;if(N)for(P=[];N;N=N.G)P.push(N);if(d=d.M,N=v.type||v,typeof v=="string")v=new C(v,d);else if(v instanceof C)v.target=v.target||d;else{var B=v;v=new C(N,d),ne(v,B)}B=!0;let W,ee;if(P)for(ee=P.length-1;ee>=0;ee--)W=v.g=P[ee],B=Nn(W,N,!0,v)&&B;if(W=v.g=d,B=Nn(W,N,!0,v)&&B,B=Nn(W,N,!1,v)&&B,P)for(ee=0;ee<P.length;ee++)W=v.g=P[ee],B=Nn(W,N,!1,v)&&B}nt.prototype.N=function(){if(nt.Z.N.call(this),this.i){var d=this.i;for(const v in d.g){const P=d.g[v];for(let N=0;N<P.length;N++)$(P[N]);delete d.g[v],d.h--}}this.G=null},nt.prototype.J=function(d,v,P,N){return this.i.add(String(d),v,!1,P,N)},nt.prototype.K=function(d,v,P,N){return this.i.add(String(d),v,!0,P,N)};function Nn(d,v,P,N){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();let B=!0;for(let W=0;W<v.length;++W){const ee=v[W];if(ee&&!ee.da&&ee.capture==P){const be=ee.listener,wt=ee.ha||ee.src;ee.fa&&pe(d.i,ee),B=be.call(wt,N)!==!1&&B}}return B&&!N.defaultPrevented}function Lr(d,v){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=u(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:a.setTimeout(d,v||0)}function Na(d){d.g=Lr(()=>{d.g=null,d.i&&(d.i=!1,Na(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class Of extends j{constructor(v,P){super(),this.m=v,this.l=P,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Na(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bi(d){j.call(this),this.h=d,this.g={}}f(bi,j);var V_=[];function B_(d){U(d.g,function(v,P){this.g.hasOwnProperty(P)&&We(v)},d),d.g={}}bi.prototype.N=function(){bi.Z.N.call(this),B_(this)},bi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var hg=a.JSON.stringify,$D=a.JSON.parse,FD=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function z_(){}function U_(){}var Cl={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function pg(){C.call(this,"d")}f(pg,C);function mg(){C.call(this,"c")}f(mg,C);var jo={},W_=null;function kf(){return W_=W_||new nt}jo.Ia="serverreachability";function H_(d){C.call(this,jo.Ia,d)}f(H_,C);function jl(d){const v=kf();mt(v,new H_(v))}jo.STAT_EVENT="statevent";function q_(d,v){C.call(this,jo.STAT_EVENT,d),this.stat=v}f(q_,C);function an(d){const v=kf();mt(v,new q_(v,d))}jo.Ja="timingevent";function G_(d,v){C.call(this,jo.Ja,d),this.size=v}f(G_,C);function Rl(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},v)}function Nl(){this.g=!0}Nl.prototype.ua=function(){this.g=!1};function LD(d,v,P,N,B,W){d.info(function(){if(d.g)if(W){var ee="",be=W.split("&");for(let Le=0;Le<be.length;Le++){var wt=be[Le].split("=");if(wt.length>1){const jt=wt[0];wt=wt[1];const yr=jt.split("_");ee=yr.length>=2&&yr[1]=="type"?ee+(jt+"="+wt+"&"):ee+(jt+"=redacted&")}}}else ee=null;else ee=W;return"XMLHTTP REQ ("+N+") [attempt "+B+"]: "+v+`
`+P+`
`+ee})}function VD(d,v,P,N,B,W,ee){d.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+B+"]: "+v+`
`+P+`
`+W+" "+ee})}function Ma(d,v,P,N){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+zD(d,P)+(N?" "+N:"")})}function BD(d,v){d.info(function(){return"TIMEOUT: "+v})}Nl.prototype.info=function(){};function zD(d,v){if(!d.g)return v;if(!v)return null;try{const W=JSON.parse(v);if(W){for(d=0;d<W.length;d++)if(Array.isArray(W[d])){var P=W[d];if(!(P.length<2)){var N=P[1];if(Array.isArray(N)&&!(N.length<1)){var B=N[0];if(B!="noop"&&B!="stop"&&B!="close")for(let ee=1;ee<N.length;ee++)N[ee]=""}}}}return hg(W)}catch{return v}}var Cf={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},K_={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Y_;function gg(){}f(gg,z_),gg.prototype.g=function(){return new XMLHttpRequest},Y_=new gg;function Ml(d){return encodeURIComponent(String(d))}function UD(d){var v=1;d=d.split(":");const P=[];for(;v>0&&d.length;)P.push(d.shift()),v--;return d.length&&P.push(d.join(":")),P}function xi(d,v,P,N){this.j=d,this.i=v,this.l=P,this.S=N||1,this.V=new bi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new X_}function X_(){this.i=null,this.g="",this.h=!1}var Q_={},yg={};function vg(d,v,P){d.M=1,d.A=Rf(gr(v)),d.u=P,d.R=!0,J_(d,null)}function J_(d,v){d.F=Date.now(),jf(d),d.B=gr(d.A);var P=d.B,N=d.S;Array.isArray(N)||(N=[String(N)]),fw(P.i,"t",N),d.C=0,P=d.j.L,d.h=new X_,d.g=Ow(d.j,P?v:null,!d.u),d.P>0&&(d.O=new Of(u(d.Y,d,d.g),d.P)),v=d.V,P=d.g,N=d.ba;var B="readystatechange";Array.isArray(B)||(B&&(V_[0]=B.toString()),B=V_);for(let W=0;W<B.length;W++){const ee=Z(P,B[W],N||v.handleEvent,!1,v.h||v);if(!ee)break;v.g[ee.key]=ee}v=d.J?Q(d.J):{},d.u?(d.v||(d.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,v)):(d.v="GET",d.g.ea(d.B,d.v,null,v)),jl(),LD(d.i,d.v,d.B,d.l,d.S,d.u)}xi.prototype.ba=function(d){d=d.target;const v=this.O;v&&Si(d)==3?v.j():this.Y(d)},xi.prototype.Y=function(d){try{if(d==this.g)e:{const be=Si(this.g),wt=this.g.ya(),Le=this.g.ca();if(!(be<3)&&(be!=3||this.g&&(this.h.h||this.g.la()||vw(this.g)))){this.K||be!=4||wt==7||(wt==8||Le<=0?jl(3):jl(2)),bg(this);var v=this.g.ca();this.X=v;var P=WD(this);if(this.o=v==200,VD(this.i,this.v,this.B,this.l,this.S,be,v),this.o){if(this.U&&!this.L){t:{if(this.g){var N,B=this.g;if((N=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(N)){var W=N;break t}}W=null}if(d=W)Ma(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,xg(this,d);else{this.o=!1,this.m=3,an(12),Ro(this),Dl(this);break e}}if(this.R){d=!0;let jt;for(;!this.K&&this.C<P.length;)if(jt=HD(this,P),jt==yg){be==4&&(this.m=4,an(14),d=!1),Ma(this.i,this.l,null,"[Incomplete Response]");break}else if(jt==Q_){this.m=4,an(15),Ma(this.i,this.l,P,"[Invalid Chunk]"),d=!1;break}else Ma(this.i,this.l,jt,null),xg(this,jt);if(Z_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),be!=4||P.length!=0||this.h.h||(this.m=1,an(16),d=!1),this.o=this.o&&d,!d)Ma(this.i,this.l,P,"[Invalid Chunked Response]"),Ro(this),Dl(this);else if(P.length>0&&!this.W){this.W=!0;var ee=this.j;ee.g==this&&ee.aa&&!ee.P&&(ee.j.info("Great, no buffering proxy detected. Bytes received: "+P.length),Ig(ee),ee.P=!0,an(11))}}else Ma(this.i,this.l,P,null),xg(this,P);be==4&&Ro(this),this.o&&!this.K&&(be==4?Tw(this.j,this):(this.o=!1,jf(this)))}else o4(this.g),v==400&&P.indexOf("Unknown SID")>0?(this.m=3,an(12)):(this.m=0,an(13)),Ro(this),Dl(this)}}}catch{}finally{}};function WD(d){if(!Z_(d))return d.g.la();const v=vw(d.g);if(v==="")return"";let P="";const N=v.length,B=Si(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return Ro(d),Dl(d),"";d.h.i=new a.TextDecoder}for(let W=0;W<N;W++)d.h.h=!0,P+=d.h.i.decode(v[W],{stream:!(B&&W==N-1)});return v.length=0,d.h.g+=P,d.C=0,d.h.g}function Z_(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function HD(d,v){var P=d.C,N=v.indexOf(`
`,P);return N==-1?yg:(P=Number(v.substring(P,N)),isNaN(P)?Q_:(N+=1,N+P>v.length?yg:(v=v.slice(N,N+P),d.C=N+P,v)))}xi.prototype.cancel=function(){this.K=!0,Ro(this)};function jf(d){d.T=Date.now()+d.H,ew(d,d.H)}function ew(d,v){if(d.D!=null)throw Error("WatchDog timer not null");d.D=Rl(u(d.aa,d),v)}function bg(d){d.D&&(a.clearTimeout(d.D),d.D=null)}xi.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(BD(this.i,this.B),this.M!=2&&(jl(),an(17)),Ro(this),this.m=2,Dl(this)):ew(this,this.T-d)};function Dl(d){d.j.I==0||d.K||Tw(d.j,d)}function Ro(d){bg(d);var v=d.O;v&&typeof v.dispose=="function"&&v.dispose(),d.O=null,B_(d.V),d.g&&(v=d.g,d.g=null,v.abort(),v.dispose())}function xg(d,v){try{var P=d.j;if(P.I!=0&&(P.g==d||_g(P.h,d))){if(!d.L&&_g(P.h,d)&&P.I==3){try{var N=P.Ba.g.parse(v)}catch{N=null}if(Array.isArray(N)&&N.length==3){var B=N;if(B[0]==0){e:if(!P.v){if(P.g)if(P.g.F+3e3<d.F)Ff(P),Df(P);else break e;Pg(P),an(18)}}else P.xa=B[1],0<P.xa-P.K&&B[2]<37500&&P.F&&P.A==0&&!P.C&&(P.C=Rl(u(P.Va,P),6e3));rw(P.h)<=1&&P.ta&&(P.ta=void 0)}else Mo(P,11)}else if((d.L||P.g==d)&&Ff(P),!k(v))for(B=P.Ba.g.parse(v),v=0;v<B.length;v++){let Le=B[v];const jt=Le[0];if(!(jt<=P.K))if(P.K=jt,Le=Le[1],P.I==2)if(Le[0]=="c"){P.M=Le[1],P.ba=Le[2];const yr=Le[3];yr!=null&&(P.ka=yr,P.j.info("VER="+P.ka));const Do=Le[4];Do!=null&&(P.za=Do,P.j.info("SVER="+P.za));const Ei=Le[5];Ei!=null&&typeof Ei=="number"&&Ei>0&&(N=1.5*Ei,P.O=N,P.j.info("backChannelRequestTimeoutMs_="+N)),N=P;const Ti=d.g;if(Ti){const Vf=Ti.g?Ti.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vf){var W=N.h;W.g||Vf.indexOf("spdy")==-1&&Vf.indexOf("quic")==-1&&Vf.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(wg(W,W.h),W.h=null))}if(N.G){const Og=Ti.g?Ti.g.getResponseHeader("X-HTTP-Session-Id"):null;Og&&(N.wa=Og,Ge(N.J,N.G,Og))}}P.I=3,P.l&&P.l.ra(),P.aa&&(P.T=Date.now()-d.F,P.j.info("Handshake RTT: "+P.T+"ms")),N=P;var ee=d;if(N.na=Iw(N,N.L?N.ba:null,N.W),ee.L){iw(N.h,ee);var be=ee,wt=N.O;wt&&(be.H=wt),be.D&&(bg(be),jf(be)),N.g=ee}else Sw(N);P.i.length>0&&$f(P)}else Le[0]!="stop"&&Le[0]!="close"||Mo(P,7);else P.I==3&&(Le[0]=="stop"||Le[0]=="close"?Le[0]=="stop"?Mo(P,7):Ag(P):Le[0]!="noop"&&P.l&&P.l.qa(Le),P.A=0)}}jl(4)}catch{}}var qD=class{constructor(d,v){this.g=d,this.map=v}};function tw(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function nw(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function rw(d){return d.h?1:d.g?d.g.size:0}function _g(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function wg(d,v){d.g?d.g.add(v):d.h=v}function iw(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}tw.prototype.cancel=function(){if(this.i=ow(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function ow(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const P of d.g.values())v=v.concat(P.G);return v}return m(d.i)}var aw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function GD(d,v){if(d){d=d.split("&");for(let P=0;P<d.length;P++){const N=d[P].indexOf("=");let B,W=null;N>=0?(B=d[P].substring(0,N),W=d[P].substring(N+1)):B=d[P],v(B,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function _i(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;d instanceof _i?(this.l=d.l,$l(this,d.j),this.o=d.o,this.g=d.g,Fl(this,d.u),this.h=d.h,Sg(this,dw(d.i)),this.m=d.m):d&&(v=String(d).match(aw))?(this.l=!1,$l(this,v[1]||"",!0),this.o=Ll(v[2]||""),this.g=Ll(v[3]||"",!0),Fl(this,v[4]),this.h=Ll(v[5]||"",!0),Sg(this,v[6]||"",!0),this.m=Ll(v[7]||"")):(this.l=!1,this.i=new Bl(null,this.l))}_i.prototype.toString=function(){const d=[];var v=this.j;v&&d.push(Vl(v,sw,!0),":");var P=this.g;return(P||v=="file")&&(d.push("//"),(v=this.o)&&d.push(Vl(v,sw,!0),"@"),d.push(Ml(P).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),P=this.u,P!=null&&d.push(":",String(P))),(P=this.h)&&(this.g&&P.charAt(0)!="/"&&d.push("/"),d.push(Vl(P,P.charAt(0)=="/"?XD:YD,!0))),(P=this.i.toString())&&d.push("?",P),(P=this.m)&&d.push("#",Vl(P,JD)),d.join("")},_i.prototype.resolve=function(d){const v=gr(this);let P=!!d.j;P?$l(v,d.j):P=!!d.o,P?v.o=d.o:P=!!d.g,P?v.g=d.g:P=d.u!=null;var N=d.h;if(P)Fl(v,d.u);else if(P=!!d.h){if(N.charAt(0)!="/")if(this.g&&!this.h)N="/"+N;else{var B=v.h.lastIndexOf("/");B!=-1&&(N=v.h.slice(0,B+1)+N)}if(B=N,B==".."||B==".")N="";else if(B.indexOf("./")!=-1||B.indexOf("/.")!=-1){N=B.lastIndexOf("/",0)==0,B=B.split("/");const W=[];for(let ee=0;ee<B.length;){const be=B[ee++];be=="."?N&&ee==B.length&&W.push(""):be==".."?((W.length>1||W.length==1&&W[0]!="")&&W.pop(),N&&ee==B.length&&W.push("")):(W.push(be),N=!0)}N=W.join("/")}else N=B}return P?v.h=N:P=d.i.toString()!=="",P?Sg(v,dw(d.i)):P=!!d.m,P&&(v.m=d.m),v};function gr(d){return new _i(d)}function $l(d,v,P){d.j=P?Ll(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function Fl(d,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);d.u=v}else d.u=null}function Sg(d,v,P){v instanceof Bl?(d.i=v,ZD(d.i,d.l)):(P||(v=Vl(v,QD)),d.i=new Bl(v,d.l))}function Ge(d,v,P){d.i.set(v,P)}function Rf(d){return Ge(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function Ll(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Vl(d,v,P){return typeof d=="string"?(d=encodeURI(d).replace(v,KD),P&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function KD(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var sw=/[#\/\?@]/g,YD=/[#\?:]/g,XD=/[#\?]/g,QD=/[#\?@]/g,JD=/#/g;function Bl(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function No(d){d.g||(d.g=new Map,d.h=0,d.i&&GD(d.i,function(v,P){d.add(decodeURIComponent(v.replace(/\+/g," ")),P)}))}t=Bl.prototype,t.add=function(d,v){No(this),this.i=null,d=Da(this,d);let P=this.g.get(d);return P||this.g.set(d,P=[]),P.push(v),this.h+=1,this};function lw(d,v){No(d),v=Da(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function uw(d,v){return No(d),v=Da(d,v),d.g.has(v)}t.forEach=function(d,v){No(this),this.g.forEach(function(P,N){P.forEach(function(B){d.call(v,B,N,this)},this)},this)};function cw(d,v){No(d);let P=[];if(typeof v=="string")uw(d,v)&&(P=P.concat(d.g.get(Da(d,v))));else for(d=Array.from(d.g.values()),v=0;v<d.length;v++)P=P.concat(d[v]);return P}t.set=function(d,v){return No(this),this.i=null,d=Da(this,d),uw(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},t.get=function(d,v){return d?(d=cw(this,d),d.length>0?String(d[0]):v):v};function fw(d,v,P){lw(d,v),P.length>0&&(d.i=null,d.g.set(Da(d,v),m(P)),d.h+=P.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(let N=0;N<v.length;N++){var P=v[N];const B=Ml(P);P=cw(this,P);for(let W=0;W<P.length;W++){let ee=B;P[W]!==""&&(ee+="="+Ml(P[W])),d.push(ee)}}return this.i=d.join("&")};function dw(d){const v=new Bl;return v.i=d.i,d.g&&(v.g=new Map(d.g),v.h=d.h),v}function Da(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function ZD(d,v){v&&!d.j&&(No(d),d.i=null,d.g.forEach(function(P,N){const B=N.toLowerCase();N!=B&&(lw(this,N),fw(this,B,P))},d)),d.j=v}function e4(d,v){const P=new Nl;if(a.Image){const N=new Image;N.onload=c(wi,P,"TestLoadImage: loaded",!0,v,N),N.onerror=c(wi,P,"TestLoadImage: error",!1,v,N),N.onabort=c(wi,P,"TestLoadImage: abort",!1,v,N),N.ontimeout=c(wi,P,"TestLoadImage: timeout",!1,v,N),a.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=d}else v(!1)}function t4(d,v){const P=new Nl,N=new AbortController,B=setTimeout(()=>{N.abort(),wi(P,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:N.signal}).then(W=>{clearTimeout(B),W.ok?wi(P,"TestPingServer: ok",!0,v):wi(P,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(B),wi(P,"TestPingServer: error",!1,v)})}function wi(d,v,P,N,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),N(P)}catch{}}function n4(){this.g=new FD}function Eg(d){this.i=d.Sb||null,this.h=d.ab||!1}f(Eg,z_),Eg.prototype.g=function(){return new Nf(this.i,this.h)};function Nf(d,v){nt.call(this),this.H=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(Nf,nt),t=Nf.prototype,t.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=v,this.readyState=1,Ul(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(v.body=d),(this.H||a).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,zl(this)),this.readyState=0},t.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Ul(this)),this.g&&(this.readyState=3,Ul(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;hw(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function hw(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}t.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?zl(this):Ul(this),this.readyState==3&&hw(this)}},t.Oa=function(d){this.g&&(this.response=this.responseText=d,zl(this))},t.Na=function(d){this.g&&(this.response=d,zl(this))},t.ga=function(){this.g&&zl(this)};function zl(d){d.readyState=4,d.l=null,d.j=null,d.B=null,Ul(d)}t.setRequestHeader=function(d,v){this.A.append(d,v)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var P=v.next();!P.done;)P=P.value,d.push(P[0]+": "+P[1]),P=v.next();return d.join(`\r
`)};function Ul(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Nf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function pw(d){let v="";return U(d,function(P,N){v+=N,v+=":",v+=P,v+=`\r
`}),v}function Tg(d,v,P){e:{for(N in P){var N=!1;break e}N=!0}N||(P=pw(P),typeof d=="string"?P!=null&&Ml(P):Ge(d,v,P))}function lt(d){nt.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(lt,nt);var r4=/^https?$/i,i4=["POST","PUT"];t=lt.prototype,t.Fa=function(d){this.H=d},t.ea=function(d,v,P,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Y_.g(),this.g.onreadystatechange=p(u(this.Ca,this));try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch(W){mw(this,W);return}if(d=P||"",P=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var B in N)P.set(B,N[B]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const W of N.keys())P.set(W,N.get(W));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(P.keys()).find(W=>W.toLowerCase()=="content-type"),B=a.FormData&&d instanceof a.FormData,!(Array.prototype.indexOf.call(i4,v,void 0)>=0)||N||B||P.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,ee]of P)this.g.setRequestHeader(W,ee);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(W){mw(this,W)}};function mw(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.o=5,gw(d),Mf(d)}function gw(d){d.A||(d.A=!0,mt(d,"complete"),mt(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,mt(this,"complete"),mt(this,"abort"),Mf(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mf(this,!0)),lt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?yw(this):this.Xa())},t.Xa=function(){yw(this)};function yw(d){if(d.h&&typeof o<"u"){if(d.v&&Si(d)==4)setTimeout(d.Ca.bind(d),0);else if(mt(d,"readystatechange"),Si(d)==4){d.h=!1;try{const W=d.ca();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var P;if(!(P=v)){var N;if(N=W===0){let ee=String(d.D).match(aw)[1]||null;!ee&&a.self&&a.self.location&&(ee=a.self.location.protocol.slice(0,-1)),N=!r4.test(ee?ee.toLowerCase():"")}P=N}if(P)mt(d,"complete"),mt(d,"success");else{d.o=6;try{var B=Si(d)>2?d.g.statusText:""}catch{B=""}d.l=B+" ["+d.ca()+"]",gw(d)}}finally{Mf(d)}}}}function Mf(d,v){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const P=d.g;d.g=null,v||mt(d,"ready");try{P.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Si(d){return d.g?d.g.readyState:0}t.ca=function(){try{return Si(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),$D(v)}};function vw(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function o4(d){const v={};d=(d.g&&Si(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<d.length;N++){if(k(d[N]))continue;var P=UD(d[N]);const B=P[0];if(P=P[1],typeof P!="string")continue;P=P.trim();const W=v[B]||[];v[B]=W,W.push(P)}H(v,function(N){return N.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Wl(d,v,P){return P&&P.internalChannelParams&&P.internalChannelParams[d]||v}function bw(d){this.za=0,this.i=[],this.j=new Nl,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Wl("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Wl("baseRetryDelayMs",5e3,d),this.Za=Wl("retryDelaySeedMs",1e4,d),this.Ta=Wl("forwardChannelMaxRetries",2,d),this.va=Wl("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new tw(d&&d.concurrentRequestLimit),this.Ba=new n4,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=bw.prototype,t.ka=8,t.I=1,t.connect=function(d,v,P,N){an(0),this.W=d,this.H=v||{},P&&N!==void 0&&(this.H.OSID=P,this.H.OAID=N),this.F=this.X,this.J=Iw(this,null,this.W),$f(this)};function Ag(d){if(xw(d),d.I==3){var v=d.V++,P=gr(d.J);if(Ge(P,"SID",d.M),Ge(P,"RID",v),Ge(P,"TYPE","terminate"),Hl(d,P),v=new xi(d,d.j,v),v.M=2,v.A=Rf(gr(P)),P=!1,a.navigator&&a.navigator.sendBeacon)try{P=a.navigator.sendBeacon(v.A.toString(),"")}catch{}!P&&a.Image&&(new Image().src=v.A,P=!0),P||(v.g=Ow(v.j,null),v.g.ea(v.A)),v.F=Date.now(),jf(v)}Pw(d)}function Df(d){d.g&&(Ig(d),d.g.cancel(),d.g=null)}function xw(d){Df(d),d.v&&(a.clearTimeout(d.v),d.v=null),Ff(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&a.clearTimeout(d.m),d.m=null)}function $f(d){if(!nw(d.h)&&!d.m){d.m=!0;var v=d.Ea;E||T(),A||(E(),A=!0),b.add(v,d),d.D=0}}function a4(d,v){return rw(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=v.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=Rl(u(d.Ea,d,v),Aw(d,d.D)),d.D++,!0)}t.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const B=new xi(this,this.j,d);let W=this.o;if(this.U&&(W?(W=Q(W),ne(W,this.U)):W=this.U),this.u!==null||this.R||(B.J=W,W=null),this.S)e:{for(var v=0,P=0;P<this.i.length;P++){t:{var N=this.i[P];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(v+=N,v>4096){v=P;break e}if(v===4096||P===this.i.length-1){v=P+1;break e}}v=1e3}else v=1e3;v=ww(this,B,v),P=gr(this.J),Ge(P,"RID",d),Ge(P,"CVER",22),this.G&&Ge(P,"X-HTTP-Session-Id",this.G),Hl(this,P),W&&(this.R?v="headers="+Ml(pw(W))+"&"+v:this.u&&Tg(P,this.u,W)),wg(this.h,B),this.Ra&&Ge(P,"TYPE","init"),this.S?(Ge(P,"$req",v),Ge(P,"SID","null"),B.U=!0,vg(B,P,null)):vg(B,P,v),this.I=2}}else this.I==3&&(d?_w(this,d):this.i.length==0||nw(this.h)||_w(this))};function _w(d,v){var P;v?P=v.l:P=d.V++;const N=gr(d.J);Ge(N,"SID",d.M),Ge(N,"RID",P),Ge(N,"AID",d.K),Hl(d,N),d.u&&d.o&&Tg(N,d.u,d.o),P=new xi(d,d.j,P,d.D+1),d.u===null&&(P.J=d.o),v&&(d.i=v.G.concat(d.i)),v=ww(d,P,1e3),P.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),wg(d.h,P),vg(P,N,v)}function Hl(d,v){d.H&&U(d.H,function(P,N){Ge(v,N,P)}),d.l&&U({},function(P,N){Ge(v,N,P)})}function ww(d,v,P){P=Math.min(d.i.length,P);const N=d.l?u(d.l.Ka,d.l,d):null;e:{var B=d.i;let be=-1;for(;;){const wt=["count="+P];be==-1?P>0?(be=B[0].g,wt.push("ofs="+be)):be=0:wt.push("ofs="+be);let Le=!0;for(let jt=0;jt<P;jt++){var W=B[jt].g;const yr=B[jt].map;if(W-=be,W<0)be=Math.max(0,B[jt].g-100),Le=!1;else try{W="req"+W+"_"||"";try{var ee=yr instanceof Map?yr:Object.entries(yr);for(const[Do,Ei]of ee){let Ti=Ei;s(Ei)&&(Ti=hg(Ei)),wt.push(W+Do+"="+encodeURIComponent(Ti))}}catch(Do){throw wt.push(W+"type="+encodeURIComponent("_badmap")),Do}}catch{N&&N(yr)}}if(Le){ee=wt.join("&");break e}}ee=void 0}return d=d.i.splice(0,P),v.G=d,ee}function Sw(d){if(!d.g&&!d.v){d.Y=1;var v=d.Da;E||T(),A||(E(),A=!0),b.add(v,d),d.A=0}}function Pg(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=Rl(u(d.Da,d),Aw(d,d.A)),d.A++,!0)}t.Da=function(){if(this.v=null,Ew(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=Rl(u(this.Wa,this),d)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,an(10),Df(this),Ew(this))};function Ig(d){d.B!=null&&(a.clearTimeout(d.B),d.B=null)}function Ew(d){d.g=new xi(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var v=gr(d.na);Ge(v,"RID","rpc"),Ge(v,"SID",d.M),Ge(v,"AID",d.K),Ge(v,"CI",d.F?"0":"1"),!d.F&&d.ia&&Ge(v,"TO",d.ia),Ge(v,"TYPE","xmlhttp"),Hl(d,v),d.u&&d.o&&Tg(v,d.u,d.o),d.O&&(d.g.H=d.O);var P=d.g;d=d.ba,P.M=1,P.A=Rf(gr(v)),P.u=null,P.R=!0,J_(P,d)}t.Va=function(){this.C!=null&&(this.C=null,Df(this),Pg(this),an(19))};function Ff(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function Tw(d,v){var P=null;if(d.g==v){Ff(d),Ig(d),d.g=null;var N=2}else if(_g(d.h,v))P=v.G,iw(d.h,v),N=1;else return;if(d.I!=0){if(v.o)if(N==1){P=v.u?v.u.length:0,v=Date.now()-v.F;var B=d.D;N=kf(),mt(N,new G_(N,P)),$f(d)}else Sw(d);else if(B=v.m,B==3||B==0&&v.X>0||!(N==1&&a4(d,v)||N==2&&Pg(d)))switch(P&&P.length>0&&(v=d.h,v.i=v.i.concat(P)),B){case 1:Mo(d,5);break;case 4:Mo(d,10);break;case 3:Mo(d,6);break;default:Mo(d,2)}}}function Aw(d,v){let P=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(P*=2),P*v}function Mo(d,v){if(d.j.info("Error code "+v),v==2){var P=u(d.bb,d),N=d.Ua;const B=!N;N=new _i(N||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||$l(N,"https"),Rf(N),B?e4(N.toString(),P):t4(N.toString(),P)}else an(2);d.I=0,d.l&&d.l.pa(v),Pw(d),xw(d)}t.bb=function(d){d?(this.j.info("Successfully pinged google.com"),an(2)):(this.j.info("Failed to ping google.com"),an(1))};function Pw(d){if(d.I=0,d.ja=[],d.l){const v=ow(d.h);(v.length!=0||d.i.length!=0)&&(y(d.ja,v),y(d.ja,d.i),d.h.i.length=0,m(d.i),d.i.length=0),d.l.oa()}}function Iw(d,v,P){var N=P instanceof _i?gr(P):new _i(P);if(N.g!="")v&&(N.g=v+"."+N.g),Fl(N,N.u);else{var B=a.location;N=B.protocol,v=v?v+"."+B.hostname:B.hostname,B=+B.port;const W=new _i(null);N&&$l(W,N),v&&(W.g=v),B&&Fl(W,B),P&&(W.h=P),N=W}return P=d.G,v=d.wa,P&&v&&Ge(N,P,v),Ge(N,"VER",d.ka),Hl(d,N),N}function Ow(d,v,P){if(v&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Aa&&!d.ma?new lt(new Eg({ab:P})):new lt(d.ma),v.Fa(d.L),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function kw(){}t=kw.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Lf(){}Lf.prototype.g=function(d,v){return new wn(d,v)};function wn(d,v){nt.call(this),this.g=new bw(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(d?d["X-WebChannel-Client-Profile"]=v.sa:d={"X-WebChannel-Client-Profile":v.sa}),this.g.U=d,(d=v&&v.Qb)&&!k(d)&&(this.g.u=d),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!k(v)&&(this.g.G=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new $a(this)}f(wn,nt),wn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},wn.prototype.close=function(){Ag(this.g)},wn.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var P={};P.__data__=d,d=P}else this.v&&(P={},P.__data__=hg(d),d=P);v.i.push(new qD(v.Ya++,d)),v.I==3&&$f(v)},wn.prototype.N=function(){this.g.l=null,delete this.j,Ag(this.g),delete this.g,wn.Z.N.call(this)};function Cw(d){pg.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){e:{for(const P in v){d=P;break e}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}f(Cw,pg);function jw(){mg.call(this),this.status=1}f(jw,mg);function $a(d){this.g=d}f($a,kw),$a.prototype.ra=function(){mt(this.g,"a")},$a.prototype.qa=function(d){mt(this.g,new Cw(d))},$a.prototype.pa=function(d){mt(this.g,new jw)},$a.prototype.oa=function(){mt(this.g,"b")},Lf.prototype.createWebChannel=Lf.prototype.g,wn.prototype.send=wn.prototype.o,wn.prototype.open=wn.prototype.m,wn.prototype.close=wn.prototype.close,jC=function(){return new Lf},CC=function(){return kf()},kC=jo,Qv={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Cf.NO_ERROR=0,Cf.TIMEOUT=8,Cf.HTTP_ERROR=6,zd=Cf,K_.COMPLETE="complete",OC=K_,U_.EventType=Cl,Cl.OPEN="a",Cl.CLOSE="b",Cl.ERROR="c",Cl.MESSAGE="d",nt.prototype.listen=nt.prototype.J,yu=U_,lt.prototype.listenOnce=lt.prototype.K,lt.prototype.getLastError=lt.prototype.Ha,lt.prototype.getLastErrorCode=lt.prototype.ya,lt.prototype.getStatus=lt.prototype.ca,lt.prototype.getResponseJson=lt.prototype.La,lt.prototype.getResponseText=lt.prototype.la,lt.prototype.send=lt.prototype.ea,lt.prototype.setWithCredentials=lt.prototype.Fa,IC=lt}).apply(typeof ad<"u"?ad:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ml="12.9.0";function NV(t){ml=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga=new F1("@firebase/firestore");function Ua(){return ga.logLevel}function re(t,...e){if(ga.logLevel<=Se.DEBUG){const n=e.map(Y1);ga.debug(`Firestore (${ml}): ${t}`,...n)}}function si(t,...e){if(ga.logLevel<=Se.ERROR){const n=e.map(Y1);ga.error(`Firestore (${ml}): ${t}`,...n)}}function ya(t,...e){if(ga.logLevel<=Se.WARN){const n=e.map(Y1);ga.warn(`Firestore (${ml}): ${t}`,...n)}}function Y1(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function de(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,RC(t,r,n)}function RC(t,e,n){let r=`FIRESTORE (${ml}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw si(r),new Error(r)}function Ne(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||RC(e,i,r)}function ye(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends pi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class MV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Jt.UNAUTHENTICATED))}shutdown(){}}class DV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class $V{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ne(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new ro;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ro,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},s=l=>{re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>s(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?s(l):(re("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ro)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ne(typeof r.accessToken=="string",31837,{l:r}),new NC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ne(e===null||typeof e=="string",2055,{h:e}),new Jt(e)}}class FV{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class LV{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new FV(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class I2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class VV{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Vn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ne(this.o===void 0,3512);const r=o=>{o.error!=null&&re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.m;return this.m=o.token,re("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new I2(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ne(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new I2(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BV(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=BV(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function Ee(t,e){return t<e?-1:t>e?1:0}function Jv(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),o=e.charAt(r);if(i!==o)return cy(i)===cy(o)?Ee(i,o):cy(i)?1:-1}return Ee(t.length,e.length)}const zV=55296,UV=57343;function cy(t){const e=t.charCodeAt(0);return e>=zV&&e<=UV}function Rs(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2="__name__";class xr{constructor(e,n,r){n===void 0?n=0:n>e.length&&de(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&de(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return xr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof xr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=xr.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return Ee(e.length,n.length)}static compareSegments(e,n){const r=xr.isNumericId(e),i=xr.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?xr.extractNumericId(e).compare(xr.extractNumericId(n)):Jv(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return no.fromString(e.substring(4,e.length-2))}}class it extends xr{construct(e,n,r){return new it(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ae(Y.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new it(n)}static emptyPath(){return new it([])}}const WV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zt extends xr{construct(e,n,r){return new zt(e,n,r)}static isValidIdentifier(e){return WV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===O2}static keyField(){return new zt([O2])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new ae(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const s=e[i];if(s==="\\"){if(i+1===e.length)throw new ae(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ae(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else s==="`"?(a=!a,i++):s!=="."||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new ae(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zt(n)}static emptyPath(){return new zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.path=e}static fromPath(e){return new le(it.fromString(e))}static fromName(e){return new le(it.fromString(e).popFirst(5))}static empty(){return new le(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return it.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new le(new it(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HV(t,e,n){if(!n)throw new ae(Y.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function qV(t,e,n,r){if(e===!0&&r===!0)throw new ae(Y.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function k2(t){if(!le.isDocumentKey(t))throw new ae(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function MC(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Q1(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":de(12329,{type:typeof t})}function Pr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ae(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Q1(t);throw new ae(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(t,e){const n={typeString:t};return e&&(n.value=e),n}function pf(t,e){if(!MC(t))throw new ae(Y.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const a=t[r];if(i&&typeof a!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&a!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new ae(Y.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2=-62135596800,j2=1e6;class Qe{static now(){return Qe.fromMillis(Date.now())}static fromDate(e){return Qe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*j2);return new Qe(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ae(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ae(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<C2)throw new ae(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/j2}_compareTo(e){return this.seconds===e.seconds?Ee(this.nanoseconds,e.nanoseconds):Ee(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Qe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(pf(e,Qe._jsonSchema))return new Qe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-C2;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Qe._jsonSchemaVersion="firestore/timestamp/1.0",Qe._jsonSchema={type:bt("string",Qe._jsonSchemaVersion),seconds:bt("number"),nanoseconds:bt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{static fromTimestamp(e){return new me(e)}static min(){return new me(new Qe(0,0))}static max(){return new me(new Qe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uc=-1;function GV(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=me.fromTimestamp(r===1e9?new Qe(n+1,0):new Qe(n,r));return new lo(i,le.empty(),e)}function KV(t){return new lo(t.readTime,t.key,uc)}class lo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new lo(me.min(),le.empty(),uc)}static max(){return new lo(me.max(),le.empty(),uc)}}function YV(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=le.comparator(t.documentKey,e.documentKey),n!==0?n:Ee(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class QV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gl(t){if(t.code!==Y.FAILED_PRECONDITION||t.message!==XV)throw t;re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&de(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new K((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof K?n:K.resolve(n)}catch(n){return K.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):K.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):K.reject(n)}static resolve(e){return new K((n,r)=>{n(e)})}static reject(e){return new K((n,r)=>{r(e)})}static waitFor(e){return new K((n,r)=>{let i=0,o=0,a=!1;e.forEach(s=>{++i,s.next(()=>{++o,a&&o===i&&n()},l=>r(l))}),a=!0,o===i&&n()})}static or(e){let n=K.resolve(!1);for(const r of e)n=n.next(i=>i?K.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new K((r,i)=>{const o=e.length,a=new Array(o);let s=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(c=>{a[u]=c,++s,s===o&&r(a)},c=>i(c))}})}static doWhile(e,n){return new K((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function JV(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function yl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}sm.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1=-1;function lm(t){return t==null}function Ih(t){return t===0&&1/t==-1/0}function ZV(t){return typeof t=="number"&&Number.isInteger(t)&&!Ih(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC="";function e8(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=R2(e)),e=t8(t.get(n),e);return R2(e)}function t8(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case DC:n+="";break;default:n+=o}}return n}function R2(t){return t+DC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N2(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Eo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function $C(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e,n){this.comparator=e,this.root=n||Bt.EMPTY}insert(e,n){return new st(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Bt.BLACK,null,null))}remove(e){return new st(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sd(this.root,e,this.comparator,!1)}getReverseIterator(){return new sd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sd(this.root,e,this.comparator,!0)}}class sd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Bt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Bt.RED,this.left=i??Bt.EMPTY,this.right=o??Bt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Bt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Bt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Bt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw de(43730,{key:this.key,value:this.value});if(this.right.isRed())throw de(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw de(27949);return e+(this.isRed()?0:1)}}Bt.EMPTY=null,Bt.RED=!0,Bt.BLACK=!1;Bt.EMPTY=new class{constructor(){this.size=0}get key(){throw de(57766)}get value(){throw de(16141)}get color(){throw de(16727)}get left(){throw de(29726)}get right(){throw de(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new Bt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.comparator=e,this.data=new st(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new M2(this.data.getIterator())}getIteratorFrom(e){return new M2(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ot)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ot(this.comparator);return n.data=e,n}}class M2{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.fields=e,e.sort(zt.comparator)}static empty(){return new In([])}unionWith(e){let n=new Ot(zt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new In(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Rs(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new FC("Invalid base64 string: "+o):o}}(e);return new Gt(n)}static fromUint8Array(e){const n=function(i){let o="";for(let a=0;a<i.length;++a)o+=String.fromCharCode(i[a]);return o}(e);return new Gt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ee(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gt.EMPTY_BYTE_STRING=new Gt("");const n8=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function uo(t){if(Ne(!!t,39018),typeof t=="string"){let e=0;const n=n8.exec(t);if(Ne(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:dt(t.seconds),nanos:dt(t.nanos)}}function dt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function co(t){return typeof t=="string"?Gt.fromBase64String(t):Gt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC="server_timestamp",VC="__type__",BC="__previous_value__",zC="__local_write_time__";function Z1(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[VC])==null?void 0:r.stringValue)===LC}function um(t){const e=t.mapValue.fields[BC];return Z1(e)?um(e):e}function cc(t){const e=uo(t.mapValue.fields[zC].timestampValue);return new Qe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r8{constructor(e,n,r,i,o,a,s,l,u,c,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=s,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=c,this.apiKey=f}}const Oh="(default)";class fc{constructor(e,n){this.projectId=e,this.database=n||Oh}static empty(){return new fc("","")}get isDefaultDatabase(){return this.database===Oh}isEqual(e){return e instanceof fc&&e.projectId===this.projectId&&e.database===this.database}}function i8(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new ae(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fc(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC="__type__",o8="__max__",ld={mapValue:{}},WC="__vector__",kh="value";function fo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Z1(t)?4:s8(t)?9007199254740991:a8(t)?10:11:de(28295,{value:t})}function Nr(t,e){if(t===e)return!0;const n=fo(t);if(n!==fo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return cc(t).isEqual(cc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const a=uo(i.timestampValue),s=uo(o.timestampValue);return a.seconds===s.seconds&&a.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return co(i.bytesValue).isEqual(co(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return dt(i.geoPointValue.latitude)===dt(o.geoPointValue.latitude)&&dt(i.geoPointValue.longitude)===dt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return dt(i.integerValue)===dt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const a=dt(i.doubleValue),s=dt(o.doubleValue);return a===s?Ih(a)===Ih(s):isNaN(a)&&isNaN(s)}return!1}(t,e);case 9:return Rs(t.arrayValue.values||[],e.arrayValue.values||[],Nr);case 10:case 11:return function(i,o){const a=i.mapValue.fields||{},s=o.mapValue.fields||{};if(N2(a)!==N2(s))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(s[l]===void 0||!Nr(a[l],s[l])))return!1;return!0}(t,e);default:return de(52216,{left:t})}}function dc(t,e){return(t.values||[]).find(n=>Nr(n,e))!==void 0}function Ns(t,e){if(t===e)return 0;const n=fo(t),r=fo(e);if(n!==r)return Ee(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ee(t.booleanValue,e.booleanValue);case 2:return function(o,a){const s=dt(o.integerValue||o.doubleValue),l=dt(a.integerValue||a.doubleValue);return s<l?-1:s>l?1:s===l?0:isNaN(s)?isNaN(l)?0:-1:1}(t,e);case 3:return D2(t.timestampValue,e.timestampValue);case 4:return D2(cc(t),cc(e));case 5:return Jv(t.stringValue,e.stringValue);case 6:return function(o,a){const s=co(o),l=co(a);return s.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,a){const s=o.split("/"),l=a.split("/");for(let u=0;u<s.length&&u<l.length;u++){const c=Ee(s[u],l[u]);if(c!==0)return c}return Ee(s.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,a){const s=Ee(dt(o.latitude),dt(a.latitude));return s!==0?s:Ee(dt(o.longitude),dt(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return $2(t.arrayValue,e.arrayValue);case 10:return function(o,a){var p,m,y,w;const s=o.fields||{},l=a.fields||{},u=(p=s[kh])==null?void 0:p.arrayValue,c=(m=l[kh])==null?void 0:m.arrayValue,f=Ee(((y=u==null?void 0:u.values)==null?void 0:y.length)||0,((w=c==null?void 0:c.values)==null?void 0:w.length)||0);return f!==0?f:$2(u,c)}(t.mapValue,e.mapValue);case 11:return function(o,a){if(o===ld.mapValue&&a===ld.mapValue)return 0;if(o===ld.mapValue)return 1;if(a===ld.mapValue)return-1;const s=o.fields||{},l=Object.keys(s),u=a.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let f=0;f<l.length&&f<c.length;++f){const p=Jv(l[f],c[f]);if(p!==0)return p;const m=Ns(s[l[f]],u[c[f]]);if(m!==0)return m}return Ee(l.length,c.length)}(t.mapValue,e.mapValue);default:throw de(23264,{he:n})}}function D2(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ee(t,e);const n=uo(t),r=uo(e),i=Ee(n.seconds,r.seconds);return i!==0?i:Ee(n.nanos,r.nanos)}function $2(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Ns(n[i],r[i]);if(o)return o}return Ee(n.length,r.length)}function Ms(t){return Zv(t)}function Zv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=uo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return co(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return le.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Zv(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const a of r)o?o=!1:i+=",",i+=`${a}:${Zv(n.fields[a])}`;return i+"}"}(t.mapValue):de(61005,{value:t})}function Ud(t){switch(fo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=um(t);return e?16+Ud(e):16;case 5:return 2*t.stringValue.length;case 6:return co(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Ud(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Eo(r.fields,(o,a)=>{i+=o.length+Ud(a)}),i}(t.mapValue);default:throw de(13486,{value:t})}}function e0(t){return!!t&&"integerValue"in t}function ex(t){return!!t&&"arrayValue"in t}function F2(t){return!!t&&"nullValue"in t}function L2(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Wd(t){return!!t&&"mapValue"in t}function a8(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[UC])==null?void 0:r.stringValue)===WC}function Ru(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Eo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ru(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ru(t.arrayValue.values[n]);return e}return{...t}}function s8(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===o8}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Wd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ru(n)}setAll(e){let n=zt.emptyPath(),r={},i=[];e.forEach((a,s)=>{if(!n.isImmediateParentOf(s)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=s.popLast()}a?r[s.lastSegment()]=Ru(a):i.push(s.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Wd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Nr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Wd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Eo(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new mn(Ru(this.value))}}function HC(t){const e=[];return Eo(t.fields,(n,r)=>{const i=new zt([n]);if(Wd(r)){const o=HC(r.mapValue).fields;if(o.length===0)e.push(i);else for(const a of o)e.push(i.child(a))}else e.push(i)}),new In(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,n,r,i,o,a,s){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=a,this.documentState=s}static newInvalidDocument(e){return new en(e,0,me.min(),me.min(),me.min(),mn.empty(),0)}static newFoundDocument(e,n,r,i){return new en(e,1,n,me.min(),r,i,0)}static newNoDocument(e,n){return new en(e,2,n,me.min(),me.min(),mn.empty(),0)}static newUnknownDocument(e,n){return new en(e,3,n,me.min(),me.min(),mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,n){this.position=e,this.inclusive=n}}function V2(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],a=t.position[i];if(o.field.isKeyField()?r=le.comparator(le.fromName(a.referenceValue),n.key):r=Ns(a,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function B2(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Nr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,n="asc"){this.field=e,this.dir=n}}function l8(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{}class At extends qC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new c8(e,n,r):n==="array-contains"?new h8(e,r):n==="in"?new p8(e,r):n==="not-in"?new m8(e,r):n==="array-contains-any"?new g8(e,r):new At(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new f8(e,r):new d8(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ns(n,this.value)):n!==null&&fo(this.value)===fo(n)&&this.matchesComparison(Ns(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return de(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mr extends qC{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Mr(e,n)}matches(e){return GC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function GC(t){return t.op==="and"}function KC(t){return u8(t)&&GC(t)}function u8(t){for(const e of t.filters)if(e instanceof Mr)return!1;return!0}function t0(t){if(t instanceof At)return t.field.canonicalString()+t.op.toString()+Ms(t.value);if(KC(t))return t.filters.map(e=>t0(e)).join(",");{const e=t.filters.map(n=>t0(n)).join(",");return`${t.op}(${e})`}}function YC(t,e){return t instanceof At?function(r,i){return i instanceof At&&r.op===i.op&&r.field.isEqual(i.field)&&Nr(r.value,i.value)}(t,e):t instanceof Mr?function(r,i){return i instanceof Mr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,a,s)=>o&&YC(a,i.filters[s]),!0):!1}(t,e):void de(19439)}function XC(t){return t instanceof At?function(n){return`${n.field.canonicalString()} ${n.op} ${Ms(n.value)}`}(t):t instanceof Mr?function(n){return n.op.toString()+" {"+n.getFilters().map(XC).join(" ,")+"}"}(t):"Filter"}class c8 extends At{constructor(e,n,r){super(e,n,r),this.key=le.fromName(r.referenceValue)}matches(e){const n=le.comparator(e.key,this.key);return this.matchesComparison(n)}}class f8 extends At{constructor(e,n){super(e,"in",n),this.keys=QC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class d8 extends At{constructor(e,n){super(e,"not-in",n),this.keys=QC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function QC(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>le.fromName(r.referenceValue))}class h8 extends At{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ex(n)&&dc(n.arrayValue,this.value)}}class p8 extends At{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&dc(this.value.arrayValue,n)}}class m8 extends At{constructor(e,n){super(e,"not-in",n)}matches(e){if(dc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!dc(this.value.arrayValue,n)}}class g8 extends At{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ex(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>dc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y8{constructor(e,n=null,r=[],i=[],o=null,a=null,s=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=a,this.endAt=s,this.Te=null}}function z2(t,e=null,n=[],r=[],i=null,o=null,a=null){return new y8(t,e,n,r,i,o,a)}function tx(t){const e=ye(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>t0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),lm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ms(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ms(r)).join(",")),e.Te=n}return e.Te}function nx(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!l8(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!YC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!B2(t.startAt,e.startAt)&&B2(t.endAt,e.endAt)}function n0(t){return le.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e,n=null,r=[],i=[],o=null,a="F",s=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=a,this.startAt=s,this.endAt=l,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function v8(t,e,n,r,i,o,a,s){return new cm(t,e,n,r,i,o,a,s)}function fm(t){return new cm(t)}function U2(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function b8(t){return le.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function x8(t){return t.collectionGroup!==null}function Nu(t){const e=ye(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let s=new Ot(zt.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(s=s.add(u.field))})}),s})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new jh(o,r))}),n.has(zt.keyField().canonicalString())||e.Ie.push(new jh(zt.keyField(),r))}return e.Ie}function Ir(t){const e=ye(t);return e.Ee||(e.Ee=_8(e,Nu(t))),e.Ee}function _8(t,e){if(t.limitType==="F")return z2(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new jh(i.field,o)});const n=t.endAt?new Ch(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ch(t.startAt.position,t.startAt.inclusive):null;return z2(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function r0(t,e,n){return new cm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function dm(t,e){return nx(Ir(t),Ir(e))&&t.limitType===e.limitType}function JC(t){return`${tx(Ir(t))}|lt:${t.limitType}`}function Wa(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>XC(i)).join(", ")}]`),lm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ms(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ms(i)).join(",")),`Target(${r})`}(Ir(t))}; limitType=${t.limitType})`}function hm(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):le.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Nu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,s,l){const u=V2(a,s,l);return a.inclusive?u<=0:u<0}(r.startAt,Nu(r),i)||r.endAt&&!function(a,s,l){const u=V2(a,s,l);return a.inclusive?u>=0:u>0}(r.endAt,Nu(r),i))}(t,e)}function w8(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function ZC(t){return(e,n)=>{let r=!1;for(const i of Nu(t)){const o=S8(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function S8(t,e,n){const r=t.field.isKeyField()?le.comparator(e.key,n.key):function(o,a,s){const l=a.data.field(o),u=s.data.field(o);return l!==null&&u!==null?Ns(l,u):de(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return de(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Eo(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return $C(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E8=new st(le.comparator);function li(){return E8}const ej=new st(le.comparator);function vu(...t){let e=ej;for(const n of t)e=e.insert(n.key,n);return e}function tj(t){let e=ej;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Yo(){return Mu()}function nj(){return Mu()}function Mu(){return new Ia(t=>t.toString(),(t,e)=>t.isEqual(e))}const T8=new st(le.comparator),A8=new Ot(le.comparator);function Te(...t){let e=A8;for(const n of t)e=e.add(n);return e}const P8=new Ot(Ee);function I8(){return P8}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rx(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ih(e)?"-0":e}}function rj(t){return{integerValue:""+t}}function O8(t,e){return ZV(e)?rj(e):rx(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(){this._=void 0}}function k8(t,e,n){return t instanceof hc?function(i,o){const a={fields:{[VC]:{stringValue:LC},[zC]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Z1(o)&&(o=um(o)),o&&(a.fields[BC]=o),{mapValue:a}}(n,e):t instanceof pc?oj(t,e):t instanceof mc?aj(t,e):function(i,o){const a=ij(i,o),s=W2(a)+W2(i.Ae);return e0(a)&&e0(i.Ae)?rj(s):rx(i.serializer,s)}(t,e)}function C8(t,e,n){return t instanceof pc?oj(t,e):t instanceof mc?aj(t,e):n}function ij(t,e){return t instanceof Rh?function(r){return e0(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class hc extends pm{}class pc extends pm{constructor(e){super(),this.elements=e}}function oj(t,e){const n=sj(e);for(const r of t.elements)n.some(i=>Nr(i,r))||n.push(r);return{arrayValue:{values:n}}}class mc extends pm{constructor(e){super(),this.elements=e}}function aj(t,e){let n=sj(e);for(const r of t.elements)n=n.filter(i=>!Nr(i,r));return{arrayValue:{values:n}}}class Rh extends pm{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function W2(t){return dt(t.integerValue||t.doubleValue)}function sj(t){return ex(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j8{constructor(e,n){this.field=e,this.transform=n}}function R8(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof pc&&i instanceof pc||r instanceof mc&&i instanceof mc?Rs(r.elements,i.elements,Nr):r instanceof Rh&&i instanceof Rh?Nr(r.Ae,i.Ae):r instanceof hc&&i instanceof hc}(t.transform,e.transform)}class N8{constructor(e,n){this.version=e,this.transformResults=n}}class Or{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Or}static exists(e){return new Or(void 0,e)}static updateTime(e){return new Or(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class mm{}function lj(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new cj(t.key,Or.none()):new mf(t.key,t.data,Or.none());{const n=t.data,r=mn.empty();let i=new Ot(zt.comparator);for(let o of e.fields)if(!i.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?r.delete(o):r.set(o,a),i=i.add(o)}return new To(t.key,r,new In(i.toArray()),Or.none())}}function M8(t,e,n){t instanceof mf?function(i,o,a){const s=i.value.clone(),l=q2(i.fieldTransforms,o,a.transformResults);s.setAll(l),o.convertToFoundDocument(a.version,s).setHasCommittedMutations()}(t,e,n):t instanceof To?function(i,o,a){if(!Hd(i.precondition,o))return void o.convertToUnknownDocument(a.version);const s=q2(i.fieldTransforms,o,a.transformResults),l=o.data;l.setAll(uj(i)),l.setAll(s),o.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Du(t,e,n,r){return t instanceof mf?function(o,a,s,l){if(!Hd(o.precondition,a))return s;const u=o.value.clone(),c=G2(o.fieldTransforms,l,a);return u.setAll(c),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof To?function(o,a,s,l){if(!Hd(o.precondition,a))return s;const u=G2(o.fieldTransforms,l,a),c=a.data;return c.setAll(uj(o)),c.setAll(u),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),s===null?null:s.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,a,s){return Hd(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):s}(t,e,n)}function D8(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=ij(r.transform,i||null);o!=null&&(n===null&&(n=mn.empty()),n.set(r.field,o))}return n||null}function H2(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Rs(r,i,(o,a)=>R8(o,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class mf extends mm{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class To extends mm{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function uj(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function q2(t,e,n){const r=new Map;Ne(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let i=0;i<n.length;i++){const o=t[i],a=o.transform,s=e.data.field(o.field);r.set(o.field,C8(a,s,n[i]))}return r}function G2(t,e,n){const r=new Map;for(const i of t){const o=i.transform,a=n.data.field(i.field);r.set(i.field,k8(o,a,e))}return r}class cj extends mm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $8 extends mm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F8{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&M8(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Du(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Du(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=nj();return this.mutations.forEach(i=>{const o=e.get(i.key),a=o.overlayedDocument;let s=this.applyToLocalView(a,o.mutatedFields);s=n.has(i.key)?null:s;const l=lj(a,s);l!==null&&r.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(me.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Te())}isEqual(e){return this.batchId===e.batchId&&Rs(this.mutations,e.mutations,(n,r)=>H2(n,r))&&Rs(this.baseMutations,e.baseMutations,(n,r)=>H2(n,r))}}class ix{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ne(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return T8}();const o=e.mutations;for(let a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new ix(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L8{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V8{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gt,Pe;function B8(t){switch(t){case Y.OK:return de(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return de(15467,{code:t})}}function fj(t){if(t===void 0)return si("GRPC error has no .code"),Y.UNKNOWN;switch(t){case gt.OK:return Y.OK;case gt.CANCELLED:return Y.CANCELLED;case gt.UNKNOWN:return Y.UNKNOWN;case gt.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case gt.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case gt.INTERNAL:return Y.INTERNAL;case gt.UNAVAILABLE:return Y.UNAVAILABLE;case gt.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case gt.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case gt.NOT_FOUND:return Y.NOT_FOUND;case gt.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case gt.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case gt.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case gt.ABORTED:return Y.ABORTED;case gt.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case gt.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case gt.DATA_LOSS:return Y.DATA_LOSS;default:return de(39323,{code:t})}}(Pe=gt||(gt={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z8(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U8=new no([4294967295,4294967295],0);function K2(t){const e=z8().encode(t),n=new PC;return n.update(e),new Uint8Array(n.digest())}function Y2(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new no([n,r],0),new no([i,o],0)]}class ox{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new bu(`Invalid padding: ${n}`);if(r<0)throw new bu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new bu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new bu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=no.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(no.fromNumber(r)));return i.compare(U8)===1&&(i=new no([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=K2(e),[r,i]=Y2(n);for(let o=0;o<this.hashCount;o++){const a=this.ye(r,i,o);if(!this.we(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new ox(o,i,n);return r.forEach(s=>a.insert(s)),a}insert(e){if(this.ge===0)return;const n=K2(e),[r,i]=Y2(n);for(let o=0;o<this.hashCount;o++){const a=this.ye(r,i,o);this.be(a)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class bu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,gf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new gm(me.min(),i,new st(Ee),li(),Te())}}class gf{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new gf(r,n,Te(),Te(),Te())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=i}}class dj{constructor(e,n){this.targetId=e,this.Ce=n}}class hj{constructor(e,n,r=Gt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class X2{constructor(){this.ve=0,this.Fe=Q2(),this.Me=Gt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Te(),n=Te(),r=Te();return this.Fe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:de(38017,{changeType:o})}}),new gf(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=Q2()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ne(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class W8{constructor(e){this.Ge=e,this.ze=new Map,this.je=li(),this.He=ud(),this.Je=ud(),this.Ze=new st(Ee)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:de(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const o=i.target;if(n0(o))if(r===0){const a=new le(o.path);this.et(n,a,en.newNoDocument(a,me.min()))}else Ne(r===1,20013,{expectedCount:r});else{const a=this._t(n);if(a!==r){const s=this.ut(e),l=s?this.ct(s,e,a):1;if(l!==0){this.it(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let a,s;try{a=co(r).toUint8Array()}catch(l){if(l instanceof FC)return ya("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{s=new ox(a,i,o)}catch(l){return ya(l instanceof bu?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return s.ge===0?null:s}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const a=this.Ge.ht(),s=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.mightContain(s)||(this.et(n,o,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((o,a)=>{const s=this.ot(a);if(s){if(o.current&&n0(s.target)){const l=new le(s.target.path);this.It(l).has(a)||this.Et(a,l)||this.et(a,l,en.newNoDocument(l,e))}o.Be&&(n.set(a,o.ke()),o.Ke())}});let r=Te();this.Je.forEach((o,a)=>{let s=!0;a.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(r=r.add(o))}),this.je.forEach((o,a)=>a.setReadTime(e));const i=new gm(e,n,this.Ze,this.je,r);return this.je=li(),this.He=ud(),this.Je=ud(),this.Ze=new st(Ee),i}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.qe(n,1):i.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new X2,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Ot(Ee),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Ot(Ee),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||re("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new X2),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function ud(){return new st(le.comparator)}function Q2(){return new st(le.comparator)}const H8={asc:"ASCENDING",desc:"DESCENDING"},q8={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},G8={and:"AND",or:"OR"};class K8{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function i0(t,e){return t.useProto3Json||lm(e)?e:{value:e}}function Nh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function pj(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Y8(t,e){return Nh(t,e.toTimestamp())}function kr(t){return Ne(!!t,49232),me.fromTimestamp(function(n){const r=uo(n);return new Qe(r.seconds,r.nanos)}(t))}function ax(t,e){return o0(t,e).canonicalString()}function o0(t,e){const n=function(i){return new it(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function mj(t){const e=it.fromString(t);return Ne(xj(e),10190,{key:e.toString()}),e}function a0(t,e){return ax(t.databaseId,e.path)}function fy(t,e){const n=mj(e);if(n.get(1)!==t.databaseId.projectId)throw new ae(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ae(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new le(yj(n))}function gj(t,e){return ax(t.databaseId,e)}function X8(t){const e=mj(t);return e.length===4?it.emptyPath():yj(e)}function s0(t){return new it(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function yj(t){return Ne(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function J2(t,e,n){return{name:a0(t,e),fields:n.value.mapValue.fields}}function Q8(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:de(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(Ne(c===void 0||typeof c=="string",58123),Gt.fromBase64String(c||"")):(Ne(c===void 0||c instanceof Buffer||c instanceof Uint8Array,16193),Gt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,s=a&&function(u){const c=u.code===void 0?Y.UNKNOWN:fj(u.code);return new ae(c,u.message||"")}(a);n=new hj(r,i,o,s||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=fy(t,r.document.name),o=kr(r.document.updateTime),a=r.document.createTime?kr(r.document.createTime):me.min(),s=new mn({mapValue:{fields:r.document.fields}}),l=en.newFoundDocument(i,o,a,s),u=r.targetIds||[],c=r.removedTargetIds||[];n=new qd(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=fy(t,r.document),o=r.readTime?kr(r.readTime):me.min(),a=en.newNoDocument(i,o),s=r.removedTargetIds||[];n=new qd([],s,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=fy(t,r.document),o=r.removedTargetIds||[];n=new qd([],o,i,null)}else{if(!("filter"in e))return de(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,a=new V8(i,o),s=r.targetId;n=new dj(s,a)}}return n}function J8(t,e){let n;if(e instanceof mf)n={update:J2(t,e.key,e.value)};else if(e instanceof cj)n={delete:a0(t,e.key)};else if(e instanceof To)n={update:J2(t,e.key,e.data),updateMask:sB(e.fieldMask)};else{if(!(e instanceof $8))return de(16599,{dt:e.type});n={verify:a0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,a){const s=a.transform;if(s instanceof hc)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof pc)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof mc)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof Rh)return{fieldPath:a.field.canonicalString(),increment:s.Ae};throw de(20930,{transform:a.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:Y8(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:de(27497)}(t,e.precondition)),n}function Z8(t,e){return t&&t.length>0?(Ne(e!==void 0,14353),t.map(n=>function(i,o){let a=i.updateTime?kr(i.updateTime):kr(o);return a.isEqual(me.min())&&(a=kr(o)),new N8(a,i.transformResults||[])}(n,e))):[]}function eB(t,e){return{documents:[gj(t,e.path)]}}function tB(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=gj(t,i);const o=function(u){if(u.length!==0)return bj(Mr.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const a=function(u){if(u.length!==0)return u.map(c=>function(p){return{field:Ha(p.field),direction:iB(p.dir)}}(c))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const s=i0(t,e.limit);return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:i}}function nB(t){let e=X8(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ne(r===1,65062);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(f){const p=vj(f);return p instanceof Mr&&KC(p)?p.getFilters():[p]}(n.where));let a=[];n.orderBy&&(a=function(f){return f.map(p=>function(y){return new jh(qa(y.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(p))}(n.orderBy));let s=null;n.limit&&(s=function(f){let p;return p=typeof f=="object"?f.value:f,lm(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(f){const p=!!f.before,m=f.values||[];return new Ch(m,p)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const p=!f.before,m=f.values||[];return new Ch(m,p)}(n.endAt)),v8(e,i,a,o,s,"F",l,u)}function rB(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return de(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function vj(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=qa(n.unaryFilter.field);return At.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=qa(n.unaryFilter.field);return At.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=qa(n.unaryFilter.field);return At.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=qa(n.unaryFilter.field);return At.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return de(61313);default:return de(60726)}}(t):t.fieldFilter!==void 0?function(n){return At.create(qa(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return de(58110);default:return de(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Mr.create(n.compositeFilter.filters.map(r=>vj(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return de(1026)}}(n.compositeFilter.op))}(t):de(30097,{filter:t})}function iB(t){return H8[t]}function oB(t){return q8[t]}function aB(t){return G8[t]}function Ha(t){return{fieldPath:t.canonicalString()}}function qa(t){return zt.fromServerFormat(t.fieldPath)}function bj(t){return t instanceof At?function(n){if(n.op==="=="){if(L2(n.value))return{unaryFilter:{field:Ha(n.field),op:"IS_NAN"}};if(F2(n.value))return{unaryFilter:{field:Ha(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(L2(n.value))return{unaryFilter:{field:Ha(n.field),op:"IS_NOT_NAN"}};if(F2(n.value))return{unaryFilter:{field:Ha(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ha(n.field),op:oB(n.op),value:n.value}}}(t):t instanceof Mr?function(n){const r=n.getFilters().map(i=>bj(i));return r.length===1?r[0]:{compositeFilter:{op:aB(n.op),filters:r}}}(t):de(54877,{filter:t})}function sB(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function xj(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function _j(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e,n,r,i,o=me.min(),a=me.min(),s=Gt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=s,this.expectedCount=l}withSequenceNumber(e){return new zi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new zi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lB{constructor(e){this.yt=e}}function uB(t){const e=nB({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?r0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cB{constructor(){this.Sn=new fB}addToCollectionParentIndex(e,n){return this.Sn.add(n),K.resolve()}getCollectionParents(e,n){return K.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return K.resolve()}deleteFieldIndex(e,n){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,n){return K.resolve()}getDocumentsMatchingTarget(e,n){return K.resolve(null)}getIndexType(e,n){return K.resolve(0)}getFieldIndexes(e,n){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,n){return K.resolve(lo.min())}getMinOffsetFromCollectionGroup(e,n){return K.resolve(lo.min())}updateCollectionGroup(e,n,r){return K.resolve()}updateIndexEntries(e,n){return K.resolve()}}class fB{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ot(it.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ot(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},wj=41943040;class hn{static withCacheSize(e){return new hn(e,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(wj,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Ds(0)}static ar(){return new Ds(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE="LruGarbageCollector",dB=1048576;function tE([t,e],[n,r]){const i=Ee(t,n);return i===0?Ee(e,r):i}class hB{constructor(e){this.Pr=e,this.buffer=new Ot(tE),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();tE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class pB{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){re(eE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){yl(n)?re(eE,"Ignoring IndexedDB error during garbage collection: ",n):await gl(n)}await this.Ar(3e5)})}}class mB{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return K.resolve(sm.ce);const r=new hB(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.mr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(re("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(Z2)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(re("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Z2):this.gr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,i,o,a,s,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,a=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,s=Date.now(),this.removeTargets(e,r,n))).next(f=>(o=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),Ua()<=Se.DEBUG&&re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-c}ms
	Determined least recently used ${i} in `+(s-a)+`ms
	Removed ${o} targets in `+(l-s)+`ms
	Removed ${f} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:f})))}}function gB(t,e){return new mB(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yB{constructor(){this.changes=new Ia(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?K.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vB{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bB{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Du(r.mutation,i,In.empty(),Qe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Te()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Te()){const i=Yo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let a=vu();return o.forEach((s,l)=>{a=a.insert(s,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=Yo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Te()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((a,s)=>{n.set(a,s)})})}computeViews(e,n,r,i){let o=li();const a=Mu(),s=function(){return Mu()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof To)?o=o.insert(u.key,u):c!==void 0?(a.set(u.key,c.mutation.getFieldMask()),Du(c.mutation,u,c.mutation.getFieldMask(),Qe.now())):a.set(u.key,In.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>a.set(u,c)),n.forEach((u,c)=>s.set(u,new vB(c,a.get(u)??null))),s))}recalculateAndSaveOverlays(e,n){const r=Mu();let i=new st((a,s)=>a-s),o=Te();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const s of a)s.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||In.empty();c=s.applyToLocalView(u,c),r.set(l,c);const f=(i.get(s.batchId)||Te()).add(l);i=i.insert(s.batchId,f)})}).next(()=>{const a=[],s=i.getReverseIterator();for(;s.hasNext();){const l=s.getNext(),u=l.key,c=l.value,f=nj();c.forEach(p=>{if(!o.has(p)){const m=lj(n.get(p),r.get(p));m!==null&&f.set(p,m),o=o.add(p)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,f))}return K.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return b8(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):x8(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const a=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):K.resolve(Yo());let s=uc,l=o;return a.next(u=>K.forEach(u,(c,f)=>(s<f.largestBatchId&&(s=f.largestBatchId),o.get(c)?K.resolve():this.remoteDocumentCache.getEntry(e,c).next(p=>{l=l.insert(c,p)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,Te())).next(c=>({batchId:s,changes:tj(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new le(n)).next(r=>{let i=vu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let a=vu();return this.indexManager.getCollectionParents(e,o).next(s=>K.forEach(s,l=>{const u=function(f,p){return new cm(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((f,p)=>{a=a.insert(f,p)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(a=>{o.forEach((l,u)=>{const c=u.getKey();a.get(c)===null&&(a=a.insert(c,en.newInvalidDocument(c)))});let s=vu();return a.forEach((l,u)=>{const c=o.get(l);c!==void 0&&Du(c.mutation,u,In.empty(),Qe.now()),hm(n,u)&&(s=s.insert(l,u))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xB{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return K.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:kr(i.createTime)}}(n)),K.resolve()}getNamedQuery(e,n){return K.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,function(i){return{name:i.name,query:uB(i.bundledQuery),readTime:kr(i.readTime)}}(n)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _B{constructor(){this.overlays=new st(le.comparator),this.Lr=new Map}getOverlay(e,n){return K.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Yo();return K.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.bt(e,n,o)}),K.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Lr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Lr.delete(r)),K.resolve()}getOverlaysForCollection(e,n,r){const i=Yo(),o=n.length+1,a=new le(n.child("")),s=this.overlays.getIteratorFrom(a);for(;s.hasNext();){const l=s.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return K.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new st((u,c)=>u-c);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=Yo(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const s=Yo(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>s.set(u,c)),!(s.size()>=i)););return K.resolve(s)}bt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.Lr.get(i.largestBatchId).delete(r.key);this.Lr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new L8(n,r));let o=this.Lr.get(n);o===void 0&&(o=Te(),this.Lr.set(n,o)),this.Lr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wB{constructor(){this.sessionToken=Gt.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(){this.kr=new Ot(Rt.Kr),this.qr=new Ot(Rt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new Rt(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new Rt(e,n))}Qr(e,n){e.forEach(r=>this.removeReference(r,n))}Gr(e){const n=new le(new it([])),r=new Rt(n,e),i=new Rt(n,e+1),o=[];return this.qr.forEachInRange([r,i],a=>{this.Wr(a),o.push(a.key)}),o}zr(){this.kr.forEach(e=>this.Wr(e))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new le(new it([])),r=new Rt(n,e),i=new Rt(n,e+1);let o=Te();return this.qr.forEachInRange([r,i],a=>{o=o.add(a.key)}),o}containsKey(e){const n=new Rt(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Rt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return le.comparator(e.key,n.key)||Ee(e.Hr,n.Hr)}static Ur(e,n){return Ee(e.Hr,n.Hr)||le.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SB{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Ot(Rt.Kr)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new F8(o,n,r,i);this.mutationQueue.push(a);for(const s of i)this.Jr=this.Jr.add(new Rt(s.key,o)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return K.resolve(a)}lookupMutationBatch(e,n){return K.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),o=i<0?0:i;return K.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?J1:this.Yn-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Rt(n,0),i=new Rt(n,Number.POSITIVE_INFINITY),o=[];return this.Jr.forEachInRange([r,i],a=>{const s=this.Zr(a.Hr);o.push(s)}),K.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ot(Ee);return n.forEach(i=>{const o=new Rt(i,0),a=new Rt(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([o,a],s=>{r=r.add(s.Hr)})}),K.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;le.isDocumentKey(o)||(o=o.child(""));const a=new Rt(new le(o),0);let s=new Ot(Ee);return this.Jr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(s=s.add(l.Hr)),!0)},a),K.resolve(this.Yr(s))}Yr(e){const n=[];return e.forEach(r=>{const i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ne(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return K.forEach(n.mutations,i=>{const o=new Rt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Jr=r})}nr(e){}containsKey(e,n){const r=new Rt(n,0),i=this.Jr.firstAfterOrEqual(r);return K.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EB{constructor(e){this.ti=e,this.docs=function(){return new st(le.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,a=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return K.resolve(r?r.document.mutableCopy():en.newInvalidDocument(n))}getEntries(e,n){let r=li();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():en.newInvalidDocument(i))}),K.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=li();const a=n.path,s=new le(a.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||YV(KV(c),r)<=0||(i.has(c.key)||hm(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return K.resolve(o)}getAllFromCollectionGroup(e,n,r,i){de(9500)}ni(e,n){return K.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new TB(this)}getSize(e){return K.resolve(this.size)}}class TB extends yB{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Mr.addEntry(e,i)):this.Mr.removeEntry(r)}),K.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AB{constructor(e){this.persistence=e,this.ri=new Ia(n=>tx(n),nx),this.lastRemoteSnapshotVersion=me.min(),this.highestTargetId=0,this.ii=0,this.si=new sx,this.targetCount=0,this.oi=Ds._r()}forEachTarget(e,n){return this.ri.forEach((r,i)=>n(i)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),K.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Ds(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,K.resolve()}updateTargetData(e,n){return this.lr(n),K.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.ri.forEach((a,s)=>{s.sequenceNumber<=n&&r.get(s.targetId)===null&&(this.ri.delete(a),o.push(this.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),K.waitFor(o).next(()=>i)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return K.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),K.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(a=>{o.push(i.markPotentiallyOrphaned(e,a))}),K.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),K.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return K.resolve(r)}containsKey(e,n){return K.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sj{constructor(e,n){this._i={},this.overlays={},this.ai=new sm(0),this.ui=!1,this.ui=!0,this.ci=new wB,this.referenceDelegate=e(this),this.li=new AB(this),this.indexManager=new cB,this.remoteDocumentCache=function(i){return new EB(i)}(r=>this.referenceDelegate.hi(r)),this.serializer=new lB(n),this.Pi=new xB(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new _B,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new SB(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){re("MemoryPersistence","Starting transaction:",e);const i=new PB(this.ai.next());return this.referenceDelegate.Ti(),r(i).next(o=>this.referenceDelegate.Ii(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,n){return K.or(Object.values(this._i).map(r=>()=>r.containsKey(e,n)))}}class PB extends QV{constructor(e){super(),this.currentSequenceNumber=e}}class lx{constructor(e){this.persistence=e,this.Ri=new sx,this.Ai=null}static Vi(e){return new lx(e)}get di(){if(this.Ai)return this.Ai;throw de(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),K.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),K.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),K.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach(i=>this.di.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.di.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.di,r=>{const i=le.fromPath(r);return this.mi(e,i).next(o=>{o||n.removeEntry(i,me.min())})}).next(()=>(this.Ai=null,n.apply(e)))}updateLimboDocument(e,n){return this.mi(e,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}hi(e){return 0}mi(e,n){return K.or([()=>K.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Mh{constructor(e,n){this.persistence=e,this.fi=new Ia(r=>e8(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=gB(this,n)}static Vi(e,n){return new Mh(e,n)}Ti(){}Ii(e){return K.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}pr(e){let n=0;return this.mr(e,r=>{n++}).next(()=>n)}mr(e,n){return K.forEach(this.fi,(r,i)=>this.wr(e,r,i).next(o=>o?K.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ni(e,a=>this.wr(e,a,n).next(s=>{s||(r++,o.removeEntry(a,me.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),K.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),K.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),K.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ud(e.data.value)),n}wr(e,n,r){return K.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.fi.get(n);return K.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=i}static Es(e,n){let r=Te(),i=Te();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new ux(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IB{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OB{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=function(){return nF()?8:JV(on())>0?6:4}()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.gs(e,n).next(a=>{o.result=a}).next(()=>{if(!o.result)return this.ps(e,n,i,r).next(a=>{o.result=a})}).next(()=>{if(o.result)return;const a=new IB;return this.ys(e,n,a).next(s=>{if(o.result=s,this.As)return this.ws(e,n,a,s.size)})}).next(()=>o.result)}ws(e,n,r,i){return r.documentReadCount<this.Vs?(Ua()<=Se.DEBUG&&re("QueryEngine","SDK will not create cache indexes for query:",Wa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),K.resolve()):(Ua()<=Se.DEBUG&&re("QueryEngine","Query:",Wa(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(Ua()<=Se.DEBUG&&re("QueryEngine","The SDK decides to create cache indexes for query:",Wa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ir(n))):K.resolve())}gs(e,n){if(U2(n))return K.resolve(null);let r=Ir(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=r0(n,null,"F"),r=Ir(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const a=Te(...o);return this.fs.getDocuments(e,a).next(s=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.bs(n,s);return this.Ss(n,u,a,l.readTime)?this.gs(e,r0(n,null,"F")):this.Ds(e,u,n,l)}))})))}ps(e,n,r,i){return U2(n)||i.isEqual(me.min())?K.resolve(null):this.fs.getDocuments(e,r).next(o=>{const a=this.bs(n,o);return this.Ss(n,a,r,i)?K.resolve(null):(Ua()<=Se.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Wa(n)),this.Ds(e,a,n,GV(i,uc)).next(s=>s))})}bs(e,n){let r=new Ot(ZC(e));return n.forEach((i,o)=>{hm(e,o)&&(r=r.add(o))}),r}Ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ys(e,n,r){return Ua()<=Se.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",Wa(n)),this.fs.getDocumentsMatchingQuery(e,n,lo.min(),r)}Ds(e,n,r,i){return this.fs.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(a=>{o=o.insert(a.key,a)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx="LocalStore",kB=3e8;class CB{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.vs=new st(Ee),this.Fs=new Ia(o=>tx(o),nx),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new bB(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.vs))}}function jB(t,e,n,r){return new CB(t,e,n,r)}async function Ej(t,e){const n=ye(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Os(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const a=[],s=[];let l=Te();for(const u of i){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ns:u,removedBatchIds:a,addedBatchIds:s}))})})}function RB(t,e){const n=ye(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.xs.newChangeBuffer({trackRemovals:!0});return function(s,l,u,c){const f=u.batch,p=f.keys();let m=K.resolve();return p.forEach(y=>{m=m.next(()=>c.getEntry(l,y)).next(w=>{const _=u.docVersions.get(y);Ne(_!==null,48541),w.version.compareTo(_)<0&&(f.applyToRemoteDocument(w,u),w.isValidDocument()&&(w.setReadTime(u.commitVersion),c.addEntry(w)))})}),m.next(()=>s.mutationQueue.removeMutationBatch(l,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let l=Te();for(let u=0;u<s.mutationResults.length;++u)s.mutationResults[u].transformResults.length>0&&(l=l.add(s.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Tj(t){const e=ye(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.li.getLastRemoteSnapshotVersion(n))}function NB(t,e){const n=ye(t),r=e.snapshotVersion;let i=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const a=n.xs.newChangeBuffer({trackRemovals:!0});i=n.vs;const s=[];e.targetChanges.forEach((c,f)=>{const p=i.get(f);if(!p)return;s.push(n.li.removeMatchingKeys(o,c.removedDocuments,f).next(()=>n.li.addMatchingKeys(o,c.addedDocuments,f)));let m=p.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(Gt.EMPTY_BYTE_STRING,me.min()).withLastLimboFreeSnapshotVersion(me.min()):c.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(c.resumeToken,r)),i=i.insert(f,m),function(w,_,g){return w.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=kB?!0:g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0}(p,m,c)&&s.push(n.li.updateTargetData(o,m))});let l=li(),u=Te();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),s.push(MB(o,a,e.documentUpdates).next(c=>{l=c.Bs,u=c.Ls})),!r.isEqual(me.min())){const c=n.li.getLastRemoteSnapshotVersion(o).next(f=>n.li.setTargetsMetadata(o,o.currentSequenceNumber,r));s.push(c)}return K.waitFor(s).next(()=>a.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.vs=i,o))}function MB(t,e,n){let r=Te(),i=Te();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let a=li();return n.forEach((s,l)=>{const u=o.get(s);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(s)),l.isNoDocument()&&l.version.isEqual(me.min())?(e.removeEntry(s,l.readTime),a=a.insert(s,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),a=a.insert(s,l)):re(cx,"Ignoring outdated watch update for ",s,". Current version:",u.version," Watch version:",l.version)}),{Bs:a,Ls:i}})}function DB(t,e){const n=ye(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=J1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function $B(t,e){const n=ye(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.li.getTargetData(r,e).next(o=>o?(i=o,K.resolve(i)):n.li.allocateTargetId(r).next(a=>(i=new zi(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.vs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r})}async function l0(t,e,n){const r=ye(t),i=r.vs.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!yl(a))throw a;re(cx,`Failed to update sequence numbers for target ${e}: ${a}`)}r.vs=r.vs.remove(e),r.Fs.delete(i.target)}function nE(t,e,n){const r=ye(t);let i=me.min(),o=Te();return r.persistence.runTransaction("Execute query","readwrite",a=>function(l,u,c){const f=ye(l),p=f.Fs.get(c);return p!==void 0?K.resolve(f.vs.get(p)):f.li.getTargetData(u,c)}(r,a,Ir(e)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(a,s.targetId).next(l=>{o=l})}).next(()=>r.Cs.getDocumentsMatchingQuery(a,e,n?i:me.min(),n?o:Te())).next(s=>(FB(r,w8(e),s),{documents:s,ks:o})))}function FB(t,e,n){let r=t.Ms.get(e)||me.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Ms.set(e,r)}class rE{constructor(){this.activeTargetIds=I8()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class LB{constructor(){this.vo=new rE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new rE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VB{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE="ConnectivityMonitor";class oE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){re(iE,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){re(iE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cd=null;function u0(){return cd===null?cd=function(){return 268435456+Math.round(2147483648*Math.random())}():cd++,"0x"+cd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dy="RestConnection",BB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class zB{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.$o=this.databaseId.database===Oh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,o){const a=u0(),s=this.Qo(e,n.toUriEncodedString());re(dy,`Sending RPC '${e}' ${a}:`,s,r);const l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(l,i,o);const{host:u}=new URL(s),c=dl(u);return this.zo(e,s,l,r,c).then(f=>(re(dy,`Received RPC '${e}' ${a}: `,f),f),f=>{throw ya(dy,`RPC '${e}' ${a} failed with error: `,f,"url: ",s,"request:",r),f})}jo(e,n,r,i,o,a){return this.Wo(e,n,r,i,o)}Go(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ml}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Qo(e,n){const r=BB[e];let i=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UB{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt="WebChannelConnection",eu=(t,e,n)=>{t.listen(e,r=>{try{n(r)}catch(i){setTimeout(()=>{throw i},0)}})};class vs extends zB{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!vs.c_){const e=CC();eu(e,kC.STAT_EVENT,n=>{n.stat===Qv.PROXY?re(Xt,"STAT_EVENT: detected buffering proxy"):n.stat===Qv.NOPROXY&&re(Xt,"STAT_EVENT: detected no buffering proxy")}),vs.c_=!0}}zo(e,n,r,i,o){const a=u0();return new Promise((s,l)=>{const u=new IC;u.setWithCredentials(!0),u.listenOnce(OC.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case zd.NO_ERROR:const f=u.getResponseJson();re(Xt,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(f)),s(f);break;case zd.TIMEOUT:re(Xt,`RPC '${e}' ${a} timed out`),l(new ae(Y.DEADLINE_EXCEEDED,"Request time out"));break;case zd.HTTP_ERROR:const p=u.getStatus();if(re(Xt,`RPC '${e}' ${a} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const y=m==null?void 0:m.error;if(y&&y.status&&y.message){const w=function(g){const x=g.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(x)>=0?x:Y.UNKNOWN}(y.status);l(new ae(w,y.message))}else l(new ae(Y.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new ae(Y.UNAVAILABLE,"Connection failed."));break;default:de(9055,{l_:e,streamId:a,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{re(Xt,`RPC '${e}' ${a} completed.`)}});const c=JSON.stringify(i);re(Xt,`RPC '${e}' ${a} sending request:`,i),u.send(n,"POST",c,r,15)})}T_(e,n,r){const i=u0(),o=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=this.createWebChannelTransport(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(s.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(s.useFetchStreams=!0),this.Go(s.initMessageHeaders,n,r),s.encodeInitMessageHeaders=!0;const u=o.join("");re(Xt,`Creating RPC '${e}' stream ${i}: ${u}`,s);const c=a.createWebChannel(u,s);this.I_(c);let f=!1,p=!1;const m=new UB({Ho:y=>{p?re(Xt,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(f||(re(Xt,`Opening RPC '${e}' stream ${i} transport.`),c.open(),f=!0),re(Xt,`RPC '${e}' stream ${i} sending:`,y),c.send(y))},Jo:()=>c.close()});return eu(c,yu.EventType.OPEN,()=>{p||(re(Xt,`RPC '${e}' stream ${i} transport opened.`),m.i_())}),eu(c,yu.EventType.CLOSE,()=>{p||(p=!0,re(Xt,`RPC '${e}' stream ${i} transport closed`),m.o_(),this.E_(c))}),eu(c,yu.EventType.ERROR,y=>{p||(p=!0,ya(Xt,`RPC '${e}' stream ${i} transport errored. Name:`,y.name,"Message:",y.message),m.o_(new ae(Y.UNAVAILABLE,"The operation could not be completed")))}),eu(c,yu.EventType.MESSAGE,y=>{var w;if(!p){const _=y.data[0];Ne(!!_,16349);const g=_,x=(g==null?void 0:g.error)||((w=g[0])==null?void 0:w.error);if(x){re(Xt,`RPC '${e}' stream ${i} received error:`,x);const S=x.status;let O=function(b){const T=gt[b];if(T!==void 0)return fj(T)}(S),E=x.message;S==="NOT_FOUND"&&E.includes("database")&&E.includes("does not exist")&&E.includes(this.databaseId.database)&&ya(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),O===void 0&&(O=Y.INTERNAL,E="Unknown error status: "+S+" with message "+x.message),p=!0,m.o_(new ae(O,E)),c.close()}else re(Xt,`RPC '${e}' stream ${i} received:`,_),m.__(_)}}),vs.u_(),setTimeout(()=>{m.s_()},0),m}terminate(){this.a_.forEach(e=>e.close()),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter(n=>n===e)}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return jC()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WB(t){return new vs(t)}function hy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ym(t){return new K8(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vs.c_=!1;class Aj{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=i,this.V_=o,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&re("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE="PersistentStream";class Pj{constructor(e,n,r,i,o,a,s,l){this.Ci=e,this.b_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Aj(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Y.RESOURCE_EXHAUSTED?(si(n.toString()),si("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new ae(Y.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.Yo(()=>{r(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.H_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return re(aE,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget(()=>this.D_===e?n():(re(aE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class HB extends Pj{constructor(e,n,r,i,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Q8(this.serializer,e),r=function(o){if(!("targetChange"in o))return me.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?me.min():a.readTime?kr(a.readTime):me.min()}(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=s0(this.serializer),n.addTarget=function(o,a){let s;const l=a.target;if(s=n0(l)?{documents:eB(o,l)}:{query:tB(o,l).ft},s.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){s.resumeToken=pj(o,a.resumeToken);const u=i0(o,a.expectedCount);u!==null&&(s.expectedCount=u)}else if(a.snapshotVersion.compareTo(me.min())>0){s.readTime=Nh(o,a.snapshotVersion.toTimestamp());const u=i0(o,a.expectedCount);u!==null&&(s.expectedCount=u)}return s}(this.serializer,e);const r=rB(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=s0(this.serializer),n.removeTarget=e,this.K_(n)}}class qB extends Pj{constructor(e,n,r,i,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Ne(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ne(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ne(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Z8(e.writeResults,e.commitTime),r=kr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=s0(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>J8(this.serializer,r))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GB{}class KB extends GB{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new ae(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Wo(e,o0(n,r),i,o,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ae(Y.UNKNOWN,o.toString())})}jo(e,n,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.jo(e,o0(n,r),i,a,s,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ae(Y.UNKNOWN,a.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}function YB(t,e,n,r){return new KB(t,e,n,r)}class XB{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(si(n),this.aa=!1):re("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va="RemoteStore";class QB{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=o,this.Aa.Mo(a=>{r.enqueueAndForget(async()=>{Oa(this)&&(re(va,"Restarting streams for network reachability change."),await async function(l){const u=ye(l);u.Ea.add(4),await yf(u),u.Va.set("Unknown"),u.Ea.delete(4),await vm(u)}(this))})}),this.Va=new XB(r,i)}}async function vm(t){if(Oa(t))for(const e of t.Ra)await e(!0)}async function yf(t){for(const e of t.Ra)await e(!1)}function Ij(t,e){const n=ye(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),px(n)?hx(n):vl(n).O_()&&dx(n,e))}function fx(t,e){const n=ye(t),r=vl(n);n.Ia.delete(e),r.O_()&&Oj(n,e),n.Ia.size===0&&(r.O_()?r.L_():Oa(n)&&n.Va.set("Unknown"))}function dx(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(me.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}vl(t).Z_(e)}function Oj(t,e){t.da.$e(e),vl(t).X_(e)}function hx(t){t.da=new W8({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),vl(t).start(),t.Va.ua()}function px(t){return Oa(t)&&!vl(t).x_()&&t.Ia.size>0}function Oa(t){return ye(t).Ea.size===0}function kj(t){t.da=void 0}async function JB(t){t.Va.set("Online")}async function ZB(t){t.Ia.forEach((e,n)=>{dx(t,e)})}async function e9(t,e){kj(t),px(t)?(t.Va.ha(e),hx(t)):t.Va.set("Unknown")}async function t9(t,e,n){if(t.Va.set("Online"),e instanceof hj&&e.state===2&&e.cause)try{await async function(i,o){const a=o.cause;for(const s of o.targetIds)i.Ia.has(s)&&(await i.remoteSyncer.rejectListen(s,a),i.Ia.delete(s),i.da.removeTarget(s))}(t,e)}catch(r){re(va,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Dh(t,r)}else if(e instanceof qd?t.da.Xe(e):e instanceof dj?t.da.st(e):t.da.tt(e),!n.isEqual(me.min()))try{const r=await Tj(t.localStore);n.compareTo(r)>=0&&await function(o,a){const s=o.da.Tt(a);return s.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.Ia.get(u);c&&o.Ia.set(u,c.withResumeToken(l.resumeToken,a))}}),s.targetMismatches.forEach((l,u)=>{const c=o.Ia.get(l);if(!c)return;o.Ia.set(l,c.withResumeToken(Gt.EMPTY_BYTE_STRING,c.snapshotVersion)),Oj(o,l);const f=new zi(c.target,l,u,c.sequenceNumber);dx(o,f)}),o.remoteSyncer.applyRemoteEvent(s)}(t,n)}catch(r){re(va,"Failed to raise snapshot:",r),await Dh(t,r)}}async function Dh(t,e,n){if(!yl(e))throw e;t.Ea.add(1),await yf(t),t.Va.set("Offline"),n||(n=()=>Tj(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{re(va,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await vm(t)})}function Cj(t,e){return e().catch(n=>Dh(t,n,e))}async function bm(t){const e=ye(t),n=ho(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:J1;for(;n9(e);)try{const i=await DB(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,r9(e,i)}catch(i){await Dh(e,i)}jj(e)&&Rj(e)}function n9(t){return Oa(t)&&t.Ta.length<10}function r9(t,e){t.Ta.push(e);const n=ho(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function jj(t){return Oa(t)&&!ho(t).x_()&&t.Ta.length>0}function Rj(t){ho(t).start()}async function i9(t){ho(t).ra()}async function o9(t){const e=ho(t);for(const n of t.Ta)e.ea(n.mutations)}async function a9(t,e,n){const r=t.Ta.shift(),i=ix.from(r,e,n);await Cj(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await bm(t)}async function s9(t,e){e&&ho(t).Y_&&await async function(r,i){if(function(a){return B8(a)&&a!==Y.ABORTED}(i.code)){const o=r.Ta.shift();ho(r).B_(),await Cj(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await bm(r)}}(t,e),jj(t)&&Rj(t)}async function sE(t,e){const n=ye(t);n.asyncQueue.verifyOperationInProgress(),re(va,"RemoteStore received new credentials");const r=Oa(n);n.Ea.add(3),await yf(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await vm(n)}async function l9(t,e){const n=ye(t);e?(n.Ea.delete(2),await vm(n)):e||(n.Ea.add(2),await yf(n),n.Va.set("Unknown"))}function vl(t){return t.ma||(t.ma=function(n,r,i){const o=ye(n);return o.sa(),new HB(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Zo:JB.bind(null,t),Yo:ZB.bind(null,t),t_:e9.bind(null,t),J_:t9.bind(null,t)}),t.Ra.push(async e=>{e?(t.ma.B_(),px(t)?hx(t):t.Va.set("Unknown")):(await t.ma.stop(),kj(t))})),t.ma}function ho(t){return t.fa||(t.fa=function(n,r,i){const o=ye(n);return o.sa(),new qB(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:i9.bind(null,t),t_:s9.bind(null,t),ta:o9.bind(null,t),na:a9.bind(null,t)}),t.Ra.push(async e=>{e?(t.fa.B_(),await bm(t)):(await t.fa.stop(),t.Ta.length>0&&(re(va,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new ro,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const a=Date.now()+r,s=new mx(e,n,a,i,o);return s.start(r),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gx(t,e){if(si("AsyncQueue",`${e}: ${t}`),yl(t))return new ae(Y.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{static emptySet(e){return new bs(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||le.comparator(n.key,r.key):(n,r)=>le.comparator(n.key,r.key),this.keyedMap=vu(),this.sortedSet=new st(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof bs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new bs;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(){this.ga=new st(le.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):de(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class $s{constructor(e,n,r,i,o,a,s,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=s,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const a=[];return n.forEach(s=>{a.push({type:0,doc:s})}),new $s(e,n,bs.emptySet(n),a,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u9{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(e=>e.Da())}}class c9{constructor(){this.queries=uE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=ye(n),o=i.queries;i.queries=uE(),o.forEach((a,s)=>{for(const l of s.ba)l.onError(r)})})(this,new ae(Y.ABORTED,"Firestore shutting down"))}}function uE(){return new Ia(t=>JC(t),dm)}async function Nj(t,e){const n=ye(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.Sa()&&e.Da()&&(r=2):(o=new u9,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const s=gx(a,`Initialization of query '${Wa(e.query)}' failed`);return void e.onError(s)}n.queries.set(i,o),o.ba.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&yx(n)}async function Mj(t,e){const n=ye(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const a=o.ba.indexOf(e);a>=0&&(o.ba.splice(a,1),o.ba.length===0?i=e.Da()?0:1:!o.Sa()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function f9(t,e){const n=ye(t);let r=!1;for(const i of e){const o=i.query,a=n.queries.get(o);if(a){for(const s of a.ba)s.Fa(i)&&(r=!0);a.wa=i}}r&&yx(n)}function d9(t,e,n){const r=ye(t),i=r.queries.get(e);if(i)for(const o of i.ba)o.onError(n);r.queries.delete(e)}function yx(t){t.Ca.forEach(e=>{e.next()})}var c0,cE;(cE=c0||(c0={})).Ma="default",cE.Cache="cache";class Dj{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new $s(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=$s.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==c0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $j{constructor(e){this.key=e}}class Fj{constructor(e){this.key=e}}class h9{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Te(),this.mutatedKeys=Te(),this.eu=ZC(e),this.tu=new bs(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new lE,i=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,a=i,s=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,f)=>{const p=i.get(c),m=hm(this.query,f)?f:null,y=!!p&&this.mutatedKeys.has(p.key),w=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let _=!1;p&&m?p.data.isEqual(m.data)?y!==w&&(r.track({type:3,doc:m}),_=!0):this.su(p,m)||(r.track({type:2,doc:m}),_=!0,(l&&this.eu(m,l)>0||u&&this.eu(m,u)<0)&&(s=!0)):!p&&m?(r.track({type:0,doc:m}),_=!0):p&&!m&&(r.track({type:1,doc:p}),_=!0,(l||u)&&(s=!0)),_&&(m?(a=a.add(m),o=w?o.add(c):o.delete(c)):(a=a.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const c=this.query.limitType==="F"?a.last():a.first();a=a.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{tu:a,iu:r,Ss:s,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort((c,f)=>function(m,y){const w=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return de(20277,{Vt:_})}};return w(m)-w(y)}(c.type,f.type)||this.eu(c.doc,f.doc)),this.ou(r),i=i??!1;const s=n&&!i?this._u():[],l=this.Ya.size===0&&this.current&&!i?1:0,u=l!==this.Xa;return this.Xa=l,a.length!==0||u?{snapshot:new $s(this.query,e.tu,o,a,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:s}:{au:s}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new lE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Za=this.Za.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Za=this.Za.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Te(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new Fj(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new $j(r))}),n}cu(e){this.Za=e.ks,this.Ya=Te();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return $s.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const vx="SyncEngine";class p9{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class m9{constructor(e){this.key=e,this.hu=!1}}class g9{constructor(e,n,r,i,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new Ia(s=>JC(s),dm),this.Iu=new Map,this.Eu=new Set,this.Ru=new st(le.comparator),this.Au=new Map,this.Vu=new sx,this.du={},this.mu=new Map,this.fu=Ds.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function y9(t,e,n=!0){const r=Wj(t);let i;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await Lj(r,e,n,!0),i}async function v9(t,e){const n=Wj(t);await Lj(n,e,!0,!1)}async function Lj(t,e,n,r){const i=await $B(t.localStore,Ir(e)),o=i.targetId,a=t.sharedClientState.addLocalQueryTarget(o,n);let s;return r&&(s=await b9(t,e,o,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&Ij(t.remoteStore,i),s}async function b9(t,e,n,r,i){t.pu=(f,p,m)=>async function(w,_,g,x){let S=_.view.ru(g);S.Ss&&(S=await nE(w.localStore,_.query,!1).then(({documents:b})=>_.view.ru(b,S)));const O=x&&x.targetChanges.get(_.targetId),E=x&&x.targetMismatches.get(_.targetId)!=null,A=_.view.applyChanges(S,w.isPrimaryClient,O,E);return dE(w,_.targetId,A.au),A.snapshot}(t,f,p,m);const o=await nE(t.localStore,e,!0),a=new h9(e,o.ks),s=a.ru(o.documents),l=gf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=a.applyChanges(s,t.isPrimaryClient,l);dE(t,n,u.au);const c=new p9(e,n,a);return t.Tu.set(e,c),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function x9(t,e,n){const r=ye(t),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter(a=>!dm(a,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await l0(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&fx(r.remoteStore,i.targetId),f0(r,i.targetId)}).catch(gl)):(f0(r,i.targetId),await l0(r.localStore,i.targetId,!0))}async function _9(t,e){const n=ye(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),fx(n.remoteStore,r.targetId))}async function w9(t,e,n){const r=O9(t);try{const i=await function(a,s){const l=ye(a),u=Qe.now(),c=s.reduce((m,y)=>m.add(y.key),Te());let f,p;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let y=li(),w=Te();return l.xs.getEntries(m,c).next(_=>{y=_,y.forEach((g,x)=>{x.isValidDocument()||(w=w.add(g))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,y)).next(_=>{f=_;const g=[];for(const x of s){const S=D8(x,f.get(x.key).overlayedDocument);S!=null&&g.push(new To(x.key,S,HC(S.value.mapValue),Or.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,g,s)}).next(_=>{p=_;const g=_.applyToLocalDocumentSet(f,w);return l.documentOverlayCache.saveOverlays(m,_.batchId,g)})}).then(()=>({batchId:p.batchId,changes:tj(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,s,l){let u=a.du[a.currentUser.toKey()];u||(u=new st(Ee)),u=u.insert(s,l),a.du[a.currentUser.toKey()]=u}(r,i.batchId,n),await vf(r,i.changes),await bm(r.remoteStore)}catch(i){const o=gx(i,"Failed to persist write");n.reject(o)}}async function Vj(t,e){const n=ye(t);try{const r=await NB(n.localStore,e);e.targetChanges.forEach((i,o)=>{const a=n.Au.get(o);a&&(Ne(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.hu=!0:i.modifiedDocuments.size>0?Ne(a.hu,14607):i.removedDocuments.size>0&&(Ne(a.hu,42227),a.hu=!1))}),await vf(n,r,e)}catch(r){await gl(r)}}function fE(t,e,n){const r=ye(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((o,a)=>{const s=a.view.va(e);s.snapshot&&i.push(s.snapshot)}),function(a,s){const l=ye(a);l.onlineState=s;let u=!1;l.queries.forEach((c,f)=>{for(const p of f.ba)p.va(s)&&(u=!0)}),u&&yx(l)}(r.eventManager,e),i.length&&r.Pu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function S9(t,e,n){const r=ye(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),o=i&&i.key;if(o){let a=new st(le.comparator);a=a.insert(o,en.newNoDocument(o,me.min()));const s=Te().add(o),l=new gm(me.min(),new Map,new st(Ee),a,s);await Vj(r,l),r.Ru=r.Ru.remove(o),r.Au.delete(e),bx(r)}else await l0(r.localStore,e,!1).then(()=>f0(r,e,n)).catch(gl)}async function E9(t,e){const n=ye(t),r=e.batch.batchId;try{const i=await RB(n.localStore,e);zj(n,r,null),Bj(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await vf(n,i)}catch(i){await gl(i)}}async function T9(t,e,n){const r=ye(t);try{const i=await function(a,s){const l=ye(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,s).next(f=>(Ne(f!==null,37113),c=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,s)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);zj(r,e,n),Bj(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await vf(r,i)}catch(i){await gl(i)}}function Bj(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function zj(t,e,n){const r=ye(t);let i=r.du[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.du[r.currentUser.toKey()]=i}}function f0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach(r=>{t.Vu.containsKey(r)||Uj(t,r)})}function Uj(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(fx(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),bx(t))}function dE(t,e,n){for(const r of n)r instanceof $j?(t.Vu.addReference(r.key,e),A9(t,r)):r instanceof Fj?(re(vx,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||Uj(t,r.key)):de(19791,{wu:r})}function A9(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(re(vx,"New document in limbo: "+n),t.Eu.add(r),bx(t))}function bx(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new le(it.fromString(e)),r=t.fu.next();t.Au.set(r,new m9(n)),t.Ru=t.Ru.insert(n,r),Ij(t.remoteStore,new zi(Ir(fm(n.path)),r,"TargetPurposeLimboResolution",sm.ce))}}async function vf(t,e,n){const r=ye(t),i=[],o=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach((s,l)=>{a.push(r.pu(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=ux.Es(l.targetId,u);o.push(f)}}))}),await Promise.all(a),r.Pu.J_(i),await async function(l,u){const c=ye(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>K.forEach(u,p=>K.forEach(p.Ts,m=>c.persistence.referenceDelegate.addReference(f,p.targetId,m)).next(()=>K.forEach(p.Is,m=>c.persistence.referenceDelegate.removeReference(f,p.targetId,m)))))}catch(f){if(!yl(f))throw f;re(cx,"Failed to update sequence numbers: "+f)}for(const f of u){const p=f.targetId;if(!f.fromCache){const m=c.vs.get(p),y=m.snapshotVersion,w=m.withLastLimboFreeSnapshotVersion(y);c.vs=c.vs.insert(p,w)}}}(r.localStore,o))}async function P9(t,e){const n=ye(t);if(!n.currentUser.isEqual(e)){re(vx,"User change. New user:",e.toKey());const r=await Ej(n.localStore,e);n.currentUser=e,function(o,a){o.mu.forEach(s=>{s.forEach(l=>{l.reject(new ae(Y.CANCELLED,a))})}),o.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await vf(n,r.Ns)}}function I9(t,e){const n=ye(t),r=n.Au.get(e);if(r&&r.hu)return Te().add(r.key);{let i=Te();const o=n.Iu.get(e);if(!o)return i;for(const a of o){const s=n.Tu.get(a);i=i.unionWith(s.view.nu)}return i}}function Wj(t){const e=ye(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Vj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=I9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=S9.bind(null,e),e.Pu.J_=f9.bind(null,e.eventManager),e.Pu.yu=d9.bind(null,e.eventManager),e}function O9(t){const e=ye(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=E9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=T9.bind(null,e),e}class $h{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ym(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return jB(this.persistence,new OB,e.initialUser,this.serializer)}Cu(e){return new Sj(lx.Vi,this.serializer)}Du(e){return new LB}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$h.provider={build:()=>new $h};class k9 extends $h{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ne(this.persistence.referenceDelegate instanceof Mh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new pB(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new Sj(r=>Mh.Vi(r,n),this.serializer)}}class d0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>fE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=P9.bind(null,this.syncEngine),await l9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new c9}()}createDatastore(e){const n=ym(e.databaseInfo.databaseId),r=WB(e.databaseInfo);return YB(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,a,s){return new QB(r,i,o,a,s)}(this.localStore,this.datastore,e.asyncQueue,n=>fE(this.syncEngine,n,0),function(){return oE.v()?new oE:new VB}())}createSyncEngine(e,n){return function(i,o,a,s,l,u,c){const f=new g9(i,o,a,s,l,u);return c&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=ye(i);re(va,"RemoteStore shutting down."),o.Ea.add(5),await yf(o),o.Aa.shutdown(),o.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}d0.provider={build:()=>new d0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hj{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):si("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const po="FirestoreClient";class C9{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=i,this.user=Jt.UNAUTHENTICATED,this.clientId=X1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async a=>{re(po,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(re(po,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ro;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=gx(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function py(t,e){t.asyncQueue.verifyOperationInProgress(),re(po,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Ej(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function hE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await j9(t);re(po,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>sE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>sE(e.remoteStore,i)),t._onlineComponents=e}async function j9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){re(po,"Using user provided OfflineComponentProvider");try{await py(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===Y.FAILED_PRECONDITION||i.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;ya("Error using user provided cache. Falling back to memory cache: "+n),await py(t,new $h)}}else re(po,"Using default OfflineComponentProvider"),await py(t,new k9(void 0));return t._offlineComponents}async function qj(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(re(po,"Using user provided OnlineComponentProvider"),await hE(t,t._uninitializedComponentsProvider._online)):(re(po,"Using default OnlineComponentProvider"),await hE(t,new d0))),t._onlineComponents}function R9(t){return qj(t).then(e=>e.syncEngine)}async function h0(t){const e=await qj(t),n=e.eventManager;return n.onListen=y9.bind(null,e.syncEngine),n.onUnlisten=x9.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=v9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=_9.bind(null,e.syncEngine),n}function N9(t,e,n,r){const i=new Hj(r),o=new Dj(e,i,n);return t.asyncQueue.enqueueAndForget(async()=>Nj(await h0(t),o)),()=>{i.Nu(),t.asyncQueue.enqueueAndForget(async()=>Mj(await h0(t),o))}}function M9(t,e,n={}){const r=new ro;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,s,l,u){const c=new Hj({next:p=>{c.Nu(),a.enqueueAndForget(()=>Mj(o,f));const m=p.docs.has(s);!m&&p.fromCache?u.reject(new ae(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&p.fromCache&&l&&l.source==="server"?u.reject(new ae(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(p)},error:p=>u.reject(p)}),f=new Dj(fm(s.path),c,{includeMetadataChanges:!0,Ka:!0});return Nj(o,f)}(await h0(t),t.asyncQueue,e,n,r)),r.promise}function D9(t,e){const n=new ro;return t.asyncQueue.enqueueAndForget(async()=>w9(await R9(t),e,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gj(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $9="ComponentProvider",pE=new Map;function F9(t,e,n,r,i){return new r8(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,Gj(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kj="firestore.googleapis.com",mE=!0;class gE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ae(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Kj,this.ssl=mE}else this.host=e.host,this.ssl=e.ssl??mE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=wj;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<dB)throw new ae(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}qV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Gj(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ae(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ae(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ae(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xx{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ae(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new MV;switch(r.type){case"firstParty":return new LV(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ae(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=pE.get(n);r&&(re($9,"Removing Datastore"),pE.delete(n),r.terminate())}(this),Promise.resolve()}}function L9(t,e,n,r={}){var u;t=Pr(t,xx);const i=dl(e),o=t._getSettings(),a={...o,emulatorOptions:t._getEmulatorOptions()},s=`${e}:${n}`;i&&(Lk(`https://${s}`),Vk("Firestore",!0)),o.host!==Kj&&o.host!==s&&ya("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...o,host:s,ssl:i,emulatorOptions:r};if(!da(l,a)&&(t._setSettings(l),r.mockUserToken)){let c,f;if(typeof r.mockUserToken=="string")c=r.mockUserToken,f=Jt.MOCK_USER;else{c=G3(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new ae(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Jt(p)}t._authCredentials=new DV(new NC(c,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new xm(this.firestore,e,this._query)}}class xt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xt(this.firestore,e,this._key)}toJSON(){return{type:xt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(pf(n,xt._jsonSchema))return new xt(e,r||null,new le(it.fromString(n.referencePath)))}}xt._jsonSchemaVersion="firestore/documentReference/1.0",xt._jsonSchema={type:bt("string",xt._jsonSchemaVersion),referencePath:bt("string")};class gc extends xm{constructor(e,n,r){super(e,n,fm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xt(this.firestore,null,new le(e))}withConverter(e){return new gc(this.firestore,e,this._path)}}function Ve(t,e,...n){if(t=qt(t),arguments.length===1&&(e=X1.newId()),HV("doc","path",e),t instanceof xx){const r=it.fromString(e,...n);return k2(r),new xt(t,null,new le(r))}{if(!(t instanceof xt||t instanceof gc))throw new ae(Y.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(it.fromString(e,...n));return k2(r),new xt(t.firestore,t instanceof gc?t.converter:null,new le(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE="AsyncQueue";class vE{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Aj(this,"async_queue_retry"),this._c=()=>{const r=hy();r&&re(yE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=hy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=hy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new ro;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Yu.push(e),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!yl(e))throw e;re(yE,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,si("INTERNAL UNHANDLED ERROR: ",bE(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=mx.createAndSchedule(this,e,n,r,o=>this.hc(o));return this.tc.push(i),i}uc(){this.nc&&de(47125,{Pc:bE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function bE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Fs extends xx{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new vE,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new vE(e),this._firestoreClient=void 0,await e}}}function V9(t,e){const n=typeof t=="object"?t:Wk(),r=typeof t=="string"?t:Oh,i=V1(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=H3("firestore");o&&L9(i,...o)}return i}function _x(t){if(t._terminated)throw new ae(Y.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||B9(t),t._firestoreClient}function B9(t){var r,i,o,a;const e=t._freezeSettings(),n=F9(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,(i=t._app)==null?void 0:i.options.apiKey,e);t._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new C9(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bn(Gt.fromBase64String(e))}catch(n){throw new ae(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Bn(Gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Bn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(pf(e,Bn._jsonSchema))return Bn.fromBase64String(e.bytes)}}Bn._jsonSchemaVersion="firestore/bytes/1.0",Bn._jsonSchema={type:bt("string",Bn._jsonSchemaVersion),bytes:bt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ae(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ae(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ae(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ee(this._lat,e._lat)||Ee(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Cr._jsonSchemaVersion}}static fromJSON(e){if(pf(e,Cr._jsonSchema))return new Cr(e.latitude,e.longitude)}}Cr._jsonSchemaVersion="firestore/geoPoint/1.0",Cr._jsonSchema={type:bt("string",Cr._jsonSchemaVersion),latitude:bt("number"),longitude:bt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:fr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(pf(e,fr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new fr(e.vectorValues);throw new ae(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}fr._jsonSchemaVersion="firestore/vectorValue/1.0",fr._jsonSchema={type:bt("string",fr._jsonSchemaVersion),vectorValues:bt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z9=/^__.*__$/;class U9{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new To(e,this.data,this.fieldMask,n,this.fieldTransforms):new mf(e,this.data,n,this.fieldTransforms)}}class Yj{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new To(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Xj(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw de(40011,{dataSource:t})}}class Sx{constructor(e,n,r,i,o,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.validatePath(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Sx({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Fh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(Xj(this.dataSource)&&z9.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class W9{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ym(e)}createContext(e,n,r,i=!1){return new Sx({dataSource:e,methodName:n,targetDoc:r,path:zt.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qj(t){const e=t._freezeSettings(),n=ym(t._databaseId);return new W9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function H9(t,e,n,r,i,o={}){const a=t.createContext(o.merge||o.mergeFields?2:0,e,n,i);Tx("Data must be an object, but it was:",a,r);const s=Jj(r,a);let l,u;if(o.merge)l=new In(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){const c=[];for(const f of o.mergeFields){const p=yc(e,f,n);if(!a.contains(p))throw new ae(Y.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);tR(c,p)||c.push(p)}l=new In(c),u=a.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=a.fieldTransforms;return new U9(new mn(s),l,u)}class wm extends _m{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof wm}}class Ex extends _m{_toFieldTransform(e){return new j8(e.path,new hc)}isEqual(e){return e instanceof Ex}}function q9(t,e,n,r){const i=t.createContext(1,e,n);Tx("Data must be an object, but it was:",i,r);const o=[],a=mn.empty();Eo(r,(l,u)=>{const c=eR(e,l,n);u=qt(u);const f=i.childContextForFieldPath(c);if(u instanceof wm)o.push(c);else{const p=Sm(u,f);p!=null&&(o.push(c),a.set(c,p))}});const s=new In(o);return new Yj(a,s,i.fieldTransforms)}function G9(t,e,n,r,i,o){const a=t.createContext(1,e,n),s=[yc(e,r,n)],l=[i];if(o.length%2!=0)throw new ae(Y.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<o.length;p+=2)s.push(yc(e,o[p])),l.push(o[p+1]);const u=[],c=mn.empty();for(let p=s.length-1;p>=0;--p)if(!tR(u,s[p])){const m=s[p];let y=l[p];y=qt(y);const w=a.childContextForFieldPath(m);if(y instanceof wm)u.push(m);else{const _=Sm(y,w);_!=null&&(u.push(m),c.set(m,_))}}const f=new In(u);return new Yj(c,f,a.fieldTransforms)}function Sm(t,e){if(Zj(t=qt(t)))return Tx("Unsupported field value:",e,t),Jj(t,e);if(t instanceof _m)return function(r,i){if(!Xj(i.dataSource))throw i.createError(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return function(r,i){const o=[];let a=0;for(const s of r){let l=Sm(s,i.childContextForArray(a));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),a++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=qt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return O8(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Qe.fromDate(r);return{timestampValue:Nh(i.serializer,o)}}if(r instanceof Qe){const o=new Qe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Nh(i.serializer,o)}}if(r instanceof Cr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Bn)return{bytesValue:pj(i.serializer,r._byteString)};if(r instanceof xt){const o=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(o))throw i.createError(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:ax(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof fr)return function(a,s){const l=a instanceof fr?a.toArray():a;return{mapValue:{fields:{[UC]:{stringValue:WC},[kh]:{arrayValue:{values:l.map(c=>{if(typeof c!="number")throw s.createError("VectorValues must only contain numeric values.");return rx(s.serializer,c)})}}}}}}(r,i);if(_j(r))return r._toProto(i.serializer);throw i.createError(`Unsupported field value: ${Q1(r)}`)}(t,e)}function Jj(t,e){const n={};return $C(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Eo(t,(r,i)=>{const o=Sm(i,e.childContextForField(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function Zj(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Qe||t instanceof Cr||t instanceof Bn||t instanceof xt||t instanceof _m||t instanceof fr||_j(t))}function Tx(t,e,n){if(!Zj(n)||!MC(n)){const r=Q1(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function yc(t,e,n){if((e=qt(e))instanceof wx)return e._internalPath;if(typeof e=="string")return eR(t,e);throw Fh("Field path arguments must be of type string or ",t,!1,void 0,n)}const K9=new RegExp("[~\\*/\\[\\]]");function eR(t,e,n){if(e.search(K9)>=0)throw Fh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new wx(...e.split("."))._internalPath}catch{throw Fh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Fh(t,e,n,r,i){const o=r&&!r.isEmpty(),a=i!==void 0;let s=`Function ${e}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(o||a)&&(l+=" (found",o&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new ae(Y.INVALID_ARGUMENT,s+t+l)}function tR(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y9{convertValue(e,n="none"){switch(fo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(co(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw de(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Eo(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var r,i,o;const n=(o=(i=(r=e.fields)==null?void 0:r[kh].arrayValue)==null?void 0:i.values)==null?void 0:o.map(a=>dt(a.doubleValue));return new fr(n)}convertGeoPoint(e){return new Cr(dt(e.latitude),dt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=um(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(cc(e));default:return null}}convertTimestamp(e){const n=uo(e);return new Qe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=it.fromString(e);Ne(xj(r),9688,{name:e});const i=new fc(r.get(1),r.get(3)),o=new le(r.popFirst(5));return i.isEqual(n)||si(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR extends Y9{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new xt(this.firestore,null,n)}}function mi(){return new Ex("serverTimestamp")}const xE="@firebase/firestore",_E="4.11.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wE(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new X9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(yc("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class X9 extends rR{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q9(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ae(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function J9(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class xu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class na extends rR{constructor(e,n,r,i,o,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Gd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(yc("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=na._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}na._jsonSchemaVersion="firestore/documentSnapshot/1.0",na._jsonSchema={type:bt("string",na._jsonSchemaVersion),bundleSource:bt("string","DocumentSnapshot"),bundleName:bt("string"),bundle:bt("string")};class Gd extends na{data(e={}){return super.data(e)}}class xs{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new xu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Gd(this._firestore,this._userDataWriter,r.key,r,new xu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ae(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(s=>{const l=new Gd(i._firestore,i._userDataWriter,s.doc.key,s.doc,new xu(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>o||s.type!==3).map(s=>{const l=new Gd(i._firestore,i._userDataWriter,s.doc.key,s.doc,new xu(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return s.type!==0&&(u=a.indexOf(s.doc.key),a=a.delete(s.doc.key)),s.type!==1&&(a=a.add(s.doc),c=a.indexOf(s.doc.key)),{type:Z9(s.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=xs._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=X1.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Z9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return de(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xs._jsonSchemaVersion="firestore/querySnapshot/1.0",xs._jsonSchema={type:bt("string",xs._jsonSchemaVersion),bundleSource:bt("string","QuerySnapshot"),bundleName:bt("string"),bundle:bt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(t){t=Pr(t,xt);const e=Pr(t.firestore,Fs),n=_x(e);return M9(n,t._key).then(r=>oR(e,t,r))}function Ao(t,e,n){t=Pr(t,xt);const r=Pr(t.firestore,Fs),i=J9(t.converter,e,n),o=Qj(r);return iR(r,[H9(o,"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Or.none())])}function e7(t,e,n,...r){t=Pr(t,xt);const i=Pr(t.firestore,Fs),o=Qj(i);let a;return a=typeof(e=qt(e))=="string"||e instanceof wx?G9(o,"updateDoc",t._key,e,n,r):q9(o,"updateDoc",t._key,e),iR(i,[a.toMutation(t._key,Or.exists(!0))])}function $o(t,...e){var u,c,f;t=qt(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||wE(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(wE(e[r])){const p=e[r];e[r]=(u=p.next)==null?void 0:u.bind(p),e[r+1]=(c=p.error)==null?void 0:c.bind(p),e[r+2]=(f=p.complete)==null?void 0:f.bind(p)}let o,a,s;if(t instanceof xt)a=Pr(t.firestore,Fs),s=fm(t._key.path),o={next:p=>{e[r]&&e[r](oR(a,t,p))},error:e[r+1],complete:e[r+2]};else{const p=Pr(t,xm);a=Pr(p.firestore,Fs),s=p._query;const m=new nR(a);o={next:y=>{e[r]&&e[r](new xs(a,m,p,y))},error:e[r+1],complete:e[r+2]},Q9(t._query)}const l=_x(a);return N9(l,s,i,o)}function iR(t,e){const n=_x(t);return D9(n,e)}function oR(t,e,n){const r=n.docs.get(e._key),i=new nR(t);return new na(t,i,e._key,r,new xu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){NV(hl),js(new ha("firestore",(r,{instanceIdentifier:i,options:o})=>{const a=r.getProvider("app").getImmediate(),s=new Fs(new $V(r.getProvider("auth-internal")),new VV(a,r.getProvider("app-check-internal")),i8(a,i),a);return o={useFetchStreams:n,...o},s._setSettings(o),s},"PUBLIC").setMultipleInstances(!0)),to(xE,_E,e),to(xE,_E,"esm2020")})();var t7="firebase",n7="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */to(t7,n7,"app");const r7={apiKey:"AIzaSyACHCGDuYXUhut6_p3gluHKp9XrCVBvuG4",authDomain:"sitskillbridge.firebaseapp.com",projectId:"sitskillbridge",storageBucket:"sitskillbridge.firebasestorage.app",messagingSenderId:"311354448221",appId:"1:311354448221:web:5a22afcd099064437af0b4",measurementId:"G-GSC9919C0B"},aR=Uk(r7),io=jV(aR),Be=V9(aR),sR=M.createContext(),i7=({children:t})=>{const[e,n]=M.useState(null),[r,i]=M.useState(!0),[o,a]=M.useState(null),[s,l]=M.useState(!1);M.useEffect(()=>_6(io,async g=>{if(g)try{const x=await or(Ve(Be,"users",g.uid)),S=x.exists()?x.data():{};n({uid:g.uid,email:g.email,...S}),l(!0)}catch(x){console.error("[AuthContext] Failed to load user profile:",x),n({uid:g.uid,email:g.email}),l(!0)}else n(null),l(!1);i(!1)}),[]);const u=M.useCallback(async()=>{try{await Th(io),a(null)}catch(_){console.error("[AuthContext] Logout failed:",_),a("Logout failed. Please try again.")}},[]),c=M.useCallback(async(_,g)=>(console.warn("[AuthContext] login is not implemented yet."),{success:!1,error:"Login is coming soon!"}),[]),f=M.useCallback(async(_,g)=>(console.warn("[AuthContext] Use Signup.jsx for signup flow."),{success:!1,error:"Use Signup.jsx for signup"}),[]),p=M.useCallback(async _=>(console.warn("[AuthContext] updateProfile is not implemented yet."),{success:!1,error:"Not implemented yet"}),[]),m=M.useCallback(async()=>(console.warn("[AuthContext] changePassword is not implemented yet."),{success:!1,error:"Not implemented yet"}),[]),y=M.useCallback(async()=>{var g;return await((g=io.currentUser)==null?void 0:g.getIdToken(!0))??null},[]),w={user:e,token:null,refreshToken:null,loading:r,error:o,isAuthenticated:s,signup:f,login:c,logout:u,refreshAccessToken:y,updateProfile:p,changePassword:m,clearError:()=>a(null)};return h.jsx(sR.Provider,{value:w,children:t})},Ax=()=>{const t=M.useContext(sR);if(!t)throw new Error("useAuth must be used within AuthProvider");return t};/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lR=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o7=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a7=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase());/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SE=t=>{const e=a7(t);return e.charAt(0).toUpperCase()+e.slice(1)};/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var s7={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l7=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u7=M.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:a,...s},l)=>M.createElement("svg",{ref:l,...s7,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:lR("lucide",i),...!o&&!l7(s)&&{"aria-hidden":"true"},...s},[...a.map(([u,c])=>M.createElement(u,c)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=(t,e)=>{const n=M.forwardRef(({className:r,...i},o)=>M.createElement(u7,{ref:o,iconNode:e,className:lR(`lucide-${o7(SE(t))}`,`lucide-${t}`,r),...i}));return n.displayName=SE(t),n};/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c7=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Px=Me("arrow-left",c7);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f7=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],ra=Me("arrow-right",f7);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d7=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],h7=Me("book-open",d7);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p7=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Ix=Me("briefcase",p7);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m7=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],g7=Me("chart-no-axes-column",m7);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y7=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],v7=Me("chevron-left",y7);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b7=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],x7=Me("chevron-right",b7);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],uR=Me("circle-alert",_7);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],ba=Me("circle-check",w7);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S7=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Lh=Me("clipboard-list",S7);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E7=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],T7=Me("cloud-upload",E7);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A7=[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]],Em=Me("code-xml",A7);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P7=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],I7=Me("download",P7);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O7=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],p0=Me("eye-off",O7);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k7=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],m0=Me("eye",k7);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C7=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],vc=Me("file-text",C7);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j7=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],R7=Me("folder-open",j7);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N7=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],Vh=Me("github",N7);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M7=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],D7=Me("layout-dashboard",M7);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $7=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Cn=Me("loader-circle",$7);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F7=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],g0=Me("lock",F7);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L7=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],V7=Me("log-out",L7);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B7=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],z7=Me("map",B7);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U7=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],W7=Me("menu",U7);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H7=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],q7=Me("refresh-cw",H7);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],K7=Me("target",G7);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y7=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Ls=Me("trending-up",Y7);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X7=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],bc=Me("user",X7);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q7=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ox=Me("x",Q7);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J7=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],kx=Me("zap",J7),Z7=()=>{const t=_o(),[e,n]=M.useState(!1),[r,i]=M.useState(0);M.useEffect(()=>{const a=()=>i(window.scrollY);return window.addEventListener("scroll",a),()=>window.removeEventListener("scroll",a)},[]);const o=a=>{const s=document.getElementById(a);s==null||s.scrollIntoView({behavior:"smooth"}),n(!1)};return h.jsxs("div",{className:"min-h-screen bg-[#2B2A2A] text-[#F0FFDF]",style:{fontFamily:"'Segoe UI', Tahoma, Geneva, Verdana, sans-serif"},children:[h.jsx("nav",{className:"fixed w-full top-0 z-50 bg-[#2B2A2A] bg-opacity-95 backdrop-blur-md border-b border-[#237227] border-opacity-20",children:h.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[h.jsxs("div",{className:"flex justify-between items-center h-16",children:[h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("div",{className:"w-10 h-10 bg-[#237227] rounded-lg flex items-center justify-center overflow-hidden",children:h.jsx("img",{src:"/logo.jpeg",alt:"SkillBridge Logo",className:"w-full h-full object-cover"})}),h.jsx("span",{className:"text-xl font-bold text-[#F0FFDF] hidden sm:inline",children:"SkillBridge"})]}),h.jsx("div",{className:"hidden md:flex space-x-8",children:["About","Problem","Solution","How It Works"].map(a=>h.jsx("button",{onClick:()=>o(a.toLowerCase().replace(" ","-")),className:"text-[#F0FFDF] hover:text-[#237227] transition-colors duration-300 font-medium text-sm",children:a},a))}),h.jsxs("div",{className:"hidden md:flex space-x-3",children:[h.jsx("button",{onClick:()=>t("/login"),className:"px-5 py-2 text-[#237227] border border-[#237227] rounded-lg hover:bg-[#237227] hover:text-[#F0FFDF] transition-all duration-300 font-medium text-sm",children:"Login"}),h.jsx("button",{onClick:()=>t("/signup"),className:"px-5 py-2 bg-[#237227] text-[#F0FFDF] rounded-lg hover:bg-opacity-80 transition-all duration-300 font-medium text-sm shadow-lg hover:shadow-xl",children:"Sign Up"})]}),h.jsx("button",{onClick:()=>n(!e),className:"md:hidden text-[#F0FFDF]",children:e?h.jsx(Ox,{size:24}):h.jsx(W7,{size:24})})]}),e&&h.jsx("div",{className:"md:hidden pb-4 animate-in fade-in slide-in-from-top",children:h.jsxs("div",{className:"flex flex-col space-y-3",children:[["About","Problem","Solution","How It Works"].map(a=>h.jsx("button",{onClick:()=>o(a.toLowerCase().replace(" ","-")),className:"text-[#F0FFDF] hover:text-[#237227] transition-colors text-left font-medium py-2",children:a},a)),h.jsxs("div",{className:"flex flex-col space-y-2 pt-2 border-t border-[#237227] border-opacity-20",children:[h.jsx("button",{className:"px-4 py-2 text-[#237227] border border-[#237227] rounded-lg text-sm font-medium",children:"Login"}),h.jsx("button",{className:"px-4 py-2 bg-[#237227] text-[#F0FFDF] rounded-lg text-sm font-medium",children:"Sign Up"})]})]})})]})}),h.jsxs("section",{className:"pt-32 pb-20 px-4 sm:px-6 lg:px-8 relative overflow-hidden",children:[h.jsxs("div",{className:"max-w-7xl mx-auto",children:[h.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[h.jsx("div",{className:"absolute w-96 h-96 bg-[#237227] rounded-full mix-blend-multiply filter blur-3xl opacity-10 animate-pulse",style:{animation:"float 6s ease-in-out infinite",top:"10%",left:"10%"}}),h.jsx("div",{className:"absolute w-96 h-96 bg-[#237227] rounded-full mix-blend-multiply filter blur-3xl opacity-10 animate-pulse",style:{animation:"float 8s ease-in-out infinite reverse",bottom:"10%",right:"10%"}})]}),h.jsxs("div",{className:"relative z-10 grid md:grid-cols-2 gap-12 items-center",children:[h.jsxs("div",{className:"animate-fade-up",children:[h.jsxs("h1",{className:"text-4xl md:text-6xl font-bold text-[#F0FFDF] mb-6 leading-tight",children:["Bridge Your ",h.jsx("span",{className:"text-[#237227]",children:"Skills Gap"})]}),h.jsx("p",{className:"text-lg text-[#F0FFDF] text-opacity-90 mb-8 leading-relaxed",children:"Discover exactly what skills you need to master for your dream IT career. Get personalized roadmaps powered by AI-driven assessments."}),h.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[h.jsxs("button",{onClick:()=>t("/signup"),className:"bg-[#237227] text-[#F0FFDF] px-8 py-4 rounded-lg font-bold hover:bg-opacity-90 transition-all duration-300 shadow-lg hover:shadow-2xl flex items-center justify-center gap-2 group",children:["Get Started ",h.jsx(ra,{size:20,className:"group-hover:translate-x-1 transition-transform"})]}),h.jsx("button",{onClick:()=>o("how-it-works"),className:"border-2 border-[#237227] text-[#237227] px-8 py-4 rounded-lg font-bold hover:bg-[#237227] hover:text-[#F0FFDF] transition-all duration-300",children:"Learn More"})]})]}),h.jsx("div",{className:"relative hidden md:block",children:h.jsx("div",{className:"animate-float",children:h.jsxs("div",{className:"relative",children:[h.jsx("img",{src:"/skill_image.jpg",alt:"Skill Development Visualization",className:"rounded-2xl shadow-2xl border border-[#237227] border-opacity-30 w-full max-w-md mx-auto"}),h.jsx("div",{className:"absolute -inset-4 bg-[#237227] opacity-20 blur-2xl rounded-full -z-10"})]})})})]})]}),h.jsx("style",{children:`
          @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
          }
          @keyframes fade-up {
            from {
              opacity: 0;
              transform: translateY(30px);
            }
            to {
              opacity: 1;
              transform: translateY(0);
            }
          }
          .animate-fade-up {
            animation: fade-up 0.8s ease-out forwards;
          }
          .animate-float {
            animation: float 6s ease-in-out infinite;
          }
        `})]}),h.jsx("section",{id:"about",className:"py-20 px-4 sm:px-6 lg:px-8 bg-[#1F1F1F]",children:h.jsxs("div",{className:"max-w-7xl mx-auto",children:[h.jsxs("div",{className:"text-center mb-16",children:[h.jsx("h2",{className:"text-4xl font-bold text-[#F0FFDF] mb-4",children:"About SkillBridge"}),h.jsx("p",{className:"text-lg text-[#F0FFDF] text-opacity-80 max-w-2xl mx-auto",children:"Revolutionizing how IT and Computer Science students understand and develop their professional skills."})]}),h.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:[{icon:K7,title:"Precise Assessment",desc:"AI-powered skill detection from your resume and GitHub"},{icon:Ls,title:"Data-Driven Insights",desc:"Real proficiency scores based on industry standards"},{icon:h7,title:"Custom Learning",desc:"Personalized roadmaps aligned with your career goals"}].map((a,s)=>h.jsxs("div",{className:"bg-[#2B2A2A] border border-[#237227] border-opacity-30 rounded-xl p-8 hover:border-opacity-60 transition-all duration-300 hover:shadow-xl group",style:{animationDelay:`${s*.2}s`},children:[h.jsx("div",{className:"bg-[#237227] bg-opacity-20 w-16 h-16 rounded-lg flex items-center justify-center mb-4 group-hover:bg-opacity-40 transition-all",children:h.jsx(a.icon,{size:28,className:"text-[#237227]"})}),h.jsx("h3",{className:"text-xl font-bold text-[#F0FFDF] mb-3",children:a.title}),h.jsx("p",{className:"text-[#F0FFDF] text-opacity-75",children:a.desc})]},s))})]})}),h.jsx("section",{id:"problem",className:"py-20 px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"max-w-7xl mx-auto",children:[h.jsxs("div",{className:"text-center mb-16",children:[h.jsx("h2",{className:"text-4xl font-bold text-[#F0FFDF] mb-4",children:"The Problem"}),h.jsx("p",{className:"text-lg text-[#F0FFDF] text-opacity-80",children:"Why most IT students struggle in their careers"})]}),h.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[h.jsx("div",{children:h.jsx("div",{className:"space-y-6",children:["Unclear skill gaps between academic knowledge and industry requirements","No data-driven career guidance tailored to individual strengths","Lack of structured learning paths for skill development","Resume and portfolio underutilization in career planning","Generic job recommendations without skill-match analysis"].map((a,s)=>h.jsxs("div",{className:"flex gap-4 animate-fade-up",style:{animationDelay:`${s*.1}s`},children:[h.jsx("div",{className:"flex-shrink-0",children:h.jsx("div",{className:"flex items-center justify-center h-8 w-8 rounded-md bg-[#237227] bg-opacity-20",children:h.jsx("span",{className:"text-[#237227] font-bold",children:"!"})})}),h.jsx("p",{className:"text-[#F0FFDF] text-opacity-90",children:a})]},s))})}),h.jsx("div",{className:"relative hidden md:block",children:h.jsx("div",{className:"bg-gradient-to-br from-[#237227] to-[#1a5a1a] rounded-2xl p-12 border border-[#237227] border-opacity-30 shadow-2xl",children:h.jsxs("div",{className:"text-center",children:[h.jsx(Ls,{size:64,className:"text-[#F0FFDF] mx-auto mb-4 opacity-50"}),h.jsx("p",{className:"text-[#F0FFDF] text-opacity-60",children:"Career growth without direction"})]})})})]})]})}),h.jsx("section",{id:"solution",className:"py-20 px-4 sm:px-6 lg:px-8 bg-[#1F1F1F]",children:h.jsxs("div",{className:"max-w-7xl mx-auto",children:[h.jsxs("div",{className:"text-center mb-16",children:[h.jsx("h2",{className:"text-4xl font-bold text-[#F0FFDF] mb-4",children:"Our Solution"}),h.jsx("p",{className:"text-lg text-[#F0FFDF] text-opacity-80",children:"Intelligent skill assessment and career planning platform"})]}),h.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[h.jsx("div",{className:"relative hidden md:block order-2",children:h.jsx("div",{className:"bg-gradient-to-br from-[#237227] to-[#1a5a1a] rounded-2xl p-12 border border-[#237227] border-opacity-30 shadow-2xl",children:h.jsxs("div",{className:"text-center",children:[h.jsx(Ix,{size:64,className:"text-[#F0FFDF] mx-auto mb-4"}),h.jsx("p",{className:"text-[#F0FFDF]",children:"Precision Career Mapping"})]})})}),h.jsx("div",{className:"order-1",children:h.jsx("div",{className:"space-y-6",children:[{title:"Smart Skill Extraction",desc:"NLP-powered analysis of your resume and GitHub profile"},{title:"Adaptive Testing",desc:"Real-time skill assessments with proficiency scoring"},{title:"AI-Driven Matching",desc:"Industry-aligned role recommendations using RAG"},{title:"Gap Analysis",desc:"Clear visualization of skills you need to acquire"},{title:"Personalized Roadmap",desc:"Custom learning plans with specific resources"}].map((a,s)=>h.jsxs("div",{className:"flex gap-4 animate-fade-up",style:{animationDelay:`${s*.1}s`},children:[h.jsx("div",{className:"flex-shrink-0 mt-1",children:h.jsx(ba,{size:24,className:"text-[#237227]"})}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-bold text-[#F0FFDF] mb-1",children:a.title}),h.jsx("p",{className:"text-[#F0FFDF] text-opacity-75",children:a.desc})]})]},s))})})]})]})}),h.jsx("section",{id:"how-it-works",className:"py-20 px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"max-w-7xl mx-auto",children:[h.jsxs("div",{className:"text-center mb-16",children:[h.jsx("h2",{className:"text-4xl font-bold text-[#F0FFDF] mb-4",children:"How It Works"}),h.jsx("p",{className:"text-lg text-[#F0FFDF] text-opacity-80",children:"9 steps to your perfect career path"})]}),h.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[{step:1,title:"Sign Up",desc:"Create your SkillBridge profile"},{step:2,title:"Upload Resume",desc:"Add your resume & GitHub profile"},{step:3,title:"Skill Extraction",desc:"AI analyzes your existing skills"},{step:4,title:"Take Assessment",desc:"Adaptive skill testing begins"},{step:5,title:"Get Score",desc:"Real proficiency metrics calculated"},{step:6,title:"Find Matches",desc:"Discover aligned career roles"},{step:7,title:"Gap Analysis",desc:"Identify skills to develop"},{step:8,title:"Rankings",desc:"Career ranking based on fit"},{step:9,title:"Get Roadmap",desc:"Personalized learning plan"}].map((a,s)=>h.jsx("div",{className:"relative animate-fade-up",style:{animationDelay:`${s*.08}s`},children:h.jsxs("div",{className:"bg-[#1F1F1F] border border-[#237227] border-opacity-30 rounded-xl p-6 h-full hover:border-opacity-60 transition-all duration-300 hover:shadow-xl group",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("div",{className:"text-4xl font-bold text-[#237227] group-hover:scale-110 transition-transform",children:a.step}),s<8&&h.jsx(ra,{size:20,className:"text-[#237227] opacity-50 hidden lg:block"})]}),h.jsx("h3",{className:"text-xl font-bold text-[#F0FFDF] mb-2",children:a.title}),h.jsx("p",{className:"text-[#F0FFDF] text-opacity-75",children:a.desc})]})},s))}),h.jsx("div",{className:"mt-16 text-center",children:h.jsxs("button",{onClick:()=>t("/signup"),className:"bg-[#237227] text-[#F0FFDF] px-12 py-4 rounded-lg font-bold hover:bg-opacity-90 transition-all duration-300 shadow-lg hover:shadow-2xl inline-flex items-center gap-2 group",children:["Start Your Journey ",h.jsx(ra,{size:20,className:"group-hover:translate-x-1 transition-transform"})]})})]})}),h.jsx("footer",{className:"bg-[#1F1F1F] border-t border-[#237227] border-opacity-20 py-12 px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"max-w-7xl mx-auto",children:[h.jsxs("div",{className:"grid md:grid-cols-4 gap-8 mb-8",children:[h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[h.jsx("div",{className:"w-8 h-8 bg-[#237227] rounded-lg flex items-center justify-center overflow-hidden",children:h.jsx("img",{src:"/logo.jpeg",alt:"SkillBridge Logo",className:"w-full h-full object-cover"})}),h.jsx("span",{className:"text-lg font-bold text-[#F0FFDF]",children:"SkillBridge"})]}),h.jsx("p",{className:"text-[#F0FFDF] text-opacity-70 text-sm",children:"Bridge your skills gap with AI-powered career guidance."})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"text-[#F0FFDF] font-bold mb-4",children:"Platform"}),h.jsxs("ul",{className:"space-y-2 text-sm text-[#F0FFDF] text-opacity-70",children:[h.jsx("li",{children:h.jsx("button",{onClick:()=>o("about"),className:"hover:text-[#237227] transition-colors",children:"About"})}),h.jsx("li",{children:h.jsx("button",{onClick:()=>o("problem"),className:"hover:text-[#237227] transition-colors",children:"Features"})}),h.jsx("li",{children:h.jsx("button",{onClick:()=>o("how-it-works"),className:"hover:text-[#237227] transition-colors",children:"How It Works"})})]})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"text-[#F0FFDF] font-bold mb-4",children:"Company"}),h.jsxs("ul",{className:"space-y-2 text-sm text-[#F0FFDF] text-opacity-70",children:[h.jsx("li",{children:h.jsx("a",{href:"#",className:"hover:text-[#237227] transition-colors",children:"Privacy Policy"})}),h.jsx("li",{children:h.jsx("a",{href:"#",className:"hover:text-[#237227] transition-colors",children:"Terms of Service"})}),h.jsx("li",{children:h.jsx("a",{href:"#",className:"hover:text-[#237227] transition-colors",children:"Contact"})})]})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"text-[#F0FFDF] font-bold mb-4",children:"Connect"}),h.jsxs("ul",{className:"space-y-2 text-sm text-[#F0FFDF] text-opacity-70",children:[h.jsx("li",{children:h.jsx("a",{href:"#",className:"hover:text-[#237227] transition-colors",children:"Twitter"})}),h.jsx("li",{children:h.jsx("a",{href:"#",className:"hover:text-[#237227] transition-colors",children:"LinkedIn"})}),h.jsx("li",{children:h.jsx("a",{href:"#",className:"hover:text-[#237227] transition-colors",children:"GitHub"})})]})]})]}),h.jsxs("div",{className:"border-t border-[#237227] border-opacity-20 pt-8 flex flex-col md:flex-row justify-between items-center text-sm text-[#F0FFDF] text-opacity-60",children:[h.jsx("p",{children:" 2024 SkillBridge. All rights reserved."}),h.jsx("p",{children:"Empowering the next generation of IT professionals."})]})]})})]})},ez=()=>{const t=_o(),[e,n]=M.useState({username:"",password:"",confirmPassword:""}),[r,i]=M.useState(!1),[o,a]=M.useState(!1),[s,l]=M.useState({}),[u,c]=M.useState(!1),[f,p]=M.useState(""),y=(E=>{if(!E)return{level:0,label:"",color:""};let A=0;E.length>=8&&A++,/[A-Z]/.test(E)&&A++,/[0-9]/.test(E)&&A++,/[^A-Za-z0-9]/.test(E)&&A++;const b=[{level:0,label:"",color:""},{level:1,label:"Weak",color:"#ef4444"},{level:2,label:"Fair",color:"#f97316"},{level:3,label:"Good",color:"#eab308"},{level:4,label:"Strong",color:"#237227"}];return b[A]||b[0]})(e.password),w=()=>{const E={};return e.username.trim()?e.username.trim().length<3?E.username="Username must be at least 3 characters":/^[a-zA-Z0-9_]+$/.test(e.username.trim())||(E.username="Only letters, numbers, and underscores allowed"):E.username="Username is required",e.password?e.password.length<8&&(E.password="Password must be at least 8 characters"):E.password="Password is required",e.confirmPassword?e.password!==e.confirmPassword&&(E.confirmPassword="Passwords do not match"):E.confirmPassword="Please confirm your password",E},_=E=>{const{name:A,value:b}=E.target;n(T=>({...T,[A]:b})),s[A]&&l(T=>({...T,[A]:""})),f&&p("")},g=async E=>{E.preventDefault(),p("");const A=w();if(Object.keys(A).length>0){l(A);return}c(!0);const b=e.username.trim().toLowerCase();try{const T=`${b}@skillbridge.app`,j=(await y6(io,T,e.password)).user.uid;await Ao(Ve(Be,"users",j),{uid:j,username:e.username.trim(),usernameLower:b,createdAt:mi()}),t("/profile")}catch(T){p({"auth/email-already-in-use":"This username is already taken. Please choose another.","auth/weak-password":"Password is too weak. Please use at least 8 characters.","auth/network-request-failed":"Network error. Please check your connection and try again.","auth/too-many-requests":"Too many attempts. Please wait a moment and try again."}[T.code]||`Signup failed: ${T.message}`)}finally{c(!1)}},x=[e.username,e.password,e.confirmPassword],S=x.filter(E=>E.trim().length>0).length,O=Math.round(S/x.length*100);return h.jsxs("div",{className:"min-h-screen bg-[#2B2A2A] text-[#F0FFDF] flex flex-col",style:{fontFamily:"'Segoe UI', Tahoma, Geneva, Verdana, sans-serif"},children:[h.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[h.jsx("div",{className:"absolute w-96 h-96 bg-[#237227] rounded-full filter blur-3xl opacity-5",style:{animation:"blob 8s ease-in-out infinite",top:"-5%",right:"-5%"}}),h.jsx("div",{className:"absolute w-80 h-80 bg-[#237227] rounded-full filter blur-3xl opacity-5",style:{animation:"blob 10s ease-in-out infinite reverse",bottom:"-5%",left:"-5%"}})]}),h.jsxs("nav",{className:"relative z-10 w-full px-6 py-4 flex items-center justify-between border-b border-[#237227] border-opacity-20 bg-[#2B2A2A] bg-opacity-90 backdrop-blur-md",children:[h.jsxs(Ko,{to:"/",className:"flex items-center space-x-2 group",children:[h.jsx("div",{className:"w-9 h-9 bg-[#237227] rounded-lg flex items-center justify-center group-hover:bg-opacity-80 transition-all",children:h.jsx(kx,{className:"text-[#F0FFDF]",size:20})}),h.jsx("span",{className:"text-lg font-bold text-[#F0FFDF]",children:"SkillBridge"})]}),h.jsxs(Ko,{to:"/",className:"flex items-center gap-2 text-[#F0FFDF] opacity-70 hover:opacity-100 hover:text-[#237227] transition-all text-sm font-medium",children:[h.jsx(Px,{size:16})," Back to Home"]})]}),h.jsx("div",{className:"relative z-10 flex-1 flex items-center justify-center px-4 py-12",children:h.jsx("div",{className:"w-full max-w-md",style:{animation:"fadeUp 0.5s ease-out forwards"},children:h.jsxs("div",{className:"bg-[#1F1F1F] border border-[#237227] border-opacity-30 rounded-2xl p-8 shadow-2xl",children:[h.jsxs("div",{className:"text-center mb-8",children:[h.jsx("div",{className:"w-14 h-14 bg-[#237227] bg-opacity-20 rounded-xl flex items-center justify-center mx-auto mb-4",children:h.jsx(bc,{size:28,className:"text-[#237227]"})}),h.jsx("h1",{className:"text-2xl font-bold text-[#F0FFDF] mb-1",children:"Create Your Account"}),h.jsx("p",{className:"text-[#F0FFDF] opacity-60 text-sm",children:"Start your career journey with SkillBridge"})]}),f&&h.jsx("div",{className:"mb-4 px-4 py-3 rounded-lg bg-red-900 bg-opacity-30 border border-red-500 border-opacity-50 text-red-400 text-sm",style:{animation:"shake 0.4s ease-in-out"},children:f}),h.jsxs("div",{className:"mb-6",children:[h.jsxs("div",{className:"flex justify-between items-end mb-1.5",children:[h.jsx("span",{className:"text-[10px] uppercase tracking-wider font-bold text-[#237227] opacity-80",children:"Signup Progress"}),h.jsxs("span",{className:"text-xs font-bold text-[#F0FFDF]",children:[O,"%"]})]}),h.jsx("div",{className:"h-1.5 w-full bg-[#2B2A2A] rounded-full overflow-hidden border border-[#237227] border-opacity-10",children:h.jsx("div",{className:"h-full bg-[#237227] transition-all duration-500 ease-out shadow-[0_0_10px_rgba(35,114,39,0.3)]",style:{width:`${O}%`}})})]}),h.jsxs("form",{onSubmit:g,className:"space-y-5",noValidate:!0,children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-[#F0FFDF] opacity-80 mb-1.5",children:"Username"}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(bc,{size:16,className:"text-[#237227] opacity-70"})}),h.jsx("input",{id:"username",name:"username",type:"text",autoComplete:"username",autoFocus:!0,value:e.username,onChange:_,placeholder:"e.g. john_doe",disabled:u,className:`w-full pl-9 pr-4 py-3 rounded-lg bg-[#2B2A2A] border text-[#F0FFDF] placeholder-[#F0FFDF] placeholder-opacity-30 text-sm focus:outline-none focus:ring-2 focus:ring-[#237227] transition-all disabled:opacity-50 ${s.username?"border-red-500 border-opacity-80":"border-[#237227] border-opacity-30 hover:border-opacity-60"}`})]}),s.username&&h.jsx("p",{className:"mt-1.5 text-xs text-red-400",children:s.username})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-[#F0FFDF] opacity-80 mb-1.5",children:"Password"}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(g0,{size:16,className:"text-[#237227] opacity-70"})}),h.jsx("input",{id:"password",name:"password",type:r?"text":"password",autoComplete:"new-password",value:e.password,onChange:_,placeholder:"Min 8 characters",disabled:u,className:`w-full pl-9 pr-10 py-3 rounded-lg bg-[#2B2A2A] border text-[#F0FFDF] placeholder-[#F0FFDF] placeholder-opacity-30 text-sm focus:outline-none focus:ring-2 focus:ring-[#237227] transition-all disabled:opacity-50 ${s.password?"border-red-500 border-opacity-80":"border-[#237227] border-opacity-30 hover:border-opacity-60"}`}),h.jsx("button",{type:"button",onClick:()=>i(!r),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-[#F0FFDF] opacity-40 hover:opacity-80 transition-opacity",tabIndex:-1,"aria-label":r?"Hide password":"Show password",children:r?h.jsx(p0,{size:16}):h.jsx(m0,{size:16})})]}),s.password&&h.jsx("p",{className:"mt-1.5 text-xs text-red-400",children:s.password}),e.password&&h.jsxs("div",{className:"mt-2",children:[h.jsx("div",{className:"flex gap-1",children:[1,2,3,4].map(E=>h.jsx("div",{className:"h-1 flex-1 rounded-full transition-all duration-300",style:{backgroundColor:E<=y.level?y.color:"#3a3a3a"}},E))}),y.label&&h.jsxs("p",{className:"text-xs mt-1 transition-colors",style:{color:y.color},children:[y.label," password"]})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-[#F0FFDF] opacity-80 mb-1.5",children:"Confirm Password"}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(g0,{size:16,className:"text-[#237227] opacity-70"})}),h.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:o?"text":"password",autoComplete:"new-password",value:e.confirmPassword,onChange:_,placeholder:"Re-enter your password",disabled:u,className:`w-full pl-9 pr-10 py-3 rounded-lg bg-[#2B2A2A] border text-[#F0FFDF] placeholder-[#F0FFDF] placeholder-opacity-30 text-sm focus:outline-none focus:ring-2 focus:ring-[#237227] transition-all disabled:opacity-50 ${s.confirmPassword?"border-red-500 border-opacity-80":e.confirmPassword&&e.password===e.confirmPassword?"border-[#237227] border-opacity-80":"border-[#237227] border-opacity-30 hover:border-opacity-60"}`}),h.jsx("button",{type:"button",onClick:()=>a(!o),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-[#F0FFDF] opacity-40 hover:opacity-80 transition-opacity",tabIndex:-1,"aria-label":o?"Hide password":"Show password",children:o?h.jsx(p0,{size:16}):h.jsx(m0,{size:16})})]}),s.confirmPassword&&h.jsx("p",{className:"mt-1.5 text-xs text-red-400",children:s.confirmPassword}),e.confirmPassword&&e.password===e.confirmPassword&&!s.confirmPassword&&h.jsxs("p",{className:"mt-1.5 text-xs text-[#237227] flex items-center gap-1",children:[h.jsx(ba,{size:12})," Passwords match"]})]}),h.jsx("button",{id:"signup-submit-btn",type:"submit",disabled:u,className:"w-full bg-[#237227] text-[#F0FFDF] py-3 rounded-lg font-bold hover:bg-opacity-90 active:scale-[0.98] transition-all duration-200 shadow-lg hover:shadow-xl flex items-center justify-center gap-2 group mt-2 disabled:opacity-70 disabled:cursor-not-allowed disabled:active:scale-100",children:u?h.jsxs(h.Fragment,{children:[h.jsx(Cn,{size:18,className:"animate-spin"}),"Creating Account"]}):h.jsxs(h.Fragment,{children:["Create Account",h.jsx(ra,{size:18,className:"group-hover:translate-x-1 transition-transform"})]})})]}),h.jsxs("p",{className:"text-center text-xs text-[#F0FFDF] opacity-40 mt-6",children:["Already have an account?"," ",h.jsx("span",{className:"text-[#237227] opacity-100 cursor-not-allowed",title:"Login coming soon",children:"Login"})," ",h.jsx("span",{children:"(coming soon)"})]})]})})}),h.jsx("style",{children:`
        @keyframes fadeUp { from { opacity: 0; transform: translateY(24px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes blob {
          0%, 100% { transform: translate(0, 0) scale(1); }
          33%  { transform: translate(20px, -20px) scale(1.05); }
          66%  { transform: translate(-10px, 15px) scale(0.97); }
        }
        @keyframes shake {
          0%, 100% { transform: translateX(0); }
          25% { transform: translateX(-4px); }
          75% { transform: translateX(4px); }
        }
      `})]})},tz=()=>{const t=_o(),[e,n]=M.useState({username:"",password:""}),[r,i]=M.useState(!1),[o,a]=M.useState({}),[s,l]=M.useState(""),[u,c]=M.useState(!1),f=w=>{const{name:_,value:g}=w.target;n(x=>({...x,[_]:g})),o[_]&&a(x=>({...x,[_]:""})),s&&l("")},p=()=>{const w={};return e.username.trim()||(w.username="Username is required"),e.password||(w.password="Password is required"),w},m=async w=>{w.preventDefault(),l("");const _=p();if(Object.keys(_).length>0){a(_);return}c(!0);const x=`${e.username.trim().toLowerCase()}@skillbridge.app`;try{const O=(await v6(io,x,e.password)).user.uid,E=await or(Ve(Be,"users",O));E.exists()&&E.data().profileCompletedAt?t("/dashboard"):t("/profile")}catch(S){l({"auth/user-not-found":"No account found with that username. Please sign up first.","auth/wrong-password":"Incorrect password. Please try again.","auth/invalid-credential":"Invalid username or password. Please try again.","auth/too-many-requests":"Too many failed attempts. Please wait a moment and try again.","auth/network-request-failed":"Network error. Check your connection and try again."}[S.code]||`Login failed: ${S.message}`)}finally{c(!1)}},y=w=>`w-full pl-9 pr-4 py-3 rounded-lg bg-[#2B2A2A] border text-[#F0FFDF] placeholder-[#F0FFDF] placeholder-opacity-30 text-sm focus:outline-none focus:ring-2 focus:ring-[#237227] transition-all disabled:opacity-50 ${o[w]?"border-red-500 border-opacity-80":"border-[#237227] border-opacity-30 hover:border-opacity-60"}`;return h.jsxs("div",{className:"min-h-screen bg-[#2B2A2A] text-[#F0FFDF] flex flex-col",style:{fontFamily:"'Segoe UI', Tahoma, Geneva, Verdana, sans-serif"},children:[h.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[h.jsx("div",{className:"absolute w-96 h-96 bg-[#237227] rounded-full filter blur-3xl opacity-5",style:{animation:"blob 8s ease-in-out infinite",top:"-5%",left:"-5%"}}),h.jsx("div",{className:"absolute w-80 h-80 bg-[#237227] rounded-full filter blur-3xl opacity-5",style:{animation:"blob 10s ease-in-out infinite reverse",bottom:"-5%",right:"-5%"}})]}),h.jsxs("nav",{className:"relative z-10 w-full px-6 py-4 flex items-center justify-between border-b border-[#237227] border-opacity-20 bg-[#2B2A2A] bg-opacity-90 backdrop-blur-md",children:[h.jsxs(Ko,{to:"/",className:"flex items-center space-x-2 group",children:[h.jsx("div",{className:"w-9 h-9 bg-[#237227] rounded-lg flex items-center justify-center group-hover:bg-opacity-80 transition-all",children:h.jsx(kx,{className:"text-[#F0FFDF]",size:20})}),h.jsx("span",{className:"text-lg font-bold text-[#F0FFDF]",children:"SkillBridge"})]}),h.jsxs(Ko,{to:"/",className:"flex items-center gap-2 text-[#F0FFDF] opacity-70 hover:opacity-100 hover:text-[#237227] transition-all text-sm font-medium",children:[h.jsx(Px,{size:16})," Back to Home"]})]}),h.jsx("div",{className:"relative z-10 flex-1 flex items-center justify-center px-4 py-12",children:h.jsx("div",{className:"w-full max-w-md",style:{animation:"fadeUp 0.5s ease-out forwards"},children:h.jsxs("div",{className:"bg-[#1F1F1F] border border-[#237227] border-opacity-30 rounded-2xl p-8 shadow-2xl",children:[h.jsxs("div",{className:"text-center mb-8",children:[h.jsx("div",{className:"w-14 h-14 bg-[#237227] bg-opacity-20 rounded-xl flex items-center justify-center mx-auto mb-4",children:h.jsx(bc,{size:28,className:"text-[#237227]"})}),h.jsx("h1",{className:"text-2xl font-bold text-[#F0FFDF] mb-1",children:"Welcome Back"}),h.jsx("p",{className:"text-[#F0FFDF] opacity-60 text-sm",children:"Log in to continue your career journey"})]}),s&&h.jsxs("div",{className:"mb-5 px-4 py-3 rounded-lg bg-red-900 bg-opacity-30 border border-red-500 border-opacity-50 text-red-400 text-sm",children:[s,s.includes("sign up")&&h.jsx(Ko,{to:"/signup",className:"ml-1 underline font-semibold text-[#237227]",children:"Sign up here "})]}),h.jsxs("form",{onSubmit:m,className:"space-y-5",noValidate:!0,children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-[#F0FFDF] opacity-80 mb-1.5",children:"Username"}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(bc,{size:16,className:"text-[#237227] opacity-70"})}),h.jsx("input",{id:"username",name:"username",type:"text",autoComplete:"username",autoFocus:!0,value:e.username,onChange:f,placeholder:"Your username",disabled:u,className:y("username")})]}),o.username&&h.jsx("p",{className:"mt-1.5 text-xs text-red-400",children:o.username})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-[#F0FFDF] opacity-80 mb-1.5",children:"Password"}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(g0,{size:16,className:"text-[#237227] opacity-70"})}),h.jsx("input",{id:"password",name:"password",type:r?"text":"password",autoComplete:"current-password",value:e.password,onChange:f,placeholder:"Your password",disabled:u,className:`${y("password")} pr-10`}),h.jsx("button",{type:"button",onClick:()=>i(!r),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-[#F0FFDF] opacity-40 hover:opacity-80 transition-opacity",tabIndex:-1,"aria-label":r?"Hide password":"Show password",children:r?h.jsx(p0,{size:16}):h.jsx(m0,{size:16})})]}),o.password&&h.jsx("p",{className:"mt-1.5 text-xs text-red-400",children:o.password})]}),h.jsx("button",{type:"submit",id:"login-submit-btn",disabled:u,className:"w-full bg-[#237227] text-[#F0FFDF] py-3 rounded-lg font-bold hover:bg-opacity-90 active:scale-[0.98] transition-all duration-200 shadow-lg flex items-center justify-center gap-2 group mt-2 disabled:opacity-70 disabled:cursor-not-allowed",children:u?h.jsxs(h.Fragment,{children:[h.jsx(Cn,{size:18,className:"animate-spin"})," Signing in"]}):h.jsxs(h.Fragment,{children:["Sign In ",h.jsx(ra,{size:18,className:"group-hover:translate-x-1 transition-transform"})]})})]}),h.jsxs("p",{className:"text-center text-xs text-[#F0FFDF] opacity-40 mt-6",children:["Don't have an account?"," ",h.jsx(Ko,{to:"/signup",className:"text-[#237227] opacity-100 hover:underline font-medium",children:"Sign Up"})]})]})})}),h.jsx("style",{children:`
        @keyframes fadeUp { from { opacity:0; transform:translateY(24px); } to { opacity:1; transform:translateY(0); } }
        @keyframes blob {
          0%,100% { transform:translate(0,0) scale(1); }
          33%  { transform:translate(20px,-20px) scale(1.05); }
          66%  { transform:translate(-10px,15px) scale(0.97); }
        }
      `})]})},my=({id:t,placeholder:e,tags:n,onAdd:r,onRemove:i,color:o="#237227"})=>{const[a,s]=M.useState(""),l=u=>{if((u.key==="Enter"||u.key===",")&&a.trim()){u.preventDefault();const c=a.trim().replace(/,$/,"");c&&!n.includes(c)&&r(c),s("")}u.key==="Backspace"&&!a&&n.length&&i(n[n.length-1])};return h.jsxs("div",{className:"flex flex-wrap gap-2 p-3 rounded-lg bg-[#2B2A2A] border border-[#237227] border-opacity-30 hover:border-opacity-60 focus-within:ring-2 focus-within:ring-[#237227] transition-all min-h-[48px]",children:[n.map(u=>h.jsxs("span",{className:"flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-medium text-[#F0FFDF]",style:{backgroundColor:o+"33",border:`1px solid ${o}55`},children:[u,h.jsx("button",{type:"button",onClick:()=>i(u),className:"ml-0.5 hover:opacity-70 transition-opacity","aria-label":`Remove ${u}`,children:h.jsx(Ox,{size:11})})]},u)),h.jsx("input",{id:t,type:"text",value:a,onChange:u=>s(u.target.value),onKeyDown:l,placeholder:n.length===0?e:"",className:"flex-1 min-w-[120px] bg-transparent text-[#F0FFDF] text-sm outline-none placeholder-[#F0FFDF] placeholder-opacity-30"})]})},nz=({step:t,total:e})=>h.jsx("div",{className:"flex items-center gap-2 mb-8",children:Array.from({length:e}).map((n,r)=>h.jsxs(F.Fragment,{children:[h.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold transition-all duration-300 ${r<t?"bg-[#237227] text-[#F0FFDF]":r===t?"bg-[#237227] bg-opacity-30 text-[#237227] ring-2 ring-[#237227]":"bg-[#3a3a3a] text-[#F0FFDF] opacity-40"}`,children:r<t?h.jsx(ba,{size:14}):r+1}),r<e-1&&h.jsx("div",{className:`flex-1 h-0.5 rounded-full transition-all duration-500 ${r<t?"bg-[#237227]":"bg-[#3a3a3a]"}`})]},r))}),fd=["Personal Details","Skills & Interests","Online Presence"],rz=()=>{const t=_o(),{user:e}=Ax(),[n,r]=M.useState(0),[i,o]=M.useState(!1),[a,s]=M.useState(!1),[l,u]=M.useState(""),[c,f]=M.useState({fullName:"",degree:"",educationalLevel:"",currentYear:"",skills:[],interests:[],languages:[],skillLevel:"",githubLink:""}),p=(b,T)=>f(I=>({...I,[b]:T})),m=(b,T)=>f(I=>({...I,[b]:[...I[b],T]})),y=(b,T)=>f(I=>({...I,[b]:I[b].filter(j=>j!==T)})),w=()=>{if(u(""),n===0){if(!c.fullName.trim())return u("Full name is required."),!1;if(!c.degree.trim())return u("Degree is required."),!1;if(!c.educationalLevel)return u("Please select your educational level."),!1;if(!c.currentYear)return u("Please select your current year."),!1}if(n===1){if(c.skills.length===0)return u("Add at least one skill."),!1;if(c.interests.length===0)return u("Add at least one interest."),!1;if(c.languages.length===0)return u("Add at least one language or framework."),!1;if(!c.skillLevel)return u("Please select your skill level."),!1}return!0},_=()=>{w()&&r(b=>b+1)},g=()=>{u(""),r(b=>b-1)},x=async b=>{if(b.preventDefault(),!!w()){if(!(e!=null&&e.uid)){u("You must be logged in to save your profile. Please sign up first.");return}o(!0),u("");try{await e7(Ve(Be,"users",e.uid),{fullName:c.fullName.trim(),degree:c.degree.trim(),educationalLevel:c.educationalLevel,currentYear:Number(c.currentYear),skills:c.skills,interests:c.interests,languages:c.languages,skillLevel:c.skillLevel,githubLink:c.githubLink.trim()||null,profileCompletedAt:mi()}),t("/dashboard")}catch(T){console.error("[Profile] Save failed:",T),u("Failed to save profile. Please try again.")}finally{o(!1)}}};if(a)return h.jsxs("div",{className:"min-h-screen bg-[#2B2A2A] flex items-center justify-center px-4",children:[h.jsxs("div",{className:"text-center",style:{animation:"fadeUp 0.6s ease-out forwards"},children:[h.jsx("div",{className:"w-20 h-20 bg-[#237227] rounded-full flex items-center justify-center mx-auto mb-6",children:h.jsx(ba,{size:40,className:"text-[#F0FFDF]"})}),h.jsx("h2",{className:"text-3xl font-bold text-[#F0FFDF] mb-2",children:"Profile Complete!"}),h.jsx("p",{className:"text-[#F0FFDF] opacity-60 mb-8 max-w-sm mx-auto text-sm",children:"Your profile has been saved. You're ready to start your SkillBridge journey."}),h.jsxs("button",{onClick:()=>t("/"),className:"bg-[#237227] text-[#F0FFDF] px-8 py-3 rounded-lg font-bold hover:bg-opacity-90 transition-all inline-flex items-center gap-2 group",children:["Go to Home ",h.jsx(ra,{size:18,className:"group-hover:translate-x-1 transition-transform"})]})]}),h.jsx("style",{children:"@keyframes fadeUp { from { opacity:0; transform:translateY(24px); } to { opacity:1; transform:translateY(0); } }"})]});const S="w-full px-4 py-3 rounded-lg bg-[#2B2A2A] border border-[#237227] border-opacity-30 hover:border-opacity-60 text-[#F0FFDF] text-sm focus:outline-none focus:ring-2 focus:ring-[#237227] transition-all appearance-none cursor-pointer",O="w-full px-4 py-3 rounded-lg bg-[#2B2A2A] border border-[#237227] border-opacity-30 hover:border-opacity-60 text-[#F0FFDF] placeholder-[#F0FFDF] placeholder-opacity-30 text-sm focus:outline-none focus:ring-2 focus:ring-[#237227] transition-all",E="block text-sm font-medium text-[#F0FFDF] opacity-80 mb-1.5",A="text-xs text-[#F0FFDF] opacity-40 mt-1";return h.jsxs("div",{className:"min-h-screen bg-[#2B2A2A] text-[#F0FFDF] flex flex-col",style:{fontFamily:"'Segoe UI', Tahoma, Geneva, Verdana, sans-serif"},children:[h.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[h.jsx("div",{className:"absolute w-96 h-96 bg-[#237227] rounded-full filter blur-3xl opacity-5",style:{animation:"blob 8s ease-in-out infinite",top:"-5%",right:"-5%"}}),h.jsx("div",{className:"absolute w-80 h-80 bg-[#237227] rounded-full filter blur-3xl opacity-5",style:{animation:"blob 10s ease-in-out infinite reverse",bottom:"-5%",left:"-5%"}})]}),h.jsxs("nav",{className:"relative z-10 w-full px-6 py-4 flex items-center justify-between border-b border-[#237227] border-opacity-20 bg-[#2B2A2A] bg-opacity-90 backdrop-blur-md",children:[h.jsxs(Ko,{to:"/",className:"flex items-center space-x-2 group",children:[h.jsx("div",{className:"w-9 h-9 bg-[#237227] rounded-lg flex items-center justify-center group-hover:bg-opacity-80 transition-all",children:h.jsx(kx,{className:"text-[#F0FFDF]",size:20})}),h.jsx("span",{className:"text-lg font-bold text-[#F0FFDF]",children:"SkillBridge"})]}),h.jsxs("span",{className:"text-[#F0FFDF] opacity-50 text-sm",children:["Step ",n+1," of ",fd.length,"  ",h.jsx("span",{className:"text-[#237227] opacity-100",children:fd[n]})]})]}),h.jsx("div",{className:"relative z-10 flex-1 flex items-start justify-center px-4 py-10",children:h.jsxs("div",{className:"w-full max-w-xl",style:{animation:"fadeUp 0.5s ease-out forwards"},children:[h.jsxs("div",{className:"mb-6",children:[h.jsx("h1",{className:"text-2xl font-bold text-[#F0FFDF]",children:"Complete Your Profile"}),h.jsx("p",{className:"text-[#F0FFDF] opacity-50 text-sm mt-1",children:"Tell us about yourself so we can personalise your career roadmap."})]}),h.jsx(nz,{step:n,total:fd.length}),l&&h.jsx("div",{className:"mb-5 px-4 py-3 rounded-lg bg-red-900 bg-opacity-30 border border-red-500 border-opacity-50 text-red-400 text-sm",children:l}),h.jsxs("div",{className:"bg-[#1F1F1F] border border-[#237227] border-opacity-20 rounded-2xl p-7 shadow-2xl",children:[n===0&&h.jsxs("div",{className:"space-y-5",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-1 text-[#237227]",children:[h.jsx(bc,{size:18}),h.jsx("span",{className:"font-semibold text-sm",children:"Personal Details"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"fullName",className:E,children:"Full Name"}),h.jsx("input",{id:"fullName",type:"text",value:c.fullName,onChange:b=>p("fullName",b.target.value),placeholder:"e.g. Elon Musk",className:O})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"degree",className:E,children:"Degree"}),h.jsx("input",{id:"degree",type:"text",value:c.degree,onChange:b=>p("degree",b.target.value),placeholder:"e.g. Computer Engineering",className:O})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"educationalLevel",className:E,children:"Educational Level"}),h.jsxs("select",{id:"educationalLevel",value:c.educationalLevel,onChange:b=>p("educationalLevel",b.target.value),className:S,children:[h.jsx("option",{value:"",disabled:!0,children:"Select"}),h.jsx("option",{value:"Diploma",children:"Diploma"}),h.jsx("option",{value:"Bachelor",children:"Bachelor"}),h.jsx("option",{value:"Masters",children:"Masters"})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"currentYear",className:E,children:"Current Year"}),h.jsxs("select",{id:"currentYear",value:c.currentYear,onChange:b=>p("currentYear",b.target.value),className:S,children:[h.jsx("option",{value:"",disabled:!0,children:"Select"}),[1,2,3,4].map(b=>h.jsxs("option",{value:b,children:["Year ",b]},b))]})]})]})]}),n===1&&h.jsxs("div",{className:"space-y-5",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-1 text-[#237227]",children:[h.jsx(Em,{size:18}),h.jsx("span",{className:"font-semibold text-sm",children:"Skills & Interests"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"skills-input",className:E,children:"Skills"}),h.jsx(my,{id:"skills-input",placeholder:"Type a skill and press Enter",tags:c.skills,onAdd:b=>m("skills",b),onRemove:b=>y("skills",b)}),h.jsx("p",{className:A,children:"e.g. Web Development  Data Analysis  Software Engineering"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"interests-input",className:E,children:"Interests / Career Goals"}),h.jsx(my,{id:"interests-input",placeholder:"Type an interest and press Enter",tags:c.interests,onAdd:b=>m("interests",b),onRemove:b=>y("interests",b),color:"#1e6ec8"}),h.jsx("p",{className:A,children:"e.g. AI Engineer  Data Scientist  Web Developer"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"languages-input",className:E,children:"Languages & Frameworks"}),h.jsx(my,{id:"languages-input",placeholder:"Type a language and press Enter",tags:c.languages,onAdd:b=>m("languages",b),onRemove:b=>y("languages",b),color:"#7c3aed"}),h.jsx("p",{className:A,children:"e.g. Python  React  Java  C++"})]}),h.jsxs("div",{children:[h.jsx("label",{className:E,children:"Overall Skill Level"}),h.jsx("div",{className:"flex gap-3",children:["Beginner","Intermediate","Advanced"].map(b=>h.jsx("button",{type:"button",onClick:()=>p("skillLevel",b),className:`flex-1 py-3 rounded-lg text-sm font-semibold border transition-all duration-200 ${c.skillLevel===b?"bg-[#237227] border-[#237227] text-[#F0FFDF] shadow-lg":"border-[#237227] border-opacity-30 text-[#F0FFDF] opacity-60 hover:opacity-100 hover:border-opacity-60"}`,children:b},b))})]})]}),n===2&&h.jsxs("div",{className:"space-y-5",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-1 text-[#237227]",children:[h.jsx(Vh,{size:18}),h.jsx("span",{className:"font-semibold text-sm",children:"Online Presence"})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"githubLink",className:E,children:["GitHub Profile ",h.jsx("span",{className:"text-[#F0FFDF] opacity-40 font-normal",children:"(optional)"})]}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(Vh,{size:16,className:"text-[#237227] opacity-70"})}),h.jsx("input",{id:"githubLink",type:"url",value:c.githubLink,onChange:b=>p("githubLink",b.target.value),placeholder:"https://github.com/your-username",className:`${O} pl-9`})]}),h.jsx("p",{className:A,children:"Sharing your GitHub helps our AI analyse your actual code skills."})]}),h.jsxs("div",{className:"mt-4 bg-[#2B2A2A] rounded-xl p-5 border border-[#237227] border-opacity-20",children:[h.jsx("p",{className:"text-xs font-semibold text-[#237227] uppercase tracking-wider mb-3",children:"Profile Summary"}),h.jsx("dl",{className:"space-y-2 text-sm",children:[["Name",c.fullName],["Degree",`${c.degree||""}  ${c.educationalLevel||""}  Year ${c.currentYear||""}`],["Skills",c.skills.join(", ")||""],["Interests",c.interests.join(", ")||""],["Languages",c.languages.join(", ")||""],["Skill Level",c.skillLevel||""]].map(([b,T])=>h.jsxs("div",{className:"flex gap-2",children:[h.jsx("dt",{className:"w-24 text-[#F0FFDF] opacity-40 shrink-0",children:b}),h.jsx("dd",{className:"text-[#F0FFDF] opacity-80 break-words",children:T})]},b))})]})]}),h.jsxs("div",{className:"flex gap-3 mt-7",children:[n>0&&h.jsxs("button",{type:"button",onClick:g,className:"flex-1 py-3 rounded-lg font-bold border border-[#237227] border-opacity-40 text-[#237227] hover:border-opacity-80 transition-all flex items-center justify-center gap-2",children:[h.jsx(Px,{size:17})," Back"]}),n<fd.length-1?h.jsxs("button",{type:"button",onClick:_,className:"flex-1 bg-[#237227] text-[#F0FFDF] py-3 rounded-lg font-bold hover:bg-opacity-90 transition-all flex items-center justify-center gap-2 group shadow-lg",children:["Next ",h.jsx(ra,{size:17,className:"group-hover:translate-x-1 transition-transform"})]}):h.jsx("button",{type:"button",onClick:x,disabled:i,className:"flex-1 bg-[#237227] text-[#F0FFDF] py-3 rounded-lg font-bold hover:bg-opacity-90 transition-all flex items-center justify-center gap-2 group shadow-lg disabled:opacity-70 disabled:cursor-not-allowed",children:i?h.jsxs(h.Fragment,{children:[h.jsx(Cn,{size:17,className:"animate-spin"})," Saving"]}):h.jsxs(h.Fragment,{children:["Save Profile ",h.jsx(ba,{size:17})]})})]})]}),h.jsx("p",{className:"text-center text-xs text-[#F0FFDF] opacity-30 mt-4",children:"You can update your profile at any time from your dashboard."})]})}),h.jsx("style",{children:`
        @keyframes fadeUp { from { opacity:0; transform:translateY(24px); } to { opacity:1; transform:translateY(0); } }
        @keyframes blob {
          0%,100% { transform:translate(0,0) scale(1); }
          33%  { transform:translate(20px,-20px) scale(1.05); }
          66%  { transform:translate(-10px,15px) scale(0.97); }
        }
        select option { background-color: #1F1F1F; color: #F0FFDF; }
      `})]})},iz=[{section:"Main",items:[{label:"Overview",icon:D7}]},{section:"Modules",items:[{label:"Resume Info",icon:vc},{label:"Assessment",icon:Lh},{label:"Skill Gap",icon:Ls},{label:"SWOT Analysis",icon:g7},{label:"Career Match",icon:Ix},{label:"Roadmap",icon:z7}]}];function oz({collapsed:t,onToggle:e,activeTab:n,onTabChange:r}){var l;const i=_o(),{user:o}=Ax(),a=async()=>{await Th(io),i("/login")},s=o!=null&&o.username?o.username.slice(0,2).toUpperCase():((l=o==null?void 0:o.email)==null?void 0:l.slice(0,2).toUpperCase())??"??";return h.jsxs("aside",{style:{width:t?"64px":"220px",minHeight:"100vh",background:"#1a1a1a",borderRight:"1px solid rgba(35,114,39,0.2)",display:"flex",flexDirection:"column",transition:"width 0.25s ease",position:"fixed",left:0,top:0,bottom:0,zIndex:40,overflow:"hidden"},children:[h.jsxs("div",{style:{padding:"20px 16px 16px",display:"flex",alignItems:"center",gap:"10px",borderBottom:"1px solid rgba(35,114,39,0.15)"},children:[h.jsx("div",{style:{width:32,height:32,background:"#237227",borderRadius:8,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,overflow:"hidden"},children:h.jsx("img",{src:"/logo.jpeg",alt:"SkillBridge",style:{width:"100%",height:"100%",objectFit:"cover"}})}),!t&&h.jsx("span",{style:{fontWeight:700,color:"#F0FFDF",fontSize:16,whiteSpace:"nowrap"},children:"SkillBridge"})]}),h.jsx("nav",{style:{flex:1,overflowY:"auto",padding:"12px 8px"},children:iz.map(u=>h.jsxs("div",{style:{marginBottom:20},children:[!t&&h.jsx("div",{style:{fontSize:10,fontWeight:600,color:"rgba(240,255,223,0.35)",textTransform:"uppercase",letterSpacing:"0.08em",padding:"0 8px",marginBottom:6},children:u.section}),u.items.map(({label:c,icon:f})=>{const p=n===c;return h.jsxs("button",{onClick:()=>r(c),style:{display:"flex",alignItems:"center",gap:10,padding:t?"10px 16px":"9px 12px",borderRadius:8,marginBottom:2,border:"none",width:"100%",cursor:"pointer",background:p?"rgba(35,114,39,0.25)":"transparent",color:p?"#4ade80":"rgba(240,255,223,0.65)",fontWeight:p?600:400,fontSize:14,transition:"all 0.15s",justifyContent:t?"center":"flex-start"},title:t?c:void 0,children:[h.jsx(f,{size:17,style:{flexShrink:0}}),!t&&h.jsx("span",{style:{whiteSpace:"nowrap"},children:c})]},c)})]},u.section))}),h.jsxs("div",{style:{padding:"12px 8px",borderTop:"1px solid rgba(35,114,39,0.15)"},children:[!t&&h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,padding:"8px 12px",borderRadius:8,marginBottom:6,background:"rgba(35,114,39,0.1)"},children:[h.jsx("div",{style:{width:28,height:28,background:"#237227",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:11,fontWeight:700,color:"#F0FFDF",flexShrink:0},children:s}),h.jsx("span",{style:{fontSize:13,color:"rgba(240,255,223,0.8)",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:(o==null?void 0:o.username)||"User"})]}),h.jsxs("button",{onClick:a,title:t?"Logout":void 0,style:{display:"flex",alignItems:"center",gap:10,padding:t?"10px 16px":"9px 12px",borderRadius:8,width:"100%",background:"transparent",border:"none",color:"rgba(240,255,223,0.55)",fontSize:14,cursor:"pointer",justifyContent:t?"center":"flex-start",transition:"all 0.15s"},onMouseEnter:u=>u.currentTarget.style.color="#f87171",onMouseLeave:u=>u.currentTarget.style.color="rgba(240,255,223,0.55)",children:[h.jsx(V7,{size:17,style:{flexShrink:0}}),!t&&h.jsx("span",{children:"Logout"})]}),h.jsx("button",{onClick:e,style:{display:"flex",alignItems:"center",gap:10,padding:t?"10px 16px":"9px 12px",borderRadius:8,width:"100%",background:"transparent",border:"none",color:"rgba(240,255,223,0.35)",fontSize:13,cursor:"pointer",marginTop:2,justifyContent:t?"center":"flex-start"},children:t?h.jsx(x7,{size:16}):h.jsxs(h.Fragment,{children:[h.jsx(v7,{size:16}),h.jsx("span",{children:"Collapse"})]})})]})]})}function cR(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=cR(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ce(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=cR(t))&&(r&&(r+=" "),r+=e);return r}var az=Array.isArray,_n=az,sz=typeof Bf=="object"&&Bf&&Bf.Object===Object&&Bf,fR=sz,lz=fR,uz=typeof self=="object"&&self&&self.Object===Object&&self,cz=lz||uz||Function("return this")(),Fr=cz,fz=Fr,dz=fz.Symbol,bf=dz,EE=bf,dR=Object.prototype,hz=dR.hasOwnProperty,pz=dR.toString,tu=EE?EE.toStringTag:void 0;function mz(t){var e=hz.call(t,tu),n=t[tu];try{t[tu]=void 0;var r=!0}catch{}var i=pz.call(t);return r&&(e?t[tu]=n:delete t[tu]),i}var gz=mz,yz=Object.prototype,vz=yz.toString;function bz(t){return vz.call(t)}var xz=bz,TE=bf,_z=gz,wz=xz,Sz="[object Null]",Ez="[object Undefined]",AE=TE?TE.toStringTag:void 0;function Tz(t){return t==null?t===void 0?Ez:Sz:AE&&AE in Object(t)?_z(t):wz(t)}var gi=Tz;function Az(t){return t!=null&&typeof t=="object"}var yi=Az,Pz=gi,Iz=yi,Oz="[object Symbol]";function kz(t){return typeof t=="symbol"||Iz(t)&&Pz(t)==Oz}var bl=kz,Cz=_n,jz=bl,Rz=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Nz=/^\w*$/;function Mz(t,e){if(Cz(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||jz(t)?!0:Nz.test(t)||!Rz.test(t)||e!=null&&t in Object(e)}var Cx=Mz;function Dz(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Po=Dz;const xl=Ue(Po);var $z=gi,Fz=Po,Lz="[object AsyncFunction]",Vz="[object Function]",Bz="[object GeneratorFunction]",zz="[object Proxy]";function Uz(t){if(!Fz(t))return!1;var e=$z(t);return e==Vz||e==Bz||e==Lz||e==zz}var jx=Uz;const xe=Ue(jx);var Wz=Fr,Hz=Wz["__core-js_shared__"],qz=Hz,gy=qz,PE=function(){var t=/[^.]+$/.exec(gy&&gy.keys&&gy.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Gz(t){return!!PE&&PE in t}var Kz=Gz,Yz=Function.prototype,Xz=Yz.toString;function Qz(t){if(t!=null){try{return Xz.call(t)}catch{}try{return t+""}catch{}}return""}var hR=Qz,Jz=jx,Zz=Kz,eU=Po,tU=hR,nU=/[\\^$.*+?()[\]{}|]/g,rU=/^\[object .+?Constructor\]$/,iU=Function.prototype,oU=Object.prototype,aU=iU.toString,sU=oU.hasOwnProperty,lU=RegExp("^"+aU.call(sU).replace(nU,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function uU(t){if(!eU(t)||Zz(t))return!1;var e=Jz(t)?lU:rU;return e.test(tU(t))}var cU=uU;function fU(t,e){return t==null?void 0:t[e]}var dU=fU,hU=cU,pU=dU;function mU(t,e){var n=pU(t,e);return hU(n)?n:void 0}var ka=mU,gU=ka,yU=gU(Object,"create"),Tm=yU,IE=Tm;function vU(){this.__data__=IE?IE(null):{},this.size=0}var bU=vU;function xU(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var _U=xU,wU=Tm,SU="__lodash_hash_undefined__",EU=Object.prototype,TU=EU.hasOwnProperty;function AU(t){var e=this.__data__;if(wU){var n=e[t];return n===SU?void 0:n}return TU.call(e,t)?e[t]:void 0}var PU=AU,IU=Tm,OU=Object.prototype,kU=OU.hasOwnProperty;function CU(t){var e=this.__data__;return IU?e[t]!==void 0:kU.call(e,t)}var jU=CU,RU=Tm,NU="__lodash_hash_undefined__";function MU(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=RU&&e===void 0?NU:e,this}var DU=MU,$U=bU,FU=_U,LU=PU,VU=jU,BU=DU;function _l(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}_l.prototype.clear=$U;_l.prototype.delete=FU;_l.prototype.get=LU;_l.prototype.has=VU;_l.prototype.set=BU;var zU=_l;function UU(){this.__data__=[],this.size=0}var WU=UU;function HU(t,e){return t===e||t!==t&&e!==e}var Rx=HU,qU=Rx;function GU(t,e){for(var n=t.length;n--;)if(qU(t[n][0],e))return n;return-1}var Am=GU,KU=Am,YU=Array.prototype,XU=YU.splice;function QU(t){var e=this.__data__,n=KU(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():XU.call(e,n,1),--this.size,!0}var JU=QU,ZU=Am;function eW(t){var e=this.__data__,n=ZU(e,t);return n<0?void 0:e[n][1]}var tW=eW,nW=Am;function rW(t){return nW(this.__data__,t)>-1}var iW=rW,oW=Am;function aW(t,e){var n=this.__data__,r=oW(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var sW=aW,lW=WU,uW=JU,cW=tW,fW=iW,dW=sW;function wl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}wl.prototype.clear=lW;wl.prototype.delete=uW;wl.prototype.get=cW;wl.prototype.has=fW;wl.prototype.set=dW;var Pm=wl,hW=ka,pW=Fr,mW=hW(pW,"Map"),Nx=mW,OE=zU,gW=Pm,yW=Nx;function vW(){this.size=0,this.__data__={hash:new OE,map:new(yW||gW),string:new OE}}var bW=vW;function xW(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var _W=xW,wW=_W;function SW(t,e){var n=t.__data__;return wW(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Im=SW,EW=Im;function TW(t){var e=EW(this,t).delete(t);return this.size-=e?1:0,e}var AW=TW,PW=Im;function IW(t){return PW(this,t).get(t)}var OW=IW,kW=Im;function CW(t){return kW(this,t).has(t)}var jW=CW,RW=Im;function NW(t,e){var n=RW(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var MW=NW,DW=bW,$W=AW,FW=OW,LW=jW,VW=MW;function Sl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Sl.prototype.clear=DW;Sl.prototype.delete=$W;Sl.prototype.get=FW;Sl.prototype.has=LW;Sl.prototype.set=VW;var Mx=Sl,pR=Mx,BW="Expected a function";function Dx(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(BW);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Dx.Cache||pR),n}Dx.Cache=pR;var mR=Dx;const zW=Ue(mR);var UW=mR,WW=500;function HW(t){var e=UW(t,function(r){return n.size===WW&&n.clear(),r}),n=e.cache;return e}var qW=HW,GW=qW,KW=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,YW=/\\(\\)?/g,XW=GW(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(KW,function(n,r,i,o){e.push(i?o.replace(YW,"$1"):r||n)}),e}),QW=XW;function JW(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var $x=JW,kE=bf,ZW=$x,eH=_n,tH=bl,CE=kE?kE.prototype:void 0,jE=CE?CE.toString:void 0;function gR(t){if(typeof t=="string")return t;if(eH(t))return ZW(t,gR)+"";if(tH(t))return jE?jE.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var nH=gR,rH=nH;function iH(t){return t==null?"":rH(t)}var yR=iH,oH=_n,aH=Cx,sH=QW,lH=yR;function uH(t,e){return oH(t)?t:aH(t,e)?[t]:sH(lH(t))}var vR=uH,cH=bl;function fH(t){if(typeof t=="string"||cH(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Om=fH,dH=vR,hH=Om;function pH(t,e){e=dH(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[hH(e[n++])];return n&&n==r?t:void 0}var Fx=pH,mH=Fx;function gH(t,e,n){var r=t==null?void 0:mH(t,e);return r===void 0?n:r}var bR=gH;const Hn=Ue(bR);function yH(t){return t==null}var vH=yH;const je=Ue(vH);var bH=gi,xH=_n,_H=yi,wH="[object String]";function SH(t){return typeof t=="string"||!xH(t)&&_H(t)&&bH(t)==wH}var EH=SH;const xa=Ue(EH);var xR={exports:{}},$e={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lx=Symbol.for("react.element"),Vx=Symbol.for("react.portal"),km=Symbol.for("react.fragment"),Cm=Symbol.for("react.strict_mode"),jm=Symbol.for("react.profiler"),Rm=Symbol.for("react.provider"),Nm=Symbol.for("react.context"),TH=Symbol.for("react.server_context"),Mm=Symbol.for("react.forward_ref"),Dm=Symbol.for("react.suspense"),$m=Symbol.for("react.suspense_list"),Fm=Symbol.for("react.memo"),Lm=Symbol.for("react.lazy"),AH=Symbol.for("react.offscreen"),_R;_R=Symbol.for("react.module.reference");function Yn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Lx:switch(t=t.type,t){case km:case jm:case Cm:case Dm:case $m:return t;default:switch(t=t&&t.$$typeof,t){case TH:case Nm:case Mm:case Lm:case Fm:case Rm:return t;default:return e}}case Vx:return e}}}$e.ContextConsumer=Nm;$e.ContextProvider=Rm;$e.Element=Lx;$e.ForwardRef=Mm;$e.Fragment=km;$e.Lazy=Lm;$e.Memo=Fm;$e.Portal=Vx;$e.Profiler=jm;$e.StrictMode=Cm;$e.Suspense=Dm;$e.SuspenseList=$m;$e.isAsyncMode=function(){return!1};$e.isConcurrentMode=function(){return!1};$e.isContextConsumer=function(t){return Yn(t)===Nm};$e.isContextProvider=function(t){return Yn(t)===Rm};$e.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Lx};$e.isForwardRef=function(t){return Yn(t)===Mm};$e.isFragment=function(t){return Yn(t)===km};$e.isLazy=function(t){return Yn(t)===Lm};$e.isMemo=function(t){return Yn(t)===Fm};$e.isPortal=function(t){return Yn(t)===Vx};$e.isProfiler=function(t){return Yn(t)===jm};$e.isStrictMode=function(t){return Yn(t)===Cm};$e.isSuspense=function(t){return Yn(t)===Dm};$e.isSuspenseList=function(t){return Yn(t)===$m};$e.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===km||t===jm||t===Cm||t===Dm||t===$m||t===AH||typeof t=="object"&&t!==null&&(t.$$typeof===Lm||t.$$typeof===Fm||t.$$typeof===Rm||t.$$typeof===Nm||t.$$typeof===Mm||t.$$typeof===_R||t.getModuleId!==void 0)};$e.typeOf=Yn;xR.exports=$e;var PH=xR.exports,IH=gi,OH=yi,kH="[object Number]";function CH(t){return typeof t=="number"||OH(t)&&IH(t)==kH}var wR=CH;const jH=Ue(wR);var RH=wR;function NH(t){return RH(t)&&t!=+t}var MH=NH;const xf=Ue(MH);var lr=function(e){return e===0?0:e>0?1:-1},Xo=function(e){return xa(e)&&e.indexOf("%")===e.length-1},te=function(e){return jH(e)&&!xf(e)},DH=function(e){return je(e)},It=function(e){return te(e)||xa(e)},$H=0,Vm=function(e){var n=++$H;return"".concat(e||"").concat(n)},_a=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!te(e)&&!xa(e))return r;var o;if(Xo(e)){var a=e.indexOf("%");o=n*parseFloat(e.slice(0,a))/100}else o=+e;return xf(o)&&(o=r),i&&o>n&&(o=n),o},Fi=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},FH=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},La=function(e,n){return te(e)&&te(n)?function(r){return e+r*(n-e)}:function(){return n}};function y0(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Hn(r,e))===n})}var LH=function(e,n){return te(e)&&te(n)?e-n:xa(e)&&xa(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function _s(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function v0(t){"@babel/helpers - typeof";return v0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v0(t)}var VH=["viewBox","children"],BH=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],RE=["points","pathLength"],yy={svg:VH,polygon:RE,polyline:RE},Bx=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Bh=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(M.isValidElement(e)&&(r=e.props),!xl(r))return null;var i={};return Object.keys(r).forEach(function(o){Bx.includes(o)&&(i[o]=n||function(a){return r[o](r,a)})}),i},zH=function(e,n,r){return function(i){return e(n,r,i),null}},zh=function(e,n,r){if(!xl(e)||v0(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var a=e[o];Bx.includes(o)&&typeof a=="function"&&(i||(i={}),i[o]=zH(a,n,r))}),i},UH=["children"],WH=["children"];function NE(t,e){if(t==null)return{};var n=HH(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function HH(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var ME={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Jr=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},DE=null,vy=null,zx=function t(e){if(e===DE&&Array.isArray(vy))return vy;var n=[];return M.Children.forEach(e,function(r){je(r)||(PH.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),vy=n,DE=e,n};function dr(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Jr(i)}):r=[Jr(e)],zx(t).forEach(function(i){var o=Hn(i,"type.displayName")||Hn(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function Tn(t,e){var n=dr(t,e);return n&&n[0]}var $E=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!te(r)||r<=0||!te(i)||i<=0)},qH=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],GH=function(e){return e&&e.type&&xa(e.type)&&qH.indexOf(e.type)>=0},KH=function(e,n,r,i){var o,a=(o=yy==null?void 0:yy[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!xe(e)&&(i&&a.includes(n)||BH.includes(n))||r&&Bx.includes(n)},ke=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(M.isValidElement(e)&&(i=e.props),!xl(i))return null;var o={};return Object.keys(i).forEach(function(a){var s;KH((s=i)===null||s===void 0?void 0:s[a],a,n,r)&&(o[a]=i[a])}),o},b0=function t(e,n){if(e===n)return!0;var r=M.Children.count(e);if(r!==M.Children.count(n))return!1;if(r===0)return!0;if(r===1)return FE(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],a=n[i];if(Array.isArray(o)||Array.isArray(a)){if(!t(o,a))return!1}else if(!FE(o,a))return!1}return!0},FE=function(e,n){if(je(e)&&je(n))return!0;if(!je(e)&&!je(n)){var r=e.props||{},i=r.children,o=NE(r,UH),a=n.props||{},s=a.children,l=NE(a,WH);return i&&s?_s(o,l)&&b0(i,s):!i&&!s?_s(o,l):!1}return!1},LE=function(e,n){var r=[],i={};return zx(e).forEach(function(o,a){if(GH(o))r.push(o);else if(o){var s=Jr(o.type),l=n[s]||{},u=l.handler,c=l.once;if(u&&(!c||!i[s])){var f=u(o,s,a);r.push(f),i[s]=!0}}}),r},YH=function(e){var n=e&&e.type;return n&&ME[n]?ME[n]:null},XH=function(e,n){return zx(n).indexOf(e)},QH=["children","width","height","viewBox","className","style","title","desc"];function x0(){return x0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},x0.apply(this,arguments)}function JH(t,e){if(t==null)return{};var n=ZH(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ZH(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function _0(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,a=t.style,s=t.title,l=t.desc,u=JH(t,QH),c=i||{width:n,height:r,x:0,y:0},f=Ce("recharts-surface",o);return F.createElement("svg",x0({},ke(u,!0,"svg"),{className:f,width:n,height:r,style:a,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),F.createElement("title",null,s),F.createElement("desc",null,l),e)}var eq=["children","className"];function w0(){return w0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},w0.apply(this,arguments)}function tq(t,e){if(t==null)return{};var n=nq(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function nq(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Dt=F.forwardRef(function(t,e){var n=t.children,r=t.className,i=tq(t,eq),o=Ce("recharts-layer",r);return F.createElement("g",w0({className:o},ke(i,!0),{ref:e}),n)}),Zr=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function rq(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var iq=rq,oq=iq;function aq(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:oq(t,e,n)}var sq=aq,lq="\\ud800-\\udfff",uq="\\u0300-\\u036f",cq="\\ufe20-\\ufe2f",fq="\\u20d0-\\u20ff",dq=uq+cq+fq,hq="\\ufe0e\\ufe0f",pq="\\u200d",mq=RegExp("["+pq+lq+dq+hq+"]");function gq(t){return mq.test(t)}var SR=gq;function yq(t){return t.split("")}var vq=yq,ER="\\ud800-\\udfff",bq="\\u0300-\\u036f",xq="\\ufe20-\\ufe2f",_q="\\u20d0-\\u20ff",wq=bq+xq+_q,Sq="\\ufe0e\\ufe0f",Eq="["+ER+"]",S0="["+wq+"]",E0="\\ud83c[\\udffb-\\udfff]",Tq="(?:"+S0+"|"+E0+")",TR="[^"+ER+"]",AR="(?:\\ud83c[\\udde6-\\uddff]){2}",PR="[\\ud800-\\udbff][\\udc00-\\udfff]",Aq="\\u200d",IR=Tq+"?",OR="["+Sq+"]?",Pq="(?:"+Aq+"(?:"+[TR,AR,PR].join("|")+")"+OR+IR+")*",Iq=OR+IR+Pq,Oq="(?:"+[TR+S0+"?",S0,AR,PR,Eq].join("|")+")",kq=RegExp(E0+"(?="+E0+")|"+Oq+Iq,"g");function Cq(t){return t.match(kq)||[]}var jq=Cq,Rq=vq,Nq=SR,Mq=jq;function Dq(t){return Nq(t)?Mq(t):Rq(t)}var $q=Dq,Fq=sq,Lq=SR,Vq=$q,Bq=yR;function zq(t){return function(e){e=Bq(e);var n=Lq(e)?Vq(e):void 0,r=n?n[0]:e.charAt(0),i=n?Fq(n,1).join(""):e.slice(1);return r[t]()+i}}var Uq=zq,Wq=Uq,Hq=Wq("toUpperCase"),qq=Hq;const Bm=Ue(qq);function He(t){return function(){return t}}const kR=Math.cos,Uh=Math.sin,mr=Math.sqrt,Wh=Math.PI,zm=2*Wh,T0=Math.PI,A0=2*T0,zo=1e-6,Gq=A0-zo;function CR(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Kq(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return CR;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Yq{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?CR:Kq(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=r-e,u=i-n,c=a-e,f=s-n,p=c*c+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(p>zo)if(!(Math.abs(f*l-u*c)>zo)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let m=r-a,y=i-s,w=l*l+u*u,_=m*m+y*y,g=Math.sqrt(w),x=Math.sqrt(p),S=o*Math.tan((T0-Math.acos((w+p-_)/(2*g*x)))/2),O=S/x,E=S/g;Math.abs(O-1)>zo&&this._append`L${e+O*c},${n+O*f}`,this._append`A${o},${o},0,0,${+(f*m>c*y)},${this._x1=e+E*l},${this._y1=n+E*u}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=e+s,c=n+l,f=1^a,p=a?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>zo||Math.abs(this._y1-c)>zo)&&this._append`L${u},${c}`,r&&(p<0&&(p=p%A0+A0),p>Gq?this._append`A${r},${r},0,1,${f},${e-s},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:p>zo&&this._append`A${r},${r},0,${+(p>=T0)},${f},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Ux(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Yq(e)}function Wx(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function jR(t){this._context=t}jR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Um(t){return new jR(t)}function RR(t){return t[0]}function NR(t){return t[1]}function MR(t,e){var n=He(!0),r=null,i=Um,o=null,a=Ux(s);t=typeof t=="function"?t:t===void 0?RR:He(t),e=typeof e=="function"?e:e===void 0?NR:He(e);function s(l){var u,c=(l=Wx(l)).length,f,p=!1,m;for(r==null&&(o=i(m=a())),u=0;u<=c;++u)!(u<c&&n(f=l[u],u,l))===p&&((p=!p)?o.lineStart():o.lineEnd()),p&&o.point(+t(f,u,l),+e(f,u,l));if(m)return o=null,m+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:He(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:He(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:He(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),s):r},s}function dd(t,e,n){var r=null,i=He(!0),o=null,a=Um,s=null,l=Ux(u);t=typeof t=="function"?t:t===void 0?RR:He(+t),e=typeof e=="function"?e:He(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?NR:He(+n);function u(f){var p,m,y,w=(f=Wx(f)).length,_,g=!1,x,S=new Array(w),O=new Array(w);for(o==null&&(s=a(x=l())),p=0;p<=w;++p){if(!(p<w&&i(_=f[p],p,f))===g)if(g=!g)m=p,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),y=p-1;y>=m;--y)s.point(S[y],O[y]);s.lineEnd(),s.areaEnd()}g&&(S[p]=+t(_,p,f),O[p]=+e(_,p,f),s.point(r?+r(_,p,f):S[p],n?+n(_,p,f):O[p]))}if(x)return s=null,x+""||null}function c(){return MR().defined(i).curve(a).context(o)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:He(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:He(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:He(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:He(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:He(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:He(+f),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:He(!!f),u):i},u.curve=function(f){return arguments.length?(a=f,o!=null&&(s=a(o)),u):a},u.context=function(f){return arguments.length?(f==null?o=s=null:s=a(o=f),u):o},u}class DR{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Xq(t){return new DR(t,!0)}function Qq(t){return new DR(t,!1)}const Hx={draw(t,e){const n=mr(e/Wh);t.moveTo(n,0),t.arc(0,0,n,0,zm)}},Jq={draw(t,e){const n=mr(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},$R=mr(1/3),Zq=$R*2,eG={draw(t,e){const n=mr(e/Zq),r=n*$R;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},tG={draw(t,e){const n=mr(e),r=-n/2;t.rect(r,r,n,n)}},nG=.8908130915292852,FR=Uh(Wh/10)/Uh(7*Wh/10),rG=Uh(zm/10)*FR,iG=-kR(zm/10)*FR,oG={draw(t,e){const n=mr(e*nG),r=rG*n,i=iG*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const a=zm*o/5,s=kR(a),l=Uh(a);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},by=mr(3),aG={draw(t,e){const n=-mr(e/(by*3));t.moveTo(0,n*2),t.lineTo(-by*n,-n),t.lineTo(by*n,-n),t.closePath()}},Mn=-.5,Dn=mr(3)/2,P0=1/mr(12),sG=(P0/2+1)*3,lG={draw(t,e){const n=mr(e/sG),r=n/2,i=n*P0,o=r,a=n*P0+n,s=-o,l=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,l),t.lineTo(Mn*r-Dn*i,Dn*r+Mn*i),t.lineTo(Mn*o-Dn*a,Dn*o+Mn*a),t.lineTo(Mn*s-Dn*l,Dn*s+Mn*l),t.lineTo(Mn*r+Dn*i,Mn*i-Dn*r),t.lineTo(Mn*o+Dn*a,Mn*a-Dn*o),t.lineTo(Mn*s+Dn*l,Mn*l-Dn*s),t.closePath()}};function uG(t,e){let n=null,r=Ux(i);t=typeof t=="function"?t:He(t||Hx),e=typeof e=="function"?e:He(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:He(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:He(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Hh(){}function qh(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function LR(t){this._context=t}LR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:qh(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:qh(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function cG(t){return new LR(t)}function VR(t){this._context=t}VR.prototype={areaStart:Hh,areaEnd:Hh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:qh(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function fG(t){return new VR(t)}function BR(t){this._context=t}BR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:qh(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function dG(t){return new BR(t)}function zR(t){this._context=t}zR.prototype={areaStart:Hh,areaEnd:Hh,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function hG(t){return new zR(t)}function VE(t){return t<0?-1:1}function BE(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(VE(o)+VE(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function zE(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function xy(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function Gh(t){this._context=t}Gh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:xy(this,this._t0,zE(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,xy(this,zE(this,n=BE(this,t,e)),n);break;default:xy(this,this._t0,n=BE(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function UR(t){this._context=new WR(t)}(UR.prototype=Object.create(Gh.prototype)).point=function(t,e){Gh.prototype.point.call(this,e,t)};function WR(t){this._context=t}WR.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function pG(t){return new Gh(t)}function mG(t){return new UR(t)}function HR(t){this._context=t}HR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=UE(t),i=UE(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function UE(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function gG(t){return new HR(t)}function Wm(t,e){this._context=t,this._t=e}Wm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function yG(t){return new Wm(t,.5)}function vG(t){return new Wm(t,0)}function bG(t){return new Wm(t,1)}function Vs(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,s=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function I0(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function xG(t,e){return t[e]}function _G(t){const e=[];return e.key=t,e}function wG(){var t=He([]),e=I0,n=Vs,r=xG;function i(o){var a=Array.from(t.apply(this,arguments),_G),s,l=a.length,u=-1,c;for(const f of o)for(s=0,++u;s<l;++s)(a[s][u]=[0,+r(f,a[s].key,u,o)]).data=f;for(s=0,c=Wx(e(a));s<l;++s)a[c[s]].index=s;return n(a,c),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:He(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:He(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?I0:typeof o=="function"?o:He(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??Vs,i):n},i}function SG(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}Vs(t,e)}}function EG(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var a=0,s=0;a<i;++a)s+=t[a][n][1]||0;r[n][1]+=r[n][0]=-s/2}Vs(t,e)}}function TG(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var s=0,l=0,u=0;s<a;++s){for(var c=t[e[s]],f=c[r][1]||0,p=c[r-1][1]||0,m=(f-p)/2,y=0;y<s;++y){var w=t[e[y]],_=w[r][1]||0,g=w[r-1][1]||0;m+=_-g}l+=f,u+=m*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,Vs(t,e)}}function xc(t){"@babel/helpers - typeof";return xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xc(t)}var AG=["type","size","sizeType"];function O0(){return O0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},O0.apply(this,arguments)}function WE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WE(Object(n),!0).forEach(function(r){PG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PG(t,e,n){return e=IG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IG(t){var e=OG(t,"string");return xc(e)=="symbol"?e:e+""}function OG(t,e){if(xc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kG(t,e){if(t==null)return{};var n=CG(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function CG(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var qR={symbolCircle:Hx,symbolCross:Jq,symbolDiamond:eG,symbolSquare:tG,symbolStar:oG,symbolTriangle:aG,symbolWye:lG},jG=Math.PI/180,RG=function(e){var n="symbol".concat(Bm(e));return qR[n]||Hx},NG=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*jG;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},MG=function(e,n){qR["symbol".concat(Bm(e))]=n},qx=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,a=e.sizeType,s=a===void 0?"area":a,l=kG(e,AG),u=HE(HE({},l),{},{type:r,size:o,sizeType:s}),c=function(){var _=RG(r),g=uG().type(_).size(NG(o,s,r));return g()},f=u.className,p=u.cx,m=u.cy,y=ke(u,!0);return p===+p&&m===+m&&o===+o?F.createElement("path",O0({},y,{className:Ce("recharts-symbols",f),transform:"translate(".concat(p,", ").concat(m,")"),d:c()})):null};qx.registerSymbol=MG;function Bs(t){"@babel/helpers - typeof";return Bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bs(t)}function k0(){return k0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},k0.apply(this,arguments)}function qE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qE(Object(n),!0).forEach(function(r){_c(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $G(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FG(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,KR(r.key),r)}}function LG(t,e,n){return e&&FG(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function VG(t,e,n){return e=Kh(e),BG(t,GR()?Reflect.construct(e,n||[],Kh(t).constructor):e.apply(t,n))}function BG(t,e){if(e&&(Bs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zG(t)}function zG(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GR=function(){return!!t})()}function Kh(t){return Kh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Kh(t)}function UG(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&C0(t,e)}function C0(t,e){return C0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},C0(t,e)}function _c(t,e,n){return e=KR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KR(t){var e=WG(t,"string");return Bs(e)=="symbol"?e:e+""}function WG(t,e){if(Bs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $n=32,Gx=function(t){function e(){return $G(this,e),VG(this,e,arguments)}return UG(e,t),LG(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=$n/2,a=$n/6,s=$n/3,l=r.inactive?i:r.color;if(r.type==="plainline")return F.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:$n,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return F.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat($n,"M").concat(2*s,",").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return F.createElement("path",{stroke:"none",fill:l,d:"M0,".concat($n/8,"h").concat($n,"v").concat($n*3/4,"h").concat(-$n,"z"),className:"recharts-legend-icon"});if(F.isValidElement(r.legendIcon)){var u=DG({},r);return delete u.legendIcon,F.cloneElement(r.legendIcon,u)}return F.createElement(qx,{fill:l,cx:o,cy:o,size:$n,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,a=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:$n,height:$n},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(m,y){var w=m.formatter||l,_=Ce(_c(_c({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",m.inactive));if(m.type==="none")return null;var g=xe(m.value)?null:m.value;Zr(!xe(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var x=m.inactive?u:m.color;return F.createElement("li",k0({className:_,style:f,key:"legend-item-".concat(y)},zh(r.props,m,y)),F.createElement(_0,{width:a,height:a,viewBox:c,style:p},r.renderIcon(m)),F.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},w?w(g,m,y):g))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,a=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?a:"left"};return F.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(M.PureComponent);_c(Gx,"displayName","Legend");_c(Gx,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var HG=Pm;function qG(){this.__data__=new HG,this.size=0}var GG=qG;function KG(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var YG=KG;function XG(t){return this.__data__.get(t)}var QG=XG;function JG(t){return this.__data__.has(t)}var ZG=JG,eK=Pm,tK=Nx,nK=Mx,rK=200;function iK(t,e){var n=this.__data__;if(n instanceof eK){var r=n.__data__;if(!tK||r.length<rK-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new nK(r)}return n.set(t,e),this.size=n.size,this}var oK=iK,aK=Pm,sK=GG,lK=YG,uK=QG,cK=ZG,fK=oK;function El(t){var e=this.__data__=new aK(t);this.size=e.size}El.prototype.clear=sK;El.prototype.delete=lK;El.prototype.get=uK;El.prototype.has=cK;El.prototype.set=fK;var YR=El,dK="__lodash_hash_undefined__";function hK(t){return this.__data__.set(t,dK),this}var pK=hK;function mK(t){return this.__data__.has(t)}var gK=mK,yK=Mx,vK=pK,bK=gK;function Yh(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new yK;++e<n;)this.add(t[e])}Yh.prototype.add=Yh.prototype.push=vK;Yh.prototype.has=bK;var XR=Yh;function xK(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var QR=xK;function _K(t,e){return t.has(e)}var JR=_K,wK=XR,SK=QR,EK=JR,TK=1,AK=2;function PK(t,e,n,r,i,o){var a=n&TK,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var f=-1,p=!0,m=n&AK?new wK:void 0;for(o.set(t,e),o.set(e,t);++f<s;){var y=t[f],w=e[f];if(r)var _=a?r(w,y,f,e,t,o):r(y,w,f,t,e,o);if(_!==void 0){if(_)continue;p=!1;break}if(m){if(!SK(e,function(g,x){if(!EK(m,x)&&(y===g||i(y,g,n,r,o)))return m.push(x)})){p=!1;break}}else if(!(y===w||i(y,w,n,r,o))){p=!1;break}}return o.delete(t),o.delete(e),p}var ZR=PK,IK=Fr,OK=IK.Uint8Array,kK=OK;function CK(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var jK=CK;function RK(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var Kx=RK,GE=bf,KE=kK,NK=Rx,MK=ZR,DK=jK,$K=Kx,FK=1,LK=2,VK="[object Boolean]",BK="[object Date]",zK="[object Error]",UK="[object Map]",WK="[object Number]",HK="[object RegExp]",qK="[object Set]",GK="[object String]",KK="[object Symbol]",YK="[object ArrayBuffer]",XK="[object DataView]",YE=GE?GE.prototype:void 0,_y=YE?YE.valueOf:void 0;function QK(t,e,n,r,i,o,a){switch(n){case XK:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case YK:return!(t.byteLength!=e.byteLength||!o(new KE(t),new KE(e)));case VK:case BK:case WK:return NK(+t,+e);case zK:return t.name==e.name&&t.message==e.message;case HK:case GK:return t==e+"";case UK:var s=DK;case qK:var l=r&FK;if(s||(s=$K),t.size!=e.size&&!l)return!1;var u=a.get(t);if(u)return u==e;r|=LK,a.set(t,e);var c=MK(s(t),s(e),r,i,o,a);return a.delete(t),c;case KK:if(_y)return _y.call(t)==_y.call(e)}return!1}var JK=QK;function ZK(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var eN=ZK,eY=eN,tY=_n;function nY(t,e,n){var r=e(t);return tY(t)?r:eY(r,n(t))}var rY=nY;function iY(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}var oY=iY;function aY(){return[]}var sY=aY,lY=oY,uY=sY,cY=Object.prototype,fY=cY.propertyIsEnumerable,XE=Object.getOwnPropertySymbols,dY=XE?function(t){return t==null?[]:(t=Object(t),lY(XE(t),function(e){return fY.call(t,e)}))}:uY,hY=dY;function pY(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var mY=pY,gY=gi,yY=yi,vY="[object Arguments]";function bY(t){return yY(t)&&gY(t)==vY}var xY=bY,QE=xY,_Y=yi,tN=Object.prototype,wY=tN.hasOwnProperty,SY=tN.propertyIsEnumerable,EY=QE(function(){return arguments}())?QE:function(t){return _Y(t)&&wY.call(t,"callee")&&!SY.call(t,"callee")},Yx=EY,Xh={exports:{}};function TY(){return!1}var AY=TY;Xh.exports;(function(t,e){var n=Fr,r=AY,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;t.exports=u})(Xh,Xh.exports);var nN=Xh.exports,PY=9007199254740991,IY=/^(?:0|[1-9]\d*)$/;function OY(t,e){var n=typeof t;return e=e??PY,!!e&&(n=="number"||n!="symbol"&&IY.test(t))&&t>-1&&t%1==0&&t<e}var Xx=OY,kY=9007199254740991;function CY(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=kY}var Qx=CY,jY=gi,RY=Qx,NY=yi,MY="[object Arguments]",DY="[object Array]",$Y="[object Boolean]",FY="[object Date]",LY="[object Error]",VY="[object Function]",BY="[object Map]",zY="[object Number]",UY="[object Object]",WY="[object RegExp]",HY="[object Set]",qY="[object String]",GY="[object WeakMap]",KY="[object ArrayBuffer]",YY="[object DataView]",XY="[object Float32Array]",QY="[object Float64Array]",JY="[object Int8Array]",ZY="[object Int16Array]",eX="[object Int32Array]",tX="[object Uint8Array]",nX="[object Uint8ClampedArray]",rX="[object Uint16Array]",iX="[object Uint32Array]",Ye={};Ye[XY]=Ye[QY]=Ye[JY]=Ye[ZY]=Ye[eX]=Ye[tX]=Ye[nX]=Ye[rX]=Ye[iX]=!0;Ye[MY]=Ye[DY]=Ye[KY]=Ye[$Y]=Ye[YY]=Ye[FY]=Ye[LY]=Ye[VY]=Ye[BY]=Ye[zY]=Ye[UY]=Ye[WY]=Ye[HY]=Ye[qY]=Ye[GY]=!1;function oX(t){return NY(t)&&RY(t.length)&&!!Ye[jY(t)]}var aX=oX;function sX(t){return function(e){return t(e)}}var rN=sX,Qh={exports:{}};Qh.exports;(function(t,e){var n=fR,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,a=o&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=s})(Qh,Qh.exports);var lX=Qh.exports,uX=aX,cX=rN,JE=lX,ZE=JE&&JE.isTypedArray,fX=ZE?cX(ZE):uX,iN=fX,dX=mY,hX=Yx,pX=_n,mX=nN,gX=Xx,yX=iN,vX=Object.prototype,bX=vX.hasOwnProperty;function xX(t,e){var n=pX(t),r=!n&&hX(t),i=!n&&!r&&mX(t),o=!n&&!r&&!i&&yX(t),a=n||r||i||o,s=a?dX(t.length,String):[],l=s.length;for(var u in t)(e||bX.call(t,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||gX(u,l)))&&s.push(u);return s}var _X=xX,wX=Object.prototype;function SX(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||wX;return t===n}var EX=SX;function TX(t,e){return function(n){return t(e(n))}}var oN=TX,AX=oN,PX=AX(Object.keys,Object),IX=PX,OX=EX,kX=IX,CX=Object.prototype,jX=CX.hasOwnProperty;function RX(t){if(!OX(t))return kX(t);var e=[];for(var n in Object(t))jX.call(t,n)&&n!="constructor"&&e.push(n);return e}var NX=RX,MX=jx,DX=Qx;function $X(t){return t!=null&&DX(t.length)&&!MX(t)}var _f=$X,FX=_X,LX=NX,VX=_f;function BX(t){return VX(t)?FX(t):LX(t)}var Hm=BX,zX=rY,UX=hY,WX=Hm;function HX(t){return zX(t,WX,UX)}var qX=HX,eT=qX,GX=1,KX=Object.prototype,YX=KX.hasOwnProperty;function XX(t,e,n,r,i,o){var a=n&GX,s=eT(t),l=s.length,u=eT(e),c=u.length;if(l!=c&&!a)return!1;for(var f=l;f--;){var p=s[f];if(!(a?p in e:YX.call(e,p)))return!1}var m=o.get(t),y=o.get(e);if(m&&y)return m==e&&y==t;var w=!0;o.set(t,e),o.set(e,t);for(var _=a;++f<l;){p=s[f];var g=t[p],x=e[p];if(r)var S=a?r(x,g,p,e,t,o):r(g,x,p,t,e,o);if(!(S===void 0?g===x||i(g,x,n,r,o):S)){w=!1;break}_||(_=p=="constructor")}if(w&&!_){var O=t.constructor,E=e.constructor;O!=E&&"constructor"in t&&"constructor"in e&&!(typeof O=="function"&&O instanceof O&&typeof E=="function"&&E instanceof E)&&(w=!1)}return o.delete(t),o.delete(e),w}var QX=XX,JX=ka,ZX=Fr,eQ=JX(ZX,"DataView"),tQ=eQ,nQ=ka,rQ=Fr,iQ=nQ(rQ,"Promise"),oQ=iQ,aQ=ka,sQ=Fr,lQ=aQ(sQ,"Set"),aN=lQ,uQ=ka,cQ=Fr,fQ=uQ(cQ,"WeakMap"),dQ=fQ,j0=tQ,R0=Nx,N0=oQ,M0=aN,D0=dQ,sN=gi,Tl=hR,tT="[object Map]",hQ="[object Object]",nT="[object Promise]",rT="[object Set]",iT="[object WeakMap]",oT="[object DataView]",pQ=Tl(j0),mQ=Tl(R0),gQ=Tl(N0),yQ=Tl(M0),vQ=Tl(D0),Uo=sN;(j0&&Uo(new j0(new ArrayBuffer(1)))!=oT||R0&&Uo(new R0)!=tT||N0&&Uo(N0.resolve())!=nT||M0&&Uo(new M0)!=rT||D0&&Uo(new D0)!=iT)&&(Uo=function(t){var e=sN(t),n=e==hQ?t.constructor:void 0,r=n?Tl(n):"";if(r)switch(r){case pQ:return oT;case mQ:return tT;case gQ:return nT;case yQ:return rT;case vQ:return iT}return e});var bQ=Uo,wy=YR,xQ=ZR,_Q=JK,wQ=QX,aT=bQ,sT=_n,lT=nN,SQ=iN,EQ=1,uT="[object Arguments]",cT="[object Array]",hd="[object Object]",TQ=Object.prototype,fT=TQ.hasOwnProperty;function AQ(t,e,n,r,i,o){var a=sT(t),s=sT(e),l=a?cT:aT(t),u=s?cT:aT(e);l=l==uT?hd:l,u=u==uT?hd:u;var c=l==hd,f=u==hd,p=l==u;if(p&&lT(t)){if(!lT(e))return!1;a=!0,c=!1}if(p&&!c)return o||(o=new wy),a||SQ(t)?xQ(t,e,n,r,i,o):_Q(t,e,l,n,r,i,o);if(!(n&EQ)){var m=c&&fT.call(t,"__wrapped__"),y=f&&fT.call(e,"__wrapped__");if(m||y){var w=m?t.value():t,_=y?e.value():e;return o||(o=new wy),i(w,_,n,r,o)}}return p?(o||(o=new wy),wQ(t,e,n,r,i,o)):!1}var PQ=AQ,IQ=PQ,dT=yi;function lN(t,e,n,r,i){return t===e?!0:t==null||e==null||!dT(t)&&!dT(e)?t!==t&&e!==e:IQ(t,e,n,r,lN,i)}var Jx=lN,OQ=YR,kQ=Jx,CQ=1,jQ=2;function RQ(t,e,n,r){var i=n.length,o=i,a=!r;if(t==null)return!o;for(t=Object(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var l=s[0],u=t[l],c=s[1];if(a&&s[2]){if(u===void 0&&!(l in t))return!1}else{var f=new OQ;if(r)var p=r(u,c,l,t,e,f);if(!(p===void 0?kQ(c,u,CQ|jQ,r,f):p))return!1}}return!0}var NQ=RQ,MQ=Po;function DQ(t){return t===t&&!MQ(t)}var uN=DQ,$Q=uN,FQ=Hm;function LQ(t){for(var e=FQ(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,$Q(i)]}return e}var VQ=LQ;function BQ(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var cN=BQ,zQ=NQ,UQ=VQ,WQ=cN;function HQ(t){var e=UQ(t);return e.length==1&&e[0][2]?WQ(e[0][0],e[0][1]):function(n){return n===t||zQ(n,t,e)}}var qQ=HQ;function GQ(t,e){return t!=null&&e in Object(t)}var KQ=GQ,YQ=vR,XQ=Yx,QQ=_n,JQ=Xx,ZQ=Qx,eJ=Om;function tJ(t,e,n){e=YQ(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var a=eJ(e[r]);if(!(o=t!=null&&n(t,a)))break;t=t[a]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&ZQ(i)&&JQ(a,i)&&(QQ(t)||XQ(t)))}var nJ=tJ,rJ=KQ,iJ=nJ;function oJ(t,e){return t!=null&&iJ(t,e,rJ)}var aJ=oJ,sJ=Jx,lJ=bR,uJ=aJ,cJ=Cx,fJ=uN,dJ=cN,hJ=Om,pJ=1,mJ=2;function gJ(t,e){return cJ(t)&&fJ(e)?dJ(hJ(t),e):function(n){var r=lJ(n,t);return r===void 0&&r===e?uJ(n,t):sJ(e,r,pJ|mJ)}}var yJ=gJ;function vJ(t){return t}var Al=vJ;function bJ(t){return function(e){return e==null?void 0:e[t]}}var xJ=bJ,_J=Fx;function wJ(t){return function(e){return _J(e,t)}}var SJ=wJ,EJ=xJ,TJ=SJ,AJ=Cx,PJ=Om;function IJ(t){return AJ(t)?EJ(PJ(t)):TJ(t)}var OJ=IJ,kJ=qQ,CJ=yJ,jJ=Al,RJ=_n,NJ=OJ;function MJ(t){return typeof t=="function"?t:t==null?jJ:typeof t=="object"?RJ(t)?CJ(t[0],t[1]):kJ(t):NJ(t)}var Io=MJ;function DJ(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var fN=DJ;function $J(t){return t!==t}var FJ=$J;function LJ(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var VJ=LJ,BJ=fN,zJ=FJ,UJ=VJ;function WJ(t,e,n){return e===e?UJ(t,e,n):BJ(t,zJ,n)}var HJ=WJ,qJ=HJ;function GJ(t,e){var n=t==null?0:t.length;return!!n&&qJ(t,e,0)>-1}var KJ=GJ;function YJ(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var XJ=YJ;function QJ(){}var JJ=QJ,Sy=aN,ZJ=JJ,eZ=Kx,tZ=1/0,nZ=Sy&&1/eZ(new Sy([,-0]))[1]==tZ?function(t){return new Sy(t)}:ZJ,rZ=nZ,iZ=XR,oZ=KJ,aZ=XJ,sZ=JR,lZ=rZ,uZ=Kx,cZ=200;function fZ(t,e,n){var r=-1,i=oZ,o=t.length,a=!0,s=[],l=s;if(n)a=!1,i=aZ;else if(o>=cZ){var u=e?null:lZ(t);if(u)return uZ(u);a=!1,i=sZ,l=new iZ}else l=e?[]:s;e:for(;++r<o;){var c=t[r],f=e?e(c):c;if(c=n||c!==0?c:0,a&&f===f){for(var p=l.length;p--;)if(l[p]===f)continue e;e&&l.push(f),s.push(c)}else i(l,f,n)||(l!==s&&l.push(f),s.push(c))}return s}var dZ=fZ,hZ=Io,pZ=dZ;function mZ(t,e){return t&&t.length?pZ(t,hZ(e)):[]}var gZ=mZ;const hT=Ue(gZ);function dN(t,e,n){return e===!0?hT(t,n):xe(e)?hT(t,e):t}function zs(t){"@babel/helpers - typeof";return zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zs(t)}var yZ=["ref"];function pT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pT(Object(n),!0).forEach(function(r){qm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pN(r.key),r)}}function bZ(t,e,n){return e&&mT(t.prototype,e),n&&mT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function xZ(t,e,n){return e=Jh(e),_Z(t,hN()?Reflect.construct(e,n||[],Jh(t).constructor):e.apply(t,n))}function _Z(t,e){if(e&&(zs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wZ(t)}function wZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hN=function(){return!!t})()}function Jh(t){return Jh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jh(t)}function SZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$0(t,e)}function $0(t,e){return $0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$0(t,e)}function qm(t,e,n){return e=pN(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pN(t){var e=EZ(t,"string");return zs(e)=="symbol"?e:e+""}function EZ(t,e){if(zs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function TZ(t,e){if(t==null)return{};var n=AZ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function AZ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function PZ(t){return t.value}function IZ(t,e){if(F.isValidElement(t))return F.cloneElement(t,e);if(typeof t=="function")return F.createElement(t,e);e.ref;var n=TZ(e,yZ);return F.createElement(Gx,n)}var gT=1,ws=function(t){function e(){var n;vZ(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=xZ(this,e,[].concat(i)),qm(n,"lastBoundingBox",{width:-1,height:-1}),n}return SZ(e,t),bZ(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>gT||Math.abs(i.height-this.lastBoundingBox.height)>gT)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Vr({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,a=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,f,p;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&o==="vertical"){var m=this.getBBoxSnapshot();f={left:((u||0)-m.width)/2}}else f=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var y=this.getBBoxSnapshot();p={top:((c||0)-y.height)/2}}else p=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Vr(Vr({},f),p)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,a=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,f=Vr(Vr({position:"absolute",width:a||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return F.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){r.wrapperNode=m}},IZ(o,Vr(Vr({},this.props),{},{payload:dN(c,u,PZ)})))}}],[{key:"getWithHeight",value:function(r,i){var o=Vr(Vr({},this.defaultProps),r.props),a=o.layout;return a==="vertical"&&te(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])}(M.PureComponent);qm(ws,"displayName","Legend");qm(ws,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var yT=bf,OZ=Yx,kZ=_n,vT=yT?yT.isConcatSpreadable:void 0;function CZ(t){return kZ(t)||OZ(t)||!!(vT&&t&&t[vT])}var jZ=CZ,RZ=eN,NZ=jZ;function mN(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=NZ),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?mN(s,e-1,n,r,i):RZ(i,s):r||(i[i.length]=s)}return i}var gN=mN;function MZ(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(n(o[l],l,o)===!1)break}return e}}var DZ=MZ,$Z=DZ,FZ=$Z(),LZ=FZ,VZ=LZ,BZ=Hm;function zZ(t,e){return t&&VZ(t,e,BZ)}var yN=zZ,UZ=_f;function WZ(t,e){return function(n,r){if(n==null)return n;if(!UZ(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Object(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}var HZ=WZ,qZ=yN,GZ=HZ,KZ=GZ(qZ),Zx=KZ,YZ=Zx,XZ=_f;function QZ(t,e){var n=-1,r=XZ(t)?Array(t.length):[];return YZ(t,function(i,o,a){r[++n]=e(i,o,a)}),r}var vN=QZ;function JZ(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var ZZ=JZ,bT=bl;function eee(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=bT(t),a=e!==void 0,s=e===null,l=e===e,u=bT(e);if(!s&&!u&&!o&&t>e||o&&a&&l&&!s&&!u||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0}var tee=eee,nee=tee;function ree(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var l=nee(i[r],o[r]);if(l){if(r>=s)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var iee=ree,Ey=$x,oee=Fx,aee=Io,see=vN,lee=ZZ,uee=rN,cee=iee,fee=Al,dee=_n;function hee(t,e,n){e.length?e=Ey(e,function(o){return dee(o)?function(a){return oee(a,o.length===1?o[0]:o)}:o}):e=[fee];var r=-1;e=Ey(e,uee(aee));var i=see(t,function(o,a,s){var l=Ey(e,function(u){return u(o)});return{criteria:l,index:++r,value:o}});return lee(i,function(o,a){return cee(o,a,n)})}var pee=hee;function mee(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var gee=mee,yee=gee,xT=Math.max;function vee(t,e,n){return e=xT(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=xT(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),yee(t,this,s)}}var bee=vee;function xee(t){return function(){return t}}var _ee=xee,wee=ka,See=function(){try{var t=wee(Object,"defineProperty");return t({},"",{}),t}catch{}}(),bN=See,Eee=_ee,_T=bN,Tee=Al,Aee=_T?function(t,e){return _T(t,"toString",{configurable:!0,enumerable:!1,value:Eee(e),writable:!0})}:Tee,Pee=Aee,Iee=800,Oee=16,kee=Date.now;function Cee(t){var e=0,n=0;return function(){var r=kee(),i=Oee-(r-n);if(n=r,i>0){if(++e>=Iee)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var jee=Cee,Ree=Pee,Nee=jee,Mee=Nee(Ree),Dee=Mee,$ee=Al,Fee=bee,Lee=Dee;function Vee(t,e){return Lee(Fee(t,e,$ee),t+"")}var Bee=Vee,zee=Rx,Uee=_f,Wee=Xx,Hee=Po;function qee(t,e,n){if(!Hee(n))return!1;var r=typeof e;return(r=="number"?Uee(n)&&Wee(e,n.length):r=="string"&&e in n)?zee(n[e],t):!1}var Gm=qee,Gee=gN,Kee=pee,Yee=Bee,wT=Gm,Xee=Yee(function(t,e){if(t==null)return[];var n=e.length;return n>1&&wT(t,e[0],e[1])?e=[]:n>2&&wT(e[0],e[1],e[2])&&(e=[e[0]]),Kee(t,Gee(e,1),[])}),Qee=Xee;const e_=Ue(Qee);function wc(t){"@babel/helpers - typeof";return wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wc(t)}function F0(){return F0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},F0.apply(this,arguments)}function Jee(t,e){return nte(t)||tte(t,e)||ete(t,e)||Zee()}function Zee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ete(t,e){if(t){if(typeof t=="string")return ST(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ST(t,e)}}function ST(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tte(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function nte(t){if(Array.isArray(t))return t}function ET(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ty(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ET(Object(n),!0).forEach(function(r){rte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ET(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rte(t,e,n){return e=ite(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ite(t){var e=ote(t,"string");return wc(e)=="symbol"?e:e+""}function ote(t,e){if(wc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ate(t){return Array.isArray(t)&&It(t[0])&&It(t[1])?t.join(" ~ "):t}var ste=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,a=e.itemStyle,s=a===void 0?{}:a,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,f=e.formatter,p=e.itemSorter,m=e.wrapperClassName,y=e.labelClassName,w=e.label,_=e.labelFormatter,g=e.accessibilityLayer,x=g===void 0?!1:g,S=function(){if(c&&c.length){var R={padding:0,margin:0},k=(p?e_(c,p):c).map(function(D,V){if(D.type==="none")return null;var z=Ty({display:"block",paddingTop:4,paddingBottom:4,color:D.color||"#000"},s),L=D.formatter||f||ate,$=D.value,U=D.name,H=$,Q=U;if(L&&H!=null&&Q!=null){var G=L($,U,D,V,c);if(Array.isArray(G)){var ne=Jee(G,2);H=ne[0],Q=ne[1]}else H=G}return F.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(V),style:z},It(Q)?F.createElement("span",{className:"recharts-tooltip-item-name"},Q):null,It(Q)?F.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,F.createElement("span",{className:"recharts-tooltip-item-value"},H),F.createElement("span",{className:"recharts-tooltip-item-unit"},D.unit||""))});return F.createElement("ul",{className:"recharts-tooltip-item-list",style:R},k)}return null},O=Ty({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),E=Ty({margin:0},u),A=!je(w),b=A?w:"",T=Ce("recharts-default-tooltip",m),I=Ce("recharts-tooltip-label",y);A&&_&&c!==void 0&&c!==null&&(b=_(w,c));var j=x?{role:"status","aria-live":"assertive"}:{};return F.createElement("div",F0({className:T,style:O},j),F.createElement("p",{className:I,style:E},F.isValidElement(b)?b:"".concat(b)),S())};function Sc(t){"@babel/helpers - typeof";return Sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sc(t)}function pd(t,e,n){return e=lte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lte(t){var e=ute(t,"string");return Sc(e)=="symbol"?e:e+""}function ute(t,e){if(Sc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nu="recharts-tooltip-wrapper",cte={visibility:"hidden"};function fte(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Ce(nu,pd(pd(pd(pd({},"".concat(nu,"-right"),te(n)&&e&&te(e.x)&&n>=e.x),"".concat(nu,"-left"),te(n)&&e&&te(e.x)&&n<e.x),"".concat(nu,"-bottom"),te(r)&&e&&te(e.y)&&r>=e.y),"".concat(nu,"-top"),te(r)&&e&&te(e.y)&&r<e.y))}function TT(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,a=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(o&&te(o[r]))return o[r];var c=n[r]-s-i,f=n[r]+i;if(e[r])return a[r]?c:f;if(a[r]){var p=c,m=l[r];return p<m?Math.max(f,l[r]):Math.max(c,l[r])}var y=f+s,w=l[r]+u;return y>w?Math.max(c,l[r]):Math.max(f,l[r])}function dte(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function hte(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,a=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,u,c,f;return a.height>0&&a.width>0&&n?(c=TT({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),f=TT({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),u=dte({translateX:c,translateY:f,useTranslate3d:s})):u=cte,{cssProperties:u,cssClasses:fte({translateX:c,translateY:f,coordinate:n})}}function Us(t){"@babel/helpers - typeof";return Us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Us(t)}function AT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AT(Object(n),!0).forEach(function(r){V0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mte(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_N(r.key),r)}}function gte(t,e,n){return e&&mte(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yte(t,e,n){return e=Zh(e),vte(t,xN()?Reflect.construct(e,n||[],Zh(t).constructor):e.apply(t,n))}function vte(t,e){if(e&&(Us(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bte(t)}function bte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xN=function(){return!!t})()}function Zh(t){return Zh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zh(t)}function xte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&L0(t,e)}function L0(t,e){return L0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},L0(t,e)}function V0(t,e,n){return e=_N(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _N(t){var e=_te(t,"string");return Us(e)=="symbol"?e:e+""}function _te(t,e){if(Us(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Us(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var IT=1,wte=function(t){function e(){var n;pte(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=yte(this,e,[].concat(i)),V0(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),V0(n,"handleKeyDown",function(a){if(a.key==="Escape"){var s,l,u,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),n}return xte(e,t),gte(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>IT||Math.abs(r.height-this.state.lastBoundingBox.height)>IT)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,f=i.hasPayload,p=i.isAnimationActive,m=i.offset,y=i.position,w=i.reverseDirection,_=i.useTranslate3d,g=i.viewBox,x=i.wrapperStyle,S=hte({allowEscapeViewBox:a,coordinate:c,offsetTopLeft:m,position:y,reverseDirection:w,tooltipBox:this.state.lastBoundingBox,useTranslate3d:_,viewBox:g}),O=S.cssClasses,E=S.cssProperties,A=PT(PT({transition:p&&o?"transform ".concat(s,"ms ").concat(l):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&f?"visible":"hidden",position:"absolute",top:0,left:0},x);return F.createElement("div",{tabIndex:-1,className:O,style:A,ref:function(T){r.wrapperNode=T}},u)}}])}(M.PureComponent),Ste=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},wf={isSsr:Ste()};function Ws(t){"@babel/helpers - typeof";return Ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ws(t)}function OT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OT(Object(n),!0).forEach(function(r){t_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ete(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tte(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,SN(r.key),r)}}function Ate(t,e,n){return e&&Tte(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pte(t,e,n){return e=ep(e),Ite(t,wN()?Reflect.construct(e,n||[],ep(t).constructor):e.apply(t,n))}function Ite(t,e){if(e&&(Ws(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ote(t)}function Ote(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wN=function(){return!!t})()}function ep(t){return ep=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ep(t)}function kte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&B0(t,e)}function B0(t,e){return B0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},B0(t,e)}function t_(t,e,n){return e=SN(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SN(t){var e=Cte(t,"string");return Ws(e)=="symbol"?e:e+""}function Cte(t,e){if(Ws(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ws(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function jte(t){return t.dataKey}function Rte(t,e){return F.isValidElement(t)?F.cloneElement(t,e):typeof t=="function"?F.createElement(t,e):F.createElement(ste,e)}var nr=function(t){function e(){return Ete(this,e),Pte(this,e,arguments)}return kte(e,t),Ate(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,f=i.filterNull,p=i.isAnimationActive,m=i.offset,y=i.payload,w=i.payloadUniqBy,_=i.position,g=i.reverseDirection,x=i.useTranslate3d,S=i.viewBox,O=i.wrapperStyle,E=y??[];f&&E.length&&(E=dN(y.filter(function(b){return b.value!=null&&(b.hide!==!0||r.props.includeHidden)}),w,jte));var A=E.length>0;return F.createElement(wte,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:p,active:o,coordinate:c,hasPayload:A,offset:m,position:_,reverseDirection:g,useTranslate3d:x,viewBox:S,wrapperStyle:O},Rte(u,kT(kT({},this.props),{},{payload:E})))}}])}(M.PureComponent);t_(nr,"displayName","Tooltip");t_(nr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!wf.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Nte=Fr,Mte=function(){return Nte.Date.now()},Dte=Mte,$te=/\s/;function Fte(t){for(var e=t.length;e--&&$te.test(t.charAt(e)););return e}var Lte=Fte,Vte=Lte,Bte=/^\s+/;function zte(t){return t&&t.slice(0,Vte(t)+1).replace(Bte,"")}var Ute=zte,Wte=Ute,CT=Po,Hte=bl,jT=NaN,qte=/^[-+]0x[0-9a-f]+$/i,Gte=/^0b[01]+$/i,Kte=/^0o[0-7]+$/i,Yte=parseInt;function Xte(t){if(typeof t=="number")return t;if(Hte(t))return jT;if(CT(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=CT(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Wte(t);var n=Gte.test(t);return n||Kte.test(t)?Yte(t.slice(2),n?2:8):qte.test(t)?jT:+t}var EN=Xte,Qte=Po,Ay=Dte,RT=EN,Jte="Expected a function",Zte=Math.max,ene=Math.min;function tne(t,e,n){var r,i,o,a,s,l,u=0,c=!1,f=!1,p=!0;if(typeof t!="function")throw new TypeError(Jte);e=RT(e)||0,Qte(n)&&(c=!!n.leading,f="maxWait"in n,o=f?Zte(RT(n.maxWait)||0,e):o,p="trailing"in n?!!n.trailing:p);function m(A){var b=r,T=i;return r=i=void 0,u=A,a=t.apply(T,b),a}function y(A){return u=A,s=setTimeout(g,e),c?m(A):a}function w(A){var b=A-l,T=A-u,I=e-b;return f?ene(I,o-T):I}function _(A){var b=A-l,T=A-u;return l===void 0||b>=e||b<0||f&&T>=o}function g(){var A=Ay();if(_(A))return x(A);s=setTimeout(g,w(A))}function x(A){return s=void 0,p&&r?m(A):(r=i=void 0,a)}function S(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function O(){return s===void 0?a:x(Ay())}function E(){var A=Ay(),b=_(A);if(r=arguments,i=this,l=A,b){if(s===void 0)return y(l);if(f)return clearTimeout(s),s=setTimeout(g,e),m(l)}return s===void 0&&(s=setTimeout(g,e)),a}return E.cancel=S,E.flush=O,E}var nne=tne,rne=nne,ine=Po,one="Expected a function";function ane(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(one);return ine(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),rne(t,e,{leading:r,maxWait:e,trailing:i})}var sne=ane;const TN=Ue(sne);function Ec(t){"@babel/helpers - typeof";return Ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ec(t)}function NT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function md(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NT(Object(n),!0).forEach(function(r){lne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lne(t,e,n){return e=une(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function une(t){var e=cne(t,"string");return Ec(e)=="symbol"?e:e+""}function cne(t,e){if(Ec(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ec(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fne(t,e){return mne(t)||pne(t,e)||hne(t,e)||dne()}function dne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hne(t,e){if(t){if(typeof t=="string")return MT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MT(t,e)}}function MT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pne(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function mne(t){if(Array.isArray(t))return t}var AN=M.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,a=o===void 0?"100%":o,s=t.height,l=s===void 0?"100%":s,u=t.minWidth,c=u===void 0?0:u,f=t.minHeight,p=t.maxHeight,m=t.children,y=t.debounce,w=y===void 0?0:y,_=t.id,g=t.className,x=t.onResize,S=t.style,O=S===void 0?{}:S,E=M.useRef(null),A=M.useRef();A.current=x,M.useImperativeHandle(e,function(){return Object.defineProperty(E.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),E.current},configurable:!0})});var b=M.useState({containerWidth:i.width,containerHeight:i.height}),T=fne(b,2),I=T[0],j=T[1],C=M.useCallback(function(k,D){j(function(V){var z=Math.round(k),L=Math.round(D);return V.containerWidth===z&&V.containerHeight===L?V:{containerWidth:z,containerHeight:L}})},[]);M.useEffect(function(){var k=function(U){var H,Q=U[0].contentRect,G=Q.width,ne=Q.height;C(G,ne),(H=A.current)===null||H===void 0||H.call(A,G,ne)};w>0&&(k=TN(k,w,{trailing:!0,leading:!1}));var D=new ResizeObserver(k),V=E.current.getBoundingClientRect(),z=V.width,L=V.height;return C(z,L),D.observe(E.current),function(){D.disconnect()}},[C,w]);var R=M.useMemo(function(){var k=I.containerWidth,D=I.containerHeight;if(k<0||D<0)return null;Zr(Xo(a)||Xo(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),Zr(!n||n>0,"The aspect(%s) must be greater than zero.",n);var V=Xo(a)?k:a,z=Xo(l)?D:l;n&&n>0&&(V?z=V/n:z&&(V=z*n),p&&z>p&&(z=p)),Zr(V>0||z>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,V,z,a,l,c,f,n);var L=!Array.isArray(m)&&Jr(m.type).endsWith("Chart");return F.Children.map(m,function($){return F.isValidElement($)?M.cloneElement($,md({width:V,height:z},L?{style:md({height:"100%",width:"100%",maxHeight:z,maxWidth:V},$.props.style)}:{})):$})},[n,m,l,p,f,c,I,a]);return F.createElement("div",{id:_?"".concat(_):void 0,className:Ce("recharts-responsive-container",g),style:md(md({},O),{},{width:a,height:l,minWidth:c,minHeight:f,maxHeight:p}),ref:E},R)}),PN=function(e){return null};PN.displayName="Cell";function Tc(t){"@babel/helpers - typeof";return Tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tc(t)}function DT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function z0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DT(Object(n),!0).forEach(function(r){gne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gne(t,e,n){return e=yne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yne(t){var e=vne(t,"string");return Tc(e)=="symbol"?e:e+""}function vne(t,e){if(Tc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Va={widthCache:{},cacheCount:0},bne=2e3,xne={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},$T="recharts_measurement_span";function _ne(t){var e=z0({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var $u=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||wf.isSsr)return{width:0,height:0};var r=_ne(n),i=JSON.stringify({text:e,copyStyle:r});if(Va.widthCache[i])return Va.widthCache[i];try{var o=document.getElementById($T);o||(o=document.createElement("span"),o.setAttribute("id",$T),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=z0(z0({},xne),r);Object.assign(o.style,a),o.textContent="".concat(e);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return Va.widthCache[i]=l,++Va.cacheCount>bne&&(Va.cacheCount=0,Va.widthCache={}),l}catch{return{width:0,height:0}}},wne=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Ac(t){"@babel/helpers - typeof";return Ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ac(t)}function tp(t,e){return Ane(t)||Tne(t,e)||Ene(t,e)||Sne()}function Sne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ene(t,e){if(t){if(typeof t=="string")return FT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FT(t,e)}}function FT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Tne(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Ane(t){if(Array.isArray(t))return t}function Pne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,One(r.key),r)}}function Ine(t,e,n){return e&&LT(t.prototype,e),n&&LT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function One(t){var e=kne(t,"string");return Ac(e)=="symbol"?e:e+""}function kne(t,e){if(Ac(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ac(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var VT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,BT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Cne=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,jne=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,IN={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Rne=Object.keys(IN),as="NaN";function Nne(t,e){return t*IN[e]}var gd=function(){function t(e,n){Pne(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!Cne.test(n)&&(this.num=NaN,this.unit=""),Rne.includes(n)&&(this.num=Nne(e,n),this.unit="px")}return Ine(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=jne.exec(n))!==null&&r!==void 0?r:[],o=tp(i,3),a=o[1],s=o[2];return new t(parseFloat(a),s??"")}}])}();function ON(t){if(t.includes(as))return as;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=VT.exec(e))!==null&&n!==void 0?n:[],i=tp(r,4),o=i[1],a=i[2],s=i[3],l=gd.parse(o??""),u=gd.parse(s??""),c=a==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return as;e=e.replace(VT,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,p=(f=BT.exec(e))!==null&&f!==void 0?f:[],m=tp(p,4),y=m[1],w=m[2],_=m[3],g=gd.parse(y??""),x=gd.parse(_??""),S=w==="+"?g.add(x):g.subtract(x);if(S.isNaN())return as;e=e.replace(BT,S.toString())}return e}var zT=/\(([^()]*)\)/;function Mne(t){for(var e=t;e.includes("(");){var n=zT.exec(e),r=tp(n,2),i=r[1];e=e.replace(zT,ON(i))}return e}function Dne(t){var e=t.replace(/\s+/g,"");return e=Mne(e),e=ON(e),e}function $ne(t){try{return Dne(t)}catch{return as}}function Py(t){var e=$ne(t.slice(5,-1));return e===as?"":e}var Fne=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Lne=["dx","dy","angle","className","breakAll"];function U0(){return U0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},U0.apply(this,arguments)}function UT(t,e){if(t==null)return{};var n=Vne(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Vne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function WT(t,e){return Wne(t)||Une(t,e)||zne(t,e)||Bne()}function Bne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zne(t,e){if(t){if(typeof t=="string")return HT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HT(t,e)}}function HT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Une(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Wne(t){if(Array.isArray(t))return t}var kN=/[ \f\n\r\t\v\u2028\u2029]+/,CN=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];je(n)||(r?o=n.toString().split(""):o=n.toString().split(kN));var a=o.map(function(l){return{word:l,width:$u(l,i).width}}),s=r?0:$u("",i).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},Hne=function(e,n,r,i,o){var a=e.maxLines,s=e.children,l=e.style,u=e.breakAll,c=te(a),f=s,p=function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return V.reduce(function(z,L){var $=L.word,U=L.width,H=z[z.length-1];if(H&&(i==null||o||H.width+U+r<Number(i)))H.words.push($),H.width+=U+r;else{var Q={words:[$],width:U};z.push(Q)}return z},[])},m=p(n),y=function(V){return V.reduce(function(z,L){return z.width>L.width?z:L})};if(!c)return m;for(var w="",_=function(V){var z=f.slice(0,V),L=CN({breakAll:u,style:l,children:z+w}).wordsWithComputedWidth,$=p(L),U=$.length>a||y($).width>Number(i);return[U,$]},g=0,x=f.length-1,S=0,O;g<=x&&S<=f.length-1;){var E=Math.floor((g+x)/2),A=E-1,b=_(A),T=WT(b,2),I=T[0],j=T[1],C=_(E),R=WT(C,1),k=R[0];if(!I&&!k&&(g=E+1),I&&k&&(x=E-1),!I&&k){O=j;break}S++}return O||m},qT=function(e){var n=je(e)?[]:e.toString().split(kN);return[{words:n}]},qne=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,a=e.breakAll,s=e.maxLines;if((n||r)&&!wf.isSsr){var l,u,c=CN({breakAll:a,children:i,style:o});if(c){var f=c.wordsWithComputedWidth,p=c.spaceWidth;l=f,u=p}else return qT(i);return Hne({breakAll:a,children:i,maxLines:s,style:o},l,u,n,r)}return qT(i)},GT="#808080",np=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.lineHeight,s=a===void 0?"1em":a,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,f=c===void 0?!1:c,p=e.textAnchor,m=p===void 0?"start":p,y=e.verticalAnchor,w=y===void 0?"end":y,_=e.fill,g=_===void 0?GT:_,x=UT(e,Fne),S=M.useMemo(function(){return qne({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:f,style:x.style,width:x.width})},[x.breakAll,x.children,x.maxLines,f,x.style,x.width]),O=x.dx,E=x.dy,A=x.angle,b=x.className,T=x.breakAll,I=UT(x,Lne);if(!It(r)||!It(o))return null;var j=r+(te(O)?O:0),C=o+(te(E)?E:0),R;switch(w){case"start":R=Py("calc(".concat(u,")"));break;case"middle":R=Py("calc(".concat((S.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:R=Py("calc(".concat(S.length-1," * -").concat(s,")"));break}var k=[];if(f){var D=S[0].width,V=x.width;k.push("scale(".concat((te(V)?V/D:1)/D,")"))}return A&&k.push("rotate(".concat(A,", ").concat(j,", ").concat(C,")")),k.length&&(I.transform=k.join(" ")),F.createElement("text",U0({},ke(I,!0),{x:j,y:C,className:Ce("recharts-text",b),textAnchor:m,fill:g.includes("url")?GT:g}),S.map(function(z,L){var $=z.words.join(T?"":" ");return F.createElement("tspan",{x:j,dy:L===0?R:s,key:"".concat($,"-").concat(L)},$)}))};function oo(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Gne(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function n_(t){let e,n,r;t.length!==2?(e=oo,n=(s,l)=>oo(t(s),l),r=(s,l)=>t(s)-l):(e=t===oo||t===Gne?t:Kne,n=t,r=t);function i(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<0?u=f+1:c=f}while(u<c)}return u}function o(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function a(s,l,u=0,c=s.length){const f=i(s,l,u,c-1);return f>u&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:i,center:a,right:o}}function Kne(){return 0}function jN(t){return t===null?NaN:+t}function*Yne(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Xne=n_(oo),Sf=Xne.right;n_(jN).center;class KT extends Map{constructor(e,n=Zne){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(YT(this,e))}has(e){return super.has(YT(this,e))}set(e,n){return super.set(Qne(this,e),n)}delete(e){return super.delete(Jne(this,e))}}function YT({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Qne({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Jne({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Zne(t){return t!==null&&typeof t=="object"?t.valueOf():t}function ere(t=oo){if(t===oo)return RN;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function RN(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const tre=Math.sqrt(50),nre=Math.sqrt(10),rre=Math.sqrt(2);function rp(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=tre?10:o>=nre?5:o>=rre?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*a,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?rp(t,e,n*2):[s,l,u]}function W0(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?rp(e,t,n):rp(t,e,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let u=0;u<s;++u)l[u]=(o-u)/-a;else for(let u=0;u<s;++u)l[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)l[u]=(i+u)/-a;else for(let u=0;u<s;++u)l[u]=(i+u)*a;return l}function H0(t,e,n){return e=+e,t=+t,n=+n,rp(t,e,n)[2]}function q0(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?H0(e,t,n):H0(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function XT(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function QT(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function NN(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?RN:ere(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),f=.5*Math.exp(2*c/3),p=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),m=Math.max(n,Math.floor(e-u*f/l+p)),y=Math.min(r,Math.floor(e+(l-u)*f/l+p));NN(t,e,m,y,i)}const o=t[e];let a=n,s=r;for(ru(t,n,e),i(t[r],o)>0&&ru(t,n,r);a<s;){for(ru(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}i(t[n],o)===0?ru(t,n,s):(++s,ru(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function ru(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function ire(t,e,n){if(t=Float64Array.from(Yne(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return QT(t);if(e>=1)return XT(t);var r,i=(r-1)*e,o=Math.floor(i),a=XT(NN(t,o).subarray(0,o+1)),s=QT(t.subarray(o+1));return a+(s-a)*(i-o)}}function ore(t,e,n=jN){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),s=+n(t[o+1],o+1,t);return a+(s-a)*(i-o)}}function are(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function Xn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function vi(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const G0=Symbol("implicit");function r_(){var t=new KT,e=[],n=[],r=G0;function i(o){let a=t.get(o);if(a===void 0){if(r!==G0)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new KT;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return r_(e,n).unknown(r)},Xn.apply(i,arguments),i}function Pc(){var t=r_().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,s=!1,l=0,u=0,c=.5;delete t.unknown;function f(){var p=e().length,m=i<r,y=m?i:r,w=m?r:i;o=(w-y)/Math.max(1,p-l+u*2),s&&(o=Math.floor(o)),y+=(w-y-o*(p-l))*c,a=o*(1-l),s&&(y=Math.round(y),a=Math.round(a));var _=are(p).map(function(g){return y+o*g});return n(m?_.reverse():_)}return t.domain=function(p){return arguments.length?(e(p),f()):e()},t.range=function(p){return arguments.length?([r,i]=p,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(p){return[r,i]=p,r=+r,i=+i,s=!0,f()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(p){return arguments.length?(s=!!p,f()):s},t.padding=function(p){return arguments.length?(l=Math.min(1,u=+p),f()):l},t.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),f()):l},t.paddingOuter=function(p){return arguments.length?(u=+p,f()):u},t.align=function(p){return arguments.length?(c=Math.max(0,Math.min(1,p)),f()):c},t.copy=function(){return Pc(e(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},Xn.apply(f(),arguments)}function MN(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return MN(e())},t}function Fu(){return MN(Pc.apply(null,arguments).paddingInner(1))}function i_(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function DN(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Ef(){}var Ic=.7,ip=1/Ic,Ss="\\s*([+-]?\\d+)\\s*",Oc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",jr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",sre=/^#([0-9a-f]{3,8})$/,lre=new RegExp(`^rgb\\(${Ss},${Ss},${Ss}\\)$`),ure=new RegExp(`^rgb\\(${jr},${jr},${jr}\\)$`),cre=new RegExp(`^rgba\\(${Ss},${Ss},${Ss},${Oc}\\)$`),fre=new RegExp(`^rgba\\(${jr},${jr},${jr},${Oc}\\)$`),dre=new RegExp(`^hsl\\(${Oc},${jr},${jr}\\)$`),hre=new RegExp(`^hsla\\(${Oc},${jr},${jr},${Oc}\\)$`),JT={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};i_(Ef,kc,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:ZT,formatHex:ZT,formatHex8:pre,formatHsl:mre,formatRgb:eA,toString:eA});function ZT(){return this.rgb().formatHex()}function pre(){return this.rgb().formatHex8()}function mre(){return $N(this).formatHsl()}function eA(){return this.rgb().formatRgb()}function kc(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=sre.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?tA(e):n===3?new yn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?yd(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?yd(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=lre.exec(t))?new yn(e[1],e[2],e[3],1):(e=ure.exec(t))?new yn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=cre.exec(t))?yd(e[1],e[2],e[3],e[4]):(e=fre.exec(t))?yd(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=dre.exec(t))?iA(e[1],e[2]/100,e[3]/100,1):(e=hre.exec(t))?iA(e[1],e[2]/100,e[3]/100,e[4]):JT.hasOwnProperty(t)?tA(JT[t]):t==="transparent"?new yn(NaN,NaN,NaN,0):null}function tA(t){return new yn(t>>16&255,t>>8&255,t&255,1)}function yd(t,e,n,r){return r<=0&&(t=e=n=NaN),new yn(t,e,n,r)}function gre(t){return t instanceof Ef||(t=kc(t)),t?(t=t.rgb(),new yn(t.r,t.g,t.b,t.opacity)):new yn}function K0(t,e,n,r){return arguments.length===1?gre(t):new yn(t,e,n,r??1)}function yn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}i_(yn,K0,DN(Ef,{brighter(t){return t=t==null?ip:Math.pow(ip,t),new yn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Ic:Math.pow(Ic,t),new yn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new yn(ia(this.r),ia(this.g),ia(this.b),op(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:nA,formatHex:nA,formatHex8:yre,formatRgb:rA,toString:rA}));function nA(){return`#${Qo(this.r)}${Qo(this.g)}${Qo(this.b)}`}function yre(){return`#${Qo(this.r)}${Qo(this.g)}${Qo(this.b)}${Qo((isNaN(this.opacity)?1:this.opacity)*255)}`}function rA(){const t=op(this.opacity);return`${t===1?"rgb(":"rgba("}${ia(this.r)}, ${ia(this.g)}, ${ia(this.b)}${t===1?")":`, ${t})`}`}function op(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ia(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Qo(t){return t=ia(t),(t<16?"0":"")+t.toString(16)}function iA(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ar(t,e,n,r)}function $N(t){if(t instanceof ar)return new ar(t.h,t.s,t.l,t.opacity);if(t instanceof Ef||(t=kc(t)),!t)return new ar;if(t instanceof ar)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new ar(a,s,l,t.opacity)}function vre(t,e,n,r){return arguments.length===1?$N(t):new ar(t,e,n,r??1)}function ar(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}i_(ar,vre,DN(Ef,{brighter(t){return t=t==null?ip:Math.pow(ip,t),new ar(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ic:Math.pow(Ic,t),new ar(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new yn(Iy(t>=240?t-240:t+120,i,r),Iy(t,i,r),Iy(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ar(oA(this.h),vd(this.s),vd(this.l),op(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=op(this.opacity);return`${t===1?"hsl(":"hsla("}${oA(this.h)}, ${vd(this.s)*100}%, ${vd(this.l)*100}%${t===1?")":`, ${t})`}`}}));function oA(t){return t=(t||0)%360,t<0?t+360:t}function vd(t){return Math.max(0,Math.min(1,t||0))}function Iy(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const o_=t=>()=>t;function bre(t,e){return function(n){return t+n*e}}function xre(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function _re(t){return(t=+t)==1?FN:function(e,n){return n-e?xre(e,n,t):o_(isNaN(e)?n:e)}}function FN(t,e){var n=e-t;return n?bre(t,n):o_(isNaN(t)?e:t)}const aA=function t(e){var n=_re(e);function r(i,o){var a=n((i=K0(i)).r,(o=K0(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),u=FN(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function wre(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function Sre(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Ere(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=Pl(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function Tre(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function ap(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Are(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Pl(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var Y0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Oy=new RegExp(Y0.source,"g");function Pre(t){return function(){return t}}function Ire(t){return function(e){return t(e)+""}}function Ore(t,e){var n=Y0.lastIndex=Oy.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(t=t+"",e=e+"";(r=Y0.exec(t))&&(i=Oy.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:ap(r,i)})),n=Oy.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?Ire(l[0].x):Pre(e):(e=l.length,function(u){for(var c=0,f;c<e;++c)s[(f=l[c]).i]=f.x(u);return s.join("")})}function Pl(t,e){var n=typeof e,r;return e==null||n==="boolean"?o_(e):(n==="number"?ap:n==="string"?(r=kc(e))?(e=r,aA):Ore:e instanceof kc?aA:e instanceof Date?Tre:Sre(e)?wre:Array.isArray(e)?Ere:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Are:ap)(t,e)}function a_(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function kre(t,e){e===void 0&&(e=t,t=Pl);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function Cre(t){return function(){return t}}function sp(t){return+t}var sA=[0,1];function ln(t){return t}function X0(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Cre(isNaN(e)?NaN:.5)}function jre(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Rre(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=X0(i,r),o=n(a,o)):(r=X0(r,i),o=n(o,a)),function(s){return o(r(s))}}function Nre(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=X0(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(s){var l=Sf(t,s,1,r)-1;return o[l](i[l](s))}}function Tf(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Km(){var t=sA,e=sA,n=Pl,r,i,o,a=ln,s,l,u;function c(){var p=Math.min(t.length,e.length);return a!==ln&&(a=jre(t[0],t[p-1])),s=p>2?Nre:Rre,l=u=null,f}function f(p){return p==null||isNaN(p=+p)?o:(l||(l=s(t.map(r),e,n)))(r(a(p)))}return f.invert=function(p){return a(i((u||(u=s(e,t.map(r),ap)))(p)))},f.domain=function(p){return arguments.length?(t=Array.from(p,sp),c()):t.slice()},f.range=function(p){return arguments.length?(e=Array.from(p),c()):e.slice()},f.rangeRound=function(p){return e=Array.from(p),n=a_,c()},f.clamp=function(p){return arguments.length?(a=p?!0:ln,c()):a!==ln},f.interpolate=function(p){return arguments.length?(n=p,c()):n},f.unknown=function(p){return arguments.length?(o=p,f):o},function(p,m){return r=p,i=m,c()}}function s_(){return Km()(ln,ln)}function Mre(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function lp(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Hs(t){return t=lp(Math.abs(t)),t?t[1]:NaN}function Dre(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function $re(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Fre=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Cc(t){if(!(e=Fre.exec(t)))throw new Error("invalid format: "+t);var e;return new l_({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Cc.prototype=l_.prototype;function l_(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}l_.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Lre(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var up;function Vre(t,e){var n=lp(t,e);if(!n)return up=void 0,t.toPrecision(e);var r=n[0],i=n[1],o=i-(up=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+lp(t,Math.max(0,e+o-1))[0]}function lA(t,e){var n=lp(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const uA={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Mre,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>lA(t*100,e),r:lA,s:Vre,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function cA(t){return t}var fA=Array.prototype.map,dA=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Bre(t){var e=t.grouping===void 0||t.thousands===void 0?cA:Dre(fA.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?cA:$re(fA.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f,p){f=Cc(f);var m=f.fill,y=f.align,w=f.sign,_=f.symbol,g=f.zero,x=f.width,S=f.comma,O=f.precision,E=f.trim,A=f.type;A==="n"?(S=!0,A="g"):uA[A]||(O===void 0&&(O=12),E=!0,A="g"),(g||m==="0"&&y==="=")&&(g=!0,m="0",y="=");var b=(p&&p.prefix!==void 0?p.prefix:"")+(_==="$"?n:_==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():""),T=(_==="$"?r:/[%p]/.test(A)?a:"")+(p&&p.suffix!==void 0?p.suffix:""),I=uA[A],j=/[defgprs%]/.test(A);O=O===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,O)):Math.max(0,Math.min(20,O));function C(R){var k=b,D=T,V,z,L;if(A==="c")D=I(R)+D,R="";else{R=+R;var $=R<0||1/R<0;if(R=isNaN(R)?l:I(Math.abs(R),O),E&&(R=Lre(R)),$&&+R==0&&w!=="+"&&($=!1),k=($?w==="("?w:s:w==="-"||w==="("?"":w)+k,D=(A==="s"&&!isNaN(R)&&up!==void 0?dA[8+up/3]:"")+D+($&&w==="("?")":""),j){for(V=-1,z=R.length;++V<z;)if(L=R.charCodeAt(V),48>L||L>57){D=(L===46?i+R.slice(V+1):R.slice(V))+D,R=R.slice(0,V);break}}}S&&!g&&(R=e(R,1/0));var U=k.length+R.length+D.length,H=U<x?new Array(x-U+1).join(m):"";switch(S&&g&&(R=e(H+R,H.length?x-D.length:1/0),H=""),y){case"<":R=k+R+D+H;break;case"=":R=k+H+R+D;break;case"^":R=H.slice(0,U=H.length>>1)+k+R+D+H.slice(U);break;default:R=H+k+R+D;break}return o(R)}return C.toString=function(){return f+""},C}function c(f,p){var m=Math.max(-8,Math.min(8,Math.floor(Hs(p)/3)))*3,y=Math.pow(10,-m),w=u((f=Cc(f),f.type="f",f),{suffix:dA[8+m/3]});return function(_){return w(y*_)}}return{format:u,formatPrefix:c}}var bd,u_,LN;zre({thousands:",",grouping:[3],currency:["$",""]});function zre(t){return bd=Bre(t),u_=bd.format,LN=bd.formatPrefix,bd}function Ure(t){return Math.max(0,-Hs(Math.abs(t)))}function Wre(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Hs(e)/3)))*3-Hs(Math.abs(t)))}function Hre(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Hs(e)-Hs(t))+1}function VN(t,e,n,r){var i=q0(t,e,n),o;switch(r=Cc(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=Wre(i,a))&&(r.precision=o),LN(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Hre(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Ure(i))&&(r.precision=o-(r.type==="%")*2);break}}return u_(r)}function Oo(t){var e=t.domain;return t.ticks=function(n){var r=e();return W0(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return VN(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],s=r[o],l,u,c=10;for(s<a&&(u=a,a=s,s=u,u=i,i=o,o=u);c-- >0;){if(u=H0(a,s,n),u===l)return r[i]=a,r[o]=s,e(r);if(u>0)a=Math.floor(a/u)*u,s=Math.ceil(s/u)*u;else if(u<0)a=Math.ceil(a*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function cp(){var t=s_();return t.copy=function(){return Tf(t,cp())},Xn.apply(t,arguments),Oo(t)}function BN(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,sp),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return BN(t).unknown(e)},t=arguments.length?Array.from(t,sp):[0,1],Oo(n)}function zN(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function hA(t){return Math.log(t)}function pA(t){return Math.exp(t)}function qre(t){return-Math.log(-t)}function Gre(t){return-Math.exp(-t)}function Kre(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Yre(t){return t===10?Kre:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Xre(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function mA(t){return(e,n)=>-t(-e,n)}function c_(t){const e=t(hA,pA),n=e.domain;let r=10,i,o;function a(){return i=Xre(r),o=Yre(r),n()[0]<0?(i=mA(i),o=mA(o),t(qre,Gre)):t(hA,pA),e}return e.base=function(s){return arguments.length?(r=+s,a()):r},e.domain=function(s){return arguments.length?(n(s),a()):n()},e.ticks=s=>{const l=n();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let p=i(u),m=i(c),y,w;const _=s==null?10:+s;let g=[];if(!(r%1)&&m-p<_){if(p=Math.floor(p),m=Math.ceil(m),u>0){for(;p<=m;++p)for(y=1;y<r;++y)if(w=p<0?y/o(-p):y*o(p),!(w<u)){if(w>c)break;g.push(w)}}else for(;p<=m;++p)for(y=r-1;y>=1;--y)if(w=p>0?y/o(-p):y*o(p),!(w<u)){if(w>c)break;g.push(w)}g.length*2<_&&(g=W0(u,c,_))}else g=W0(p,m,Math.min(m-p,_)).map(o);return f?g.reverse():g},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Cc(l)).precision==null&&(l.trim=!0),l=u_(l)),s===1/0)return l;const u=Math.max(1,r*s/e.ticks().length);return c=>{let f=c/o(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=u?l(c):""}},e.nice=()=>n(zN(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),e}function UN(){const t=c_(Km()).domain([1,10]);return t.copy=()=>Tf(t,UN()).base(t.base()),Xn.apply(t,arguments),t}function gA(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function yA(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function f_(t){var e=1,n=t(gA(e),yA(e));return n.constant=function(r){return arguments.length?t(gA(e=+r),yA(e)):e},Oo(n)}function WN(){var t=f_(Km());return t.copy=function(){return Tf(t,WN()).constant(t.constant())},Xn.apply(t,arguments)}function vA(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Qre(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Jre(t){return t<0?-t*t:t*t}function d_(t){var e=t(ln,ln),n=1;function r(){return n===1?t(ln,ln):n===.5?t(Qre,Jre):t(vA(n),vA(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Oo(e)}function h_(){var t=d_(Km());return t.copy=function(){return Tf(t,h_()).exponent(t.exponent())},Xn.apply(t,arguments),t}function Zre(){return h_.apply(null,arguments).exponent(.5)}function bA(t){return Math.sign(t)*t*t}function eie(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function HN(){var t=s_(),e=[0,1],n=!1,r;function i(o){var a=eie(t(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return t.invert(bA(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,sp)).map(bA)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return HN(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Xn.apply(i,arguments),Oo(i)}function qN(){var t=[],e=[],n=[],r;function i(){var a=0,s=Math.max(1,e.length);for(n=new Array(s-1);++a<s;)n[a-1]=ore(t,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:e[Sf(n,a)]}return o.invertExtent=function(a){var s=e.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let s of a)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(oo),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return qN().domain(t).range(e).unknown(r)},Xn.apply(o,arguments)}function GN(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[Sf(r,l,0,n)]:o}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return GN().domain([t,e]).range(i).unknown(o)},Xn.apply(Oo(a),arguments)}function KN(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[Sf(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return KN().domain(t).range(e).unknown(n)},Xn.apply(i,arguments)}const ky=new Date,Cy=new Date;function kt(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let u;do l.push(u=new Date(+o)),e(o,s),t(o);while(u<o&&o<a);return l},i.filter=o=>kt(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;e(a,-1),!o(a););else for(;--s>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(ky.setTime(+o),Cy.setTime(+a),t(ky),t(Cy),Math.floor(n(ky,Cy))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const fp=kt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);fp.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?kt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):fp);fp.range;const Gr=1e3,Un=Gr*60,Kr=Un*60,ui=Kr*24,p_=ui*7,xA=ui*30,jy=ui*365,Jo=kt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Gr)},(t,e)=>(e-t)/Gr,t=>t.getUTCSeconds());Jo.range;const m_=kt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Gr)},(t,e)=>{t.setTime(+t+e*Un)},(t,e)=>(e-t)/Un,t=>t.getMinutes());m_.range;const g_=kt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Un)},(t,e)=>(e-t)/Un,t=>t.getUTCMinutes());g_.range;const y_=kt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Gr-t.getMinutes()*Un)},(t,e)=>{t.setTime(+t+e*Kr)},(t,e)=>(e-t)/Kr,t=>t.getHours());y_.range;const v_=kt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Kr)},(t,e)=>(e-t)/Kr,t=>t.getUTCHours());v_.range;const Af=kt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Un)/ui,t=>t.getDate()-1);Af.range;const Ym=kt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ui,t=>t.getUTCDate()-1);Ym.range;const YN=kt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ui,t=>Math.floor(t/ui));YN.range;function Ca(t){return kt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Un)/p_)}const Xm=Ca(0),dp=Ca(1),tie=Ca(2),nie=Ca(3),qs=Ca(4),rie=Ca(5),iie=Ca(6);Xm.range;dp.range;tie.range;nie.range;qs.range;rie.range;iie.range;function ja(t){return kt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/p_)}const Qm=ja(0),hp=ja(1),oie=ja(2),aie=ja(3),Gs=ja(4),sie=ja(5),lie=ja(6);Qm.range;hp.range;oie.range;aie.range;Gs.range;sie.range;lie.range;const b_=kt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());b_.range;const x_=kt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());x_.range;const ci=kt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ci.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:kt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});ci.range;const fi=kt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());fi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:kt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});fi.range;function XN(t,e,n,r,i,o){const a=[[Jo,1,Gr],[Jo,5,5*Gr],[Jo,15,15*Gr],[Jo,30,30*Gr],[o,1,Un],[o,5,5*Un],[o,15,15*Un],[o,30,30*Un],[i,1,Kr],[i,3,3*Kr],[i,6,6*Kr],[i,12,12*Kr],[r,1,ui],[r,2,2*ui],[n,1,p_],[e,1,xA],[e,3,3*xA],[t,1,jy]];function s(u,c,f){const p=c<u;p&&([u,c]=[c,u]);const m=f&&typeof f.range=="function"?f:l(u,c,f),y=m?m.range(u,+c+1):[];return p?y.reverse():y}function l(u,c,f){const p=Math.abs(c-u)/f,m=n_(([,,_])=>_).right(a,p);if(m===a.length)return t.every(q0(u/jy,c/jy,f));if(m===0)return fp.every(Math.max(q0(u,c,f),1));const[y,w]=a[p/a[m-1][2]<a[m][2]/p?m-1:m];return y.every(w)}return[s,l]}const[uie,cie]=XN(fi,x_,Qm,YN,v_,g_),[fie,die]=XN(ci,b_,Xm,Af,y_,m_);function Ry(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Ny(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function iu(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function hie(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,u=ou(i),c=au(i),f=ou(o),p=au(o),m=ou(a),y=au(a),w=ou(s),_=au(s),g=ou(l),x=au(l),S={a:L,A:$,b:U,B:H,c:null,d:AA,e:AA,f:Die,g:qie,G:Kie,H:Rie,I:Nie,j:Mie,L:QN,m:$ie,M:Fie,p:Q,q:G,Q:OA,s:kA,S:Lie,u:Vie,U:Bie,V:zie,w:Uie,W:Wie,x:null,X:null,y:Hie,Y:Gie,Z:Yie,"%":IA},O={a:ne,A:ue,b:pe,B:ge,c:null,d:PA,e:PA,f:Zie,g:uoe,G:foe,H:Xie,I:Qie,j:Jie,L:ZN,m:eoe,M:toe,p:Ae,q:se,Q:OA,s:kA,S:noe,u:roe,U:ioe,V:ooe,w:aoe,W:soe,x:null,X:null,y:loe,Y:coe,Z:doe,"%":IA},E={a:j,A:C,b:R,B:k,c:D,d:EA,e:EA,f:Oie,g:SA,G:wA,H:TA,I:TA,j:Tie,L:Iie,m:Eie,M:Aie,p:I,q:Sie,Q:Cie,s:jie,S:Pie,u:vie,U:bie,V:xie,w:yie,W:_ie,x:V,X:z,y:SA,Y:wA,Z:wie,"%":kie};S.x=A(n,S),S.X=A(r,S),S.c=A(e,S),O.x=A(n,O),O.X=A(r,O),O.c=A(e,O);function A(Z,he){return function(ve){var X=[],We=-1,we=0,ft=Z.length,tt,Ct,Qn;for(ve instanceof Date||(ve=new Date(+ve));++We<ft;)Z.charCodeAt(We)===37&&(X.push(Z.slice(we,We)),(Ct=_A[tt=Z.charAt(++We)])!=null?tt=Z.charAt(++We):Ct=tt==="e"?" ":"0",(Qn=he[tt])&&(tt=Qn(ve,Ct)),X.push(tt),we=We+1);return X.push(Z.slice(we,We)),X.join("")}}function b(Z,he){return function(ve){var X=iu(1900,void 0,1),We=T(X,Z,ve+="",0),we,ft;if(We!=ve.length)return null;if("Q"in X)return new Date(X.Q);if("s"in X)return new Date(X.s*1e3+("L"in X?X.L:0));if(he&&!("Z"in X)&&(X.Z=0),"p"in X&&(X.H=X.H%12+X.p*12),X.m===void 0&&(X.m="q"in X?X.q:0),"V"in X){if(X.V<1||X.V>53)return null;"w"in X||(X.w=1),"Z"in X?(we=Ny(iu(X.y,0,1)),ft=we.getUTCDay(),we=ft>4||ft===0?hp.ceil(we):hp(we),we=Ym.offset(we,(X.V-1)*7),X.y=we.getUTCFullYear(),X.m=we.getUTCMonth(),X.d=we.getUTCDate()+(X.w+6)%7):(we=Ry(iu(X.y,0,1)),ft=we.getDay(),we=ft>4||ft===0?dp.ceil(we):dp(we),we=Af.offset(we,(X.V-1)*7),X.y=we.getFullYear(),X.m=we.getMonth(),X.d=we.getDate()+(X.w+6)%7)}else("W"in X||"U"in X)&&("w"in X||(X.w="u"in X?X.u%7:"W"in X?1:0),ft="Z"in X?Ny(iu(X.y,0,1)).getUTCDay():Ry(iu(X.y,0,1)).getDay(),X.m=0,X.d="W"in X?(X.w+6)%7+X.W*7-(ft+5)%7:X.w+X.U*7-(ft+6)%7);return"Z"in X?(X.H+=X.Z/100|0,X.M+=X.Z%100,Ny(X)):Ry(X)}}function T(Z,he,ve,X){for(var We=0,we=he.length,ft=ve.length,tt,Ct;We<we;){if(X>=ft)return-1;if(tt=he.charCodeAt(We++),tt===37){if(tt=he.charAt(We++),Ct=E[tt in _A?he.charAt(We++):tt],!Ct||(X=Ct(Z,ve,X))<0)return-1}else if(tt!=ve.charCodeAt(X++))return-1}return X}function I(Z,he,ve){var X=u.exec(he.slice(ve));return X?(Z.p=c.get(X[0].toLowerCase()),ve+X[0].length):-1}function j(Z,he,ve){var X=m.exec(he.slice(ve));return X?(Z.w=y.get(X[0].toLowerCase()),ve+X[0].length):-1}function C(Z,he,ve){var X=f.exec(he.slice(ve));return X?(Z.w=p.get(X[0].toLowerCase()),ve+X[0].length):-1}function R(Z,he,ve){var X=g.exec(he.slice(ve));return X?(Z.m=x.get(X[0].toLowerCase()),ve+X[0].length):-1}function k(Z,he,ve){var X=w.exec(he.slice(ve));return X?(Z.m=_.get(X[0].toLowerCase()),ve+X[0].length):-1}function D(Z,he,ve){return T(Z,e,he,ve)}function V(Z,he,ve){return T(Z,n,he,ve)}function z(Z,he,ve){return T(Z,r,he,ve)}function L(Z){return a[Z.getDay()]}function $(Z){return o[Z.getDay()]}function U(Z){return l[Z.getMonth()]}function H(Z){return s[Z.getMonth()]}function Q(Z){return i[+(Z.getHours()>=12)]}function G(Z){return 1+~~(Z.getMonth()/3)}function ne(Z){return a[Z.getUTCDay()]}function ue(Z){return o[Z.getUTCDay()]}function pe(Z){return l[Z.getUTCMonth()]}function ge(Z){return s[Z.getUTCMonth()]}function Ae(Z){return i[+(Z.getUTCHours()>=12)]}function se(Z){return 1+~~(Z.getUTCMonth()/3)}return{format:function(Z){var he=A(Z+="",S);return he.toString=function(){return Z},he},parse:function(Z){var he=b(Z+="",!1);return he.toString=function(){return Z},he},utcFormat:function(Z){var he=A(Z+="",O);return he.toString=function(){return Z},he},utcParse:function(Z){var he=b(Z+="",!0);return he.toString=function(){return Z},he}}}var _A={"-":"",_:" ",0:"0"},Ft=/^\s*\d+/,pie=/^%/,mie=/[\\^$*+?|[\]().{}]/g;function Oe(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function gie(t){return t.replace(mie,"\\$&")}function ou(t){return new RegExp("^(?:"+t.map(gie).join("|")+")","i")}function au(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function yie(t,e,n){var r=Ft.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function vie(t,e,n){var r=Ft.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function bie(t,e,n){var r=Ft.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function xie(t,e,n){var r=Ft.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function _ie(t,e,n){var r=Ft.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function wA(t,e,n){var r=Ft.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function SA(t,e,n){var r=Ft.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function wie(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Sie(t,e,n){var r=Ft.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Eie(t,e,n){var r=Ft.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function EA(t,e,n){var r=Ft.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Tie(t,e,n){var r=Ft.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function TA(t,e,n){var r=Ft.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Aie(t,e,n){var r=Ft.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Pie(t,e,n){var r=Ft.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Iie(t,e,n){var r=Ft.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Oie(t,e,n){var r=Ft.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function kie(t,e,n){var r=pie.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Cie(t,e,n){var r=Ft.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function jie(t,e,n){var r=Ft.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function AA(t,e){return Oe(t.getDate(),e,2)}function Rie(t,e){return Oe(t.getHours(),e,2)}function Nie(t,e){return Oe(t.getHours()%12||12,e,2)}function Mie(t,e){return Oe(1+Af.count(ci(t),t),e,3)}function QN(t,e){return Oe(t.getMilliseconds(),e,3)}function Die(t,e){return QN(t,e)+"000"}function $ie(t,e){return Oe(t.getMonth()+1,e,2)}function Fie(t,e){return Oe(t.getMinutes(),e,2)}function Lie(t,e){return Oe(t.getSeconds(),e,2)}function Vie(t){var e=t.getDay();return e===0?7:e}function Bie(t,e){return Oe(Xm.count(ci(t)-1,t),e,2)}function JN(t){var e=t.getDay();return e>=4||e===0?qs(t):qs.ceil(t)}function zie(t,e){return t=JN(t),Oe(qs.count(ci(t),t)+(ci(t).getDay()===4),e,2)}function Uie(t){return t.getDay()}function Wie(t,e){return Oe(dp.count(ci(t)-1,t),e,2)}function Hie(t,e){return Oe(t.getFullYear()%100,e,2)}function qie(t,e){return t=JN(t),Oe(t.getFullYear()%100,e,2)}function Gie(t,e){return Oe(t.getFullYear()%1e4,e,4)}function Kie(t,e){var n=t.getDay();return t=n>=4||n===0?qs(t):qs.ceil(t),Oe(t.getFullYear()%1e4,e,4)}function Yie(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Oe(e/60|0,"0",2)+Oe(e%60,"0",2)}function PA(t,e){return Oe(t.getUTCDate(),e,2)}function Xie(t,e){return Oe(t.getUTCHours(),e,2)}function Qie(t,e){return Oe(t.getUTCHours()%12||12,e,2)}function Jie(t,e){return Oe(1+Ym.count(fi(t),t),e,3)}function ZN(t,e){return Oe(t.getUTCMilliseconds(),e,3)}function Zie(t,e){return ZN(t,e)+"000"}function eoe(t,e){return Oe(t.getUTCMonth()+1,e,2)}function toe(t,e){return Oe(t.getUTCMinutes(),e,2)}function noe(t,e){return Oe(t.getUTCSeconds(),e,2)}function roe(t){var e=t.getUTCDay();return e===0?7:e}function ioe(t,e){return Oe(Qm.count(fi(t)-1,t),e,2)}function eM(t){var e=t.getUTCDay();return e>=4||e===0?Gs(t):Gs.ceil(t)}function ooe(t,e){return t=eM(t),Oe(Gs.count(fi(t),t)+(fi(t).getUTCDay()===4),e,2)}function aoe(t){return t.getUTCDay()}function soe(t,e){return Oe(hp.count(fi(t)-1,t),e,2)}function loe(t,e){return Oe(t.getUTCFullYear()%100,e,2)}function uoe(t,e){return t=eM(t),Oe(t.getUTCFullYear()%100,e,2)}function coe(t,e){return Oe(t.getUTCFullYear()%1e4,e,4)}function foe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Gs(t):Gs.ceil(t),Oe(t.getUTCFullYear()%1e4,e,4)}function doe(){return"+0000"}function IA(){return"%"}function OA(t){return+t}function kA(t){return Math.floor(+t/1e3)}var Ba,tM,nM;hoe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function hoe(t){return Ba=hie(t),tM=Ba.format,Ba.parse,nM=Ba.utcFormat,Ba.utcParse,Ba}function poe(t){return new Date(t)}function moe(t){return t instanceof Date?+t:+new Date(+t)}function __(t,e,n,r,i,o,a,s,l,u){var c=s_(),f=c.invert,p=c.domain,m=u(".%L"),y=u(":%S"),w=u("%I:%M"),_=u("%I %p"),g=u("%a %d"),x=u("%b %d"),S=u("%B"),O=u("%Y");function E(A){return(l(A)<A?m:s(A)<A?y:a(A)<A?w:o(A)<A?_:r(A)<A?i(A)<A?g:x:n(A)<A?S:O)(A)}return c.invert=function(A){return new Date(f(A))},c.domain=function(A){return arguments.length?p(Array.from(A,moe)):p().map(poe)},c.ticks=function(A){var b=p();return t(b[0],b[b.length-1],A??10)},c.tickFormat=function(A,b){return b==null?E:u(b)},c.nice=function(A){var b=p();return(!A||typeof A.range!="function")&&(A=e(b[0],b[b.length-1],A??10)),A?p(zN(b,A)):c},c.copy=function(){return Tf(c,__(t,e,n,r,i,o,a,s,l,u))},c}function goe(){return Xn.apply(__(fie,die,ci,b_,Xm,Af,y_,m_,Jo,tM).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function yoe(){return Xn.apply(__(uie,cie,fi,x_,Qm,Ym,v_,g_,Jo,nM).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Jm(){var t=0,e=1,n,r,i,o,a=ln,s=!1,l;function u(f){return f==null||isNaN(f=+f)?l:a(i===0?.5:(f=(o(f)-n)*i,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(a=f,u):a};function c(f){return function(p){var m,y;return arguments.length?([m,y]=p,a=f(m,y),u):[a(0),a(1)]}}return u.range=c(Pl),u.rangeRound=c(a_),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return o=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function ko(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function rM(){var t=Oo(Jm()(ln));return t.copy=function(){return ko(t,rM())},vi.apply(t,arguments)}function iM(){var t=c_(Jm()).domain([1,10]);return t.copy=function(){return ko(t,iM()).base(t.base())},vi.apply(t,arguments)}function oM(){var t=f_(Jm());return t.copy=function(){return ko(t,oM()).constant(t.constant())},vi.apply(t,arguments)}function w_(){var t=d_(Jm());return t.copy=function(){return ko(t,w_()).exponent(t.exponent())},vi.apply(t,arguments)}function voe(){return w_.apply(null,arguments).exponent(.5)}function aM(){var t=[],e=ln;function n(r){if(r!=null&&!isNaN(r=+r))return e((Sf(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(oo),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>ire(t,o/r))},n.copy=function(){return aM(e).domain(t)},vi.apply(n,arguments)}function Zm(){var t=0,e=.5,n=1,r=1,i,o,a,s,l,u=ln,c,f=!1,p;function m(w){return isNaN(w=+w)?p:(w=.5+((w=+c(w))-o)*(r*w<r*o?s:l),u(f?Math.max(0,Math.min(1,w)):w))}m.domain=function(w){return arguments.length?([t,e,n]=w,i=c(t=+t),o=c(e=+e),a=c(n=+n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,m):[t,e,n]},m.clamp=function(w){return arguments.length?(f=!!w,m):f},m.interpolator=function(w){return arguments.length?(u=w,m):u};function y(w){return function(_){var g,x,S;return arguments.length?([g,x,S]=_,u=kre(w,[g,x,S]),m):[u(0),u(.5),u(1)]}}return m.range=y(Pl),m.rangeRound=y(a_),m.unknown=function(w){return arguments.length?(p=w,m):p},function(w){return c=w,i=w(t),o=w(e),a=w(n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,m}}function sM(){var t=Oo(Zm()(ln));return t.copy=function(){return ko(t,sM())},vi.apply(t,arguments)}function lM(){var t=c_(Zm()).domain([.1,1,10]);return t.copy=function(){return ko(t,lM()).base(t.base())},vi.apply(t,arguments)}function uM(){var t=f_(Zm());return t.copy=function(){return ko(t,uM()).constant(t.constant())},vi.apply(t,arguments)}function S_(){var t=d_(Zm());return t.copy=function(){return ko(t,S_()).exponent(t.exponent())},vi.apply(t,arguments)}function boe(){return S_.apply(null,arguments).exponent(.5)}const CA=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Pc,scaleDiverging:sM,scaleDivergingLog:lM,scaleDivergingPow:S_,scaleDivergingSqrt:boe,scaleDivergingSymlog:uM,scaleIdentity:BN,scaleImplicit:G0,scaleLinear:cp,scaleLog:UN,scaleOrdinal:r_,scalePoint:Fu,scalePow:h_,scaleQuantile:qN,scaleQuantize:GN,scaleRadial:HN,scaleSequential:rM,scaleSequentialLog:iM,scaleSequentialPow:w_,scaleSequentialQuantile:aM,scaleSequentialSqrt:voe,scaleSequentialSymlog:oM,scaleSqrt:Zre,scaleSymlog:WN,scaleThreshold:KN,scaleTime:goe,scaleUtc:yoe,tickFormat:VN},Symbol.toStringTag,{value:"Module"}));var xoe=bl;function _oe(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(a!=null&&(s===void 0?a===a&&!xoe(a):n(a,s)))var s=a,l=o}return l}var cM=_oe;function woe(t,e){return t>e}var Soe=woe,Eoe=cM,Toe=Soe,Aoe=Al;function Poe(t){return t&&t.length?Eoe(t,Aoe,Toe):void 0}var Ioe=Poe;const eg=Ue(Ioe);function Ooe(t,e){return t<e}var koe=Ooe,Coe=cM,joe=koe,Roe=Al;function Noe(t){return t&&t.length?Coe(t,Roe,joe):void 0}var Moe=Noe;const tg=Ue(Moe);var Doe=$x,$oe=Io,Foe=vN,Loe=_n;function Voe(t,e){var n=Loe(t)?Doe:Foe;return n(t,$oe(e))}var Boe=Voe,zoe=gN,Uoe=Boe;function Woe(t,e){return zoe(Uoe(t,e),1)}var Hoe=Woe;const qoe=Ue(Hoe);var Goe=Jx;function Koe(t,e){return Goe(t,e)}var Yoe=Koe;const E_=Ue(Yoe);var Il=1e9,Xoe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},A_,et=!0,Kn="[DecimalError] ",oa=Kn+"Invalid argument: ",T_=Kn+"Exponent out of range: ",Ol=Math.floor,Wo=Math.pow,Qoe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,An,Nt=1e7,Xe=7,fM=9007199254740991,pp=Ol(fM/Xe),oe={};oe.absoluteValue=oe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};oe.comparedTo=oe.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};oe.decimalPlaces=oe.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Xe;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};oe.dividedBy=oe.div=function(t){return ei(this,new this.constructor(t))};oe.dividedToIntegerBy=oe.idiv=function(t){var e=this,n=e.constructor;return ze(ei(e,new n(t),0,1),n.precision)};oe.equals=oe.eq=function(t){return!this.cmp(t)};oe.exponent=function(){return _t(this)};oe.greaterThan=oe.gt=function(t){return this.cmp(t)>0};oe.greaterThanOrEqualTo=oe.gte=function(t){return this.cmp(t)>=0};oe.isInteger=oe.isint=function(){return this.e>this.d.length-2};oe.isNegative=oe.isneg=function(){return this.s<0};oe.isPositive=oe.ispos=function(){return this.s>0};oe.isZero=function(){return this.s===0};oe.lessThan=oe.lt=function(t){return this.cmp(t)<0};oe.lessThanOrEqualTo=oe.lte=function(t){return this.cmp(t)<1};oe.logarithm=oe.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(An))throw Error(Kn+"NaN");if(n.s<1)throw Error(Kn+(n.s?"NaN":"-Infinity"));return n.eq(An)?new r(0):(et=!1,e=ei(jc(n,o),jc(t,o),o),et=!0,ze(e,i))};oe.minus=oe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?pM(e,t):dM(e,(t.s=-t.s,t))};oe.modulo=oe.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Kn+"NaN");return n.s?(et=!1,e=ei(n,t,0,1).times(t),et=!0,n.minus(e)):ze(new r(n),i)};oe.naturalExponential=oe.exp=function(){return hM(this)};oe.naturalLogarithm=oe.ln=function(){return jc(this)};oe.negated=oe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};oe.plus=oe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?dM(e,t):pM(e,(t.s=-t.s,t))};oe.precision=oe.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(oa+t);if(e=_t(i)+1,r=i.d.length-1,n=r*Xe+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};oe.squareRoot=oe.sqrt=function(){var t,e,n,r,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Kn+"NaN")}for(t=_t(s),et=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=wr(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Ol((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(o=r,r=o.plus(ei(s,o,a+2)).times(.5),wr(o.d).slice(0,a)===(e=wr(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(ze(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if(e!="9999")break;a+=4}return et=!0,ze(r,n)};oe.times=oe.mul=function(t){var e,n,r,i,o,a,s,l,u,c=this,f=c.constructor,p=c.d,m=(t=new f(t)).d;if(!c.s||!t.s)return new f(0);for(t.s*=c.s,n=c.e+t.e,l=p.length,u=m.length,l<u&&(o=p,p=m,m=o,a=l,l=u,u=a),o=[],a=l+u,r=a;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)s=o[i]+m[r]*p[i-r-1]+e,o[i--]=s%Nt|0,e=s/Nt|0;o[i]=(o[i]+e)%Nt|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,et?ze(t,f.precision):t};oe.toDecimalPlaces=oe.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Dr(t,0,Il),e===void 0?e=r.rounding:Dr(e,0,8),ze(n,t+_t(n)+1,e))};oe.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=wa(r,!0):(Dr(t,0,Il),e===void 0?e=i.rounding:Dr(e,0,8),r=ze(new i(r),t+1,e),n=wa(r,!0,t+1)),n};oe.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?wa(i):(Dr(t,0,Il),e===void 0?e=o.rounding:Dr(e,0,8),r=ze(new o(i),t+_t(i)+1,e),n=wa(r.abs(),!1,t+_t(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};oe.toInteger=oe.toint=function(){var t=this,e=t.constructor;return ze(new e(t),_t(t)+1,e.rounding)};oe.toNumber=function(){return+this};oe.toPower=oe.pow=function(t){var e,n,r,i,o,a,s=this,l=s.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(An);if(s=new l(s),!s.s){if(t.s<1)throw Error(Kn+"Infinity");return s}if(s.eq(An))return s;if(r=l.precision,t.eq(An))return ze(s,r);if(e=t.e,n=t.d.length-1,a=e>=n,o=s.s,a){if((n=c<0?-c:c)<=fM){for(i=new l(An),e=Math.ceil(r/Xe+4),et=!1;n%2&&(i=i.times(s),RA(i.d,e)),n=Ol(n/2),n!==0;)s=s.times(s),RA(s.d,e);return et=!0,t.s<0?new l(An).div(i):ze(i,r)}}else if(o<0)throw Error(Kn+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,et=!1,i=t.times(jc(s,r+u)),et=!0,i=hM(i),i.s=o,i};oe.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=_t(i),r=wa(i,n<=o.toExpNeg||n>=o.toExpPos)):(Dr(t,1,Il),e===void 0?e=o.rounding:Dr(e,0,8),i=ze(new o(i),t,e),n=_t(i),r=wa(i,t<=n||n<=o.toExpNeg,t)),r};oe.toSignificantDigits=oe.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Dr(t,1,Il),e===void 0?e=r.rounding:Dr(e,0,8)),ze(new r(n),t,e)};oe.toString=oe.valueOf=oe.val=oe.toJSON=oe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=_t(t),n=t.constructor;return wa(t,e<=n.toExpNeg||e>=n.toExpPos)};function dM(t,e){var n,r,i,o,a,s,l,u,c=t.constructor,f=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),et?ze(e,f):e;if(l=t.d,u=e.d,a=t.e,i=e.e,l=l.slice(),o=a-i,o){for(o<0?(r=l,o=-o,s=u.length):(r=u,i=a,s=l.length),a=Math.ceil(f/Xe),s=a>s?a+1:s+1,o>s&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(s=l.length,o=u.length,s-o<0&&(o=s,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/Nt|0,l[o]%=Nt;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,et?ze(e,f):e}function Dr(t,e,n){if(t!==~~t||t<e||t>n)throw Error(oa+t)}function wr(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=Xe-r.length,n&&(o+=Ci(n)),o+=r;a=t[e],r=a+"",n=Xe-r.length,n&&(o+=Ci(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var ei=function(){function t(r,i){var o,a=0,s=r.length;for(r=r.slice();s--;)o=r[s]*i+a,r[s]=o%Nt|0,a=o/Nt|0;return a&&r.unshift(a),r}function e(r,i,o,a){var s,l;if(o!=a)l=o>a?1:-1;else for(s=l=0;s<o;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*Nt+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var s,l,u,c,f,p,m,y,w,_,g,x,S,O,E,A,b,T,I=r.constructor,j=r.s==i.s?1:-1,C=r.d,R=i.d;if(!r.s)return new I(r);if(!i.s)throw Error(Kn+"Division by zero");for(l=r.e-i.e,b=R.length,E=C.length,m=new I(j),y=m.d=[],u=0;R[u]==(C[u]||0);)++u;if(R[u]>(C[u]||0)&&--l,o==null?x=o=I.precision:a?x=o+(_t(r)-_t(i))+1:x=o,x<0)return new I(0);if(x=x/Xe+2|0,u=0,b==1)for(c=0,R=R[0],x++;(u<E||c)&&x--;u++)S=c*Nt+(C[u]||0),y[u]=S/R|0,c=S%R|0;else{for(c=Nt/(R[0]+1)|0,c>1&&(R=t(R,c),C=t(C,c),b=R.length,E=C.length),O=b,w=C.slice(0,b),_=w.length;_<b;)w[_++]=0;T=R.slice(),T.unshift(0),A=R[0],R[1]>=Nt/2&&++A;do c=0,s=e(R,w,b,_),s<0?(g=w[0],b!=_&&(g=g*Nt+(w[1]||0)),c=g/A|0,c>1?(c>=Nt&&(c=Nt-1),f=t(R,c),p=f.length,_=w.length,s=e(f,w,p,_),s==1&&(c--,n(f,b<p?T:R,p))):(c==0&&(s=c=1),f=R.slice()),p=f.length,p<_&&f.unshift(0),n(w,f,_),s==-1&&(_=w.length,s=e(R,w,b,_),s<1&&(c++,n(w,b<_?T:R,_))),_=w.length):s===0&&(c++,w=[0]),y[u++]=c,s&&w[0]?w[_++]=C[O]||0:(w=[C[O]],_=1);while((O++<E||w[0]!==void 0)&&x--)}return y[0]||y.shift(),m.e=l,ze(m,a?o+_t(m)+1:o)}}();function hM(t,e){var n,r,i,o,a,s,l=0,u=0,c=t.constructor,f=c.precision;if(_t(t)>16)throw Error(T_+_t(t));if(!t.s)return new c(An);for(et=!1,s=f,a=new c(.03125);t.abs().gte(.1);)t=t.times(a),u+=5;for(r=Math.log(Wo(2,u))/Math.LN10*2+5|0,s+=r,n=i=o=new c(An),c.precision=s;;){if(i=ze(i.times(t),s),n=n.times(++l),a=o.plus(ei(i,n,s)),wr(a.d).slice(0,s)===wr(o.d).slice(0,s)){for(;u--;)o=ze(o.times(o),s);return c.precision=f,e==null?(et=!0,ze(o,f)):o}o=a}}function _t(t){for(var e=t.e*Xe,n=t.d[0];n>=10;n/=10)e++;return e}function My(t,e,n){if(e>t.LN10.sd())throw et=!0,n&&(t.precision=n),Error(Kn+"LN10 precision limit exceeded");return ze(new t(t.LN10),e)}function Ci(t){for(var e="";t--;)e+="0";return e}function jc(t,e){var n,r,i,o,a,s,l,u,c,f=1,p=10,m=t,y=m.d,w=m.constructor,_=w.precision;if(m.s<1)throw Error(Kn+(m.s?"NaN":"-Infinity"));if(m.eq(An))return new w(0);if(e==null?(et=!1,u=_):u=e,m.eq(10))return e==null&&(et=!0),My(w,u);if(u+=p,w.precision=u,n=wr(y),r=n.charAt(0),o=_t(m),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(t),n=wr(m.d),r=n.charAt(0),f++;o=_t(m),r>1?(m=new w("0."+n),o++):m=new w(r+"."+n.slice(1))}else return l=My(w,u+2,_).times(o+""),m=jc(new w(r+"."+n.slice(1)),u-p).plus(l),w.precision=_,e==null?(et=!0,ze(m,_)):m;for(s=a=m=ei(m.minus(An),m.plus(An),u),c=ze(m.times(m),u),i=3;;){if(a=ze(a.times(c),u),l=s.plus(ei(a,new w(i),u)),wr(l.d).slice(0,u)===wr(s.d).slice(0,u))return s=s.times(2),o!==0&&(s=s.plus(My(w,u+2,_).times(o+""))),s=ei(s,new w(f),u),w.precision=_,e==null?(et=!0,ze(s,_)):s;s=l,i+=2}}function jA(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Ol(n/Xe),t.d=[],r=(n+1)%Xe,n<0&&(r+=Xe),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Xe;r<i;)t.d.push(+e.slice(r,r+=Xe));e=e.slice(r),r=Xe-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),et&&(t.e>pp||t.e<-pp))throw Error(T_+n)}else t.s=0,t.e=0,t.d=[0];return t}function ze(t,e,n){var r,i,o,a,s,l,u,c,f=t.d;for(a=1,o=f[0];o>=10;o/=10)a++;if(r=e-a,r<0)r+=Xe,i=e,u=f[c=0];else{if(c=Math.ceil((r+1)/Xe),o=f.length,c>=o)return t;for(u=o=f[c],a=1;o>=10;o/=10)a++;r%=Xe,i=r-Xe+a}if(n!==void 0&&(o=Wo(10,a-i-1),s=u/o%10|0,l=e<0||f[c+1]!==void 0||u%o,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/Wo(10,a-i):0:f[c-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(o=_t(t),f.length=1,e=e-o-1,f[0]=Wo(10,(Xe-e%Xe)%Xe),t.e=Ol(-e/Xe)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=c,o=1,c--):(f.length=c+1,o=Wo(10,Xe-r),f[c]=i>0?(u/Wo(10,a-i)%Wo(10,i)|0)*o:0),l)for(;;)if(c==0){(f[0]+=o)==Nt&&(f[0]=1,++t.e);break}else{if(f[c]+=o,f[c]!=Nt)break;f[c--]=0,o=1}for(r=f.length;f[--r]===0;)f.pop();if(et&&(t.e>pp||t.e<-pp))throw Error(T_+_t(t));return t}function pM(t,e){var n,r,i,o,a,s,l,u,c,f,p=t.constructor,m=p.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new p(t),et?ze(e,m):e;if(l=t.d,f=e.d,r=e.e,u=t.e,l=l.slice(),a=u-r,a){for(c=a<0,c?(n=l,a=-a,s=f.length):(n=f,r=u,s=l.length),i=Math.max(Math.ceil(m/Xe),s)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=f.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){c=l[i]<f[i];break}a=0}for(c&&(n=l,l=f,f=n,e.s=-e.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>a;){if(l[--i]<f[i]){for(o=i;o&&l[--o]===0;)l[o]=Nt-1;--l[o],l[i]+=Nt}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,et?ze(e,m):e):new p(0)}function wa(t,e,n){var r,i=_t(t),o=wr(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+Ci(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Ci(-i-1)+o,n&&(r=n-a)>0&&(o+=Ci(r))):i>=a?(o+=Ci(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+Ci(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=Ci(r))),t.s<0?"-"+o:o}function RA(t,e){if(t.length>e)return t.length=e,!0}function mM(t){var e,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(oa+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return jA(a,o.toString())}else if(typeof o!="string")throw Error(oa+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,Qoe.test(o))jA(a,o);else throw Error(oa+o)}if(i.prototype=oe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=mM,i.config=i.set=Joe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Joe(t){if(!t||typeof t!="object")throw Error(Kn+"Object expected");var e,n,r,i=["precision",1,Il,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Ol(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(oa+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(oa+n+": "+r);return this}var A_=mM(Xoe);An=new A_(1);const Fe=A_;function Zoe(t){return rae(t)||nae(t)||tae(t)||eae()}function eae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tae(t,e){if(t){if(typeof t=="string")return Q0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q0(t,e)}}function nae(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function rae(t){if(Array.isArray(t))return Q0(t)}function Q0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var iae=function(e){return e},gM={},yM=function(e){return e===gM},NA=function(e){return function n(){return arguments.length===0||arguments.length===1&&yM(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},oae=function t(e,n){return e===1?n:NA(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter(function(s){return s!==gM}).length;return a>=e?n.apply(void 0,i):t(e-a,NA(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var c=i.map(function(f){return yM(f)?l.shift():f});return n.apply(void 0,Zoe(c).concat(l))}))})},ng=function(e){return oae(e.length,e)},J0=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},aae=ng(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),sae=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return iae;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},Z0=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},vM=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n&&o.every(function(s,l){return s===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function lae(t){var e;return t===0?e=1:e=Math.floor(new Fe(t).abs().log(10).toNumber())+1,e}function uae(t,e,n){for(var r=new Fe(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var cae=ng(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),fae=ng(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),dae=ng(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const rg={rangeStep:uae,getDigitCount:lae,interpolateNumber:cae,uninterpolateNumber:fae,uninterpolateTruncation:dae};function eb(t){return mae(t)||pae(t)||bM(t)||hae()}function hae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pae(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function mae(t){if(Array.isArray(t))return tb(t)}function Rc(t,e){return vae(t)||yae(t,e)||bM(t,e)||gae()}function gae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bM(t,e){if(t){if(typeof t=="string")return tb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tb(t,e)}}function tb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yae(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return n}}function vae(t){if(Array.isArray(t))return t}function xM(t){var e=Rc(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function _M(t,e,n){if(t.lte(0))return new Fe(0);var r=rg.getDigitCount(t.toNumber()),i=new Fe(10).pow(r),o=t.div(i),a=r!==1?.05:.1,s=new Fe(Math.ceil(o.div(a).toNumber())).add(n).mul(a),l=s.mul(i);return e?l:new Fe(Math.ceil(l))}function bae(t,e,n){var r=1,i=new Fe(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new Fe(10).pow(rg.getDigitCount(t)-1),i=new Fe(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Fe(Math.floor(t)))}else t===0?i=new Fe(Math.floor((e-1)/2)):n||(i=new Fe(Math.floor(t)));var a=Math.floor((e-1)/2),s=sae(aae(function(l){return i.add(new Fe(l-a).mul(r)).toNumber()}),J0);return s(0,e)}function wM(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Fe(0),tickMin:new Fe(0),tickMax:new Fe(0)};var o=_M(new Fe(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new Fe(0):(a=new Fe(t).add(e).div(2),a=a.sub(new Fe(a).mod(o)));var s=Math.ceil(a.sub(t).div(o).toNumber()),l=Math.ceil(new Fe(e).sub(a).div(o).toNumber()),u=s+l+1;return u>n?wM(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,s=e>0?s:s+(n-u)),{step:o,tickMin:a.sub(new Fe(s).mul(o)),tickMax:a.add(new Fe(l).mul(o))})}function xae(t){var e=Rc(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),s=xM([n,r]),l=Rc(s,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var f=c===1/0?[u].concat(eb(J0(0,i-1).map(function(){return 1/0}))):[].concat(eb(J0(0,i-1).map(function(){return-1/0})),[c]);return n>r?Z0(f):f}if(u===c)return bae(u,i,o);var p=wM(u,c,a,o),m=p.step,y=p.tickMin,w=p.tickMax,_=rg.rangeStep(y,w.add(new Fe(.1).mul(m)),m);return n>r?Z0(_):_}function _ae(t,e){var n=Rc(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=xM([r,i]),s=Rc(a,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(e,2),f=_M(new Fe(u).sub(l).div(c-1),o,0),p=[].concat(eb(rg.rangeStep(new Fe(l),new Fe(u).sub(new Fe(.99).mul(f)),f)),[u]);return r>i?Z0(p):p}var wae=vM(xae),Sae=vM(_ae),Eae="Invariant failed";function Sa(t,e){throw new Error(Eae)}var Tae=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Ks(t){"@babel/helpers - typeof";return Ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ks(t)}function mp(){return mp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mp.apply(this,arguments)}function Aae(t,e){return kae(t)||Oae(t,e)||Iae(t,e)||Pae()}function Pae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Iae(t,e){if(t){if(typeof t=="string")return MA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MA(t,e)}}function MA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Oae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function kae(t){if(Array.isArray(t))return t}function Cae(t,e){if(t==null)return{};var n=jae(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Rae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,TM(r.key),r)}}function Mae(t,e,n){return e&&Nae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dae(t,e,n){return e=gp(e),$ae(t,SM()?Reflect.construct(e,n||[],gp(t).constructor):e.apply(t,n))}function $ae(t,e){if(e&&(Ks(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fae(t)}function Fae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SM=function(){return!!t})()}function gp(t){return gp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gp(t)}function Lae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nb(t,e)}function nb(t,e){return nb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},nb(t,e)}function EM(t,e,n){return e=TM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TM(t){var e=Vae(t,"string");return Ks(e)=="symbol"?e:e+""}function Vae(t,e){if(Ks(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ks(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ig=function(t){function e(){return Rae(this,e),Dae(this,e,arguments)}return Lae(e,t),Mae(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,a=r.width,s=r.dataKey,l=r.data,u=r.dataPointFormatter,c=r.xAxis,f=r.yAxis,p=Cae(r,Tae),m=ke(p,!1);this.props.direction==="x"&&c.type!=="number"&&Sa();var y=l.map(function(w){var _=u(w,s),g=_.x,x=_.y,S=_.value,O=_.errorVal;if(!O)return null;var E=[],A,b;if(Array.isArray(O)){var T=Aae(O,2);A=T[0],b=T[1]}else A=b=O;if(o==="vertical"){var I=c.scale,j=x+i,C=j+a,R=j-a,k=I(S-A),D=I(S+b);E.push({x1:D,y1:C,x2:D,y2:R}),E.push({x1:k,y1:j,x2:D,y2:j}),E.push({x1:k,y1:C,x2:k,y2:R})}else if(o==="horizontal"){var V=f.scale,z=g+i,L=z-a,$=z+a,U=V(S-A),H=V(S+b);E.push({x1:L,y1:H,x2:$,y2:H}),E.push({x1:z,y1:U,x2:z,y2:H}),E.push({x1:L,y1:U,x2:$,y2:U})}return F.createElement(Dt,mp({className:"recharts-errorBar",key:"bar-".concat(E.map(function(Q){return"".concat(Q.x1,"-").concat(Q.x2,"-").concat(Q.y1,"-").concat(Q.y2)}))},m),E.map(function(Q){return F.createElement("line",mp({},Q,{key:"line-".concat(Q.x1,"-").concat(Q.x2,"-").concat(Q.y1,"-").concat(Q.y2)}))}))});return F.createElement(Dt,{className:"recharts-errorBars"},y)}}])}(F.Component);EM(ig,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});EM(ig,"displayName","ErrorBar");function Nc(t){"@babel/helpers - typeof";return Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nc(t)}function DA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DA(Object(n),!0).forEach(function(r){Bae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bae(t,e,n){return e=zae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zae(t){var e=Uae(t,"string");return Nc(e)=="symbol"?e:e+""}function Uae(t,e){if(Nc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var AM=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,a=Tn(n,ws);if(!a)return null;var s=ws.defaultProps,l=s!==void 0?Fo(Fo({},s),a.props):{},u;return a.props&&a.props.payload?u=a.props&&a.props.payload:o==="children"?u=(r||[]).reduce(function(c,f){var p=f.item,m=f.props,y=m.sectors||m.data||[];return c.concat(y.map(function(w){return{type:a.props.iconType||p.props.legendType,value:w.name,color:w.fill,payload:w}}))},[]):u=(r||[]).map(function(c){var f=c.item,p=f.type.defaultProps,m=p!==void 0?Fo(Fo({},p),f.props):{},y=m.dataKey,w=m.name,_=m.legendType,g=m.hide;return{inactive:g,dataKey:y,type:l.iconType||_||"square",color:P_(f),value:w||y,payload:m}}),Fo(Fo(Fo({},l),ws.getWithHeight(a,i)),{},{payload:u,item:a})};function Mc(t){"@babel/helpers - typeof";return Mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mc(t)}function $A(t){return Gae(t)||qae(t)||Hae(t)||Wae()}function Wae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hae(t,e){if(t){if(typeof t=="string")return rb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rb(t,e)}}function qae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Gae(t){if(Array.isArray(t))return rb(t)}function rb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function FA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ct(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FA(Object(n),!0).forEach(function(r){Es(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Es(t,e,n){return e=Kae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kae(t){var e=Yae(t,"string");return Mc(e)=="symbol"?e:e+""}function Yae(t,e){if(Mc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $r(t,e,n){return je(t)||je(e)?n:It(e)?Hn(t,e,n):xe(e)?e(t):n}function Lu(t,e,n,r){var i=qoe(t,function(s){return $r(s,e)});if(n==="number"){var o=i.filter(function(s){return te(s)||parseFloat(s)});return o.length?[tg(o),eg(o)]:[1/0,-1/0]}var a=r?i.filter(function(s){return!je(s)}):i;return a.map(function(s){return It(s)||s instanceof Date?s:""})}var Xae=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,u=0;u<s;u++){var c=u>0?i[u-1].coordinate:i[s-1].coordinate,f=i[u].coordinate,p=u>=s-1?i[0].coordinate:i[u+1].coordinate,m=void 0;if(lr(f-c)!==lr(p-f)){var y=[];if(lr(p-f)===lr(l[1]-l[0])){m=p;var w=f+l[1]-l[0];y[0]=Math.min(w,(w+c)/2),y[1]=Math.max(w,(w+c)/2)}else{m=c;var _=p+l[1]-l[0];y[0]=Math.min(f,(_+f)/2),y[1]=Math.max(f,(_+f)/2)}var g=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(e>g[0]&&e<=g[1]||e>=y[0]&&e<=y[1]){a=i[u].index;break}}else{var x=Math.min(c,p),S=Math.max(c,p);if(e>(x+f)/2&&e<=(S+f)/2){a=i[u].index;break}}}else for(var O=0;O<s;O++)if(O===0&&e<=(r[O].coordinate+r[O+1].coordinate)/2||O>0&&O<s-1&&e>(r[O].coordinate+r[O-1].coordinate)/2&&e<=(r[O].coordinate+r[O+1].coordinate)/2||O===s-1&&e>(r[O].coordinate+r[O-1].coordinate)/2){a=r[O].index;break}return a},P_=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?ct(ct({},e.type.defaultProps),e.props):e.props,a=o.stroke,s=o.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:s;break;default:l=s;break}return l},Qae=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var a={},s=Object.keys(o),l=0,u=s.length;l<u;l++)for(var c=o[s[l]].stackGroups,f=Object.keys(c),p=0,m=f.length;p<m;p++){var y=c[f[p]],w=y.items,_=y.cateAxisId,g=w.filter(function(b){return Jr(b.type).indexOf("Bar")>=0});if(g&&g.length){var x=g[0].type.defaultProps,S=x!==void 0?ct(ct({},x),g[0].props):g[0].props,O=S.barSize,E=S[_];a[E]||(a[E]=[]);var A=je(O)?n:O;a[E].push({item:g[0],stackList:g.slice(1),barSize:je(A)?void 0:_a(A,r,0)})}}return a},Jae=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,a=o===void 0?[]:o,s=e.maxBarSize,l=a.length;if(l<1)return null;var u=_a(n,i,0,!0),c,f=[];if(a[0].barSize===+a[0].barSize){var p=!1,m=i/l,y=a.reduce(function(O,E){return O+E.barSize||0},0);y+=(l-1)*u,y>=i&&(y-=(l-1)*u,u=0),y>=i&&m>0&&(p=!0,m*=.9,y=l*m);var w=(i-y)/2>>0,_={offset:w-u,size:0};c=a.reduce(function(O,E){var A={item:E.item,position:{offset:_.offset+_.size+u,size:p?m:E.barSize}},b=[].concat($A(O),[A]);return _=b[b.length-1].position,E.stackList&&E.stackList.length&&E.stackList.forEach(function(T){b.push({item:T,position:_})}),b},f)}else{var g=_a(r,i,0,!0);i-2*g-(l-1)*u<=0&&(u=0);var x=(i-2*g-(l-1)*u)/l;x>1&&(x>>=0);var S=s===+s?Math.min(x,s):x;c=a.reduce(function(O,E,A){var b=[].concat($A(O),[{item:E.item,position:{offset:g+(x+u)*A+(x-S)/2,size:S}}]);return E.stackList&&E.stackList.length&&E.stackList.forEach(function(T){b.push({item:T,position:b[b.length-1].position})}),b},f)}return c},Zae=function(e,n,r,i){var o=r.children,a=r.width,s=r.margin,l=a-(s.left||0)-(s.right||0),u=AM({children:o,legendWidth:l});if(u){var c=i||{},f=c.width,p=c.height,m=u.align,y=u.verticalAlign,w=u.layout;if((w==="vertical"||w==="horizontal"&&y==="middle")&&m!=="center"&&te(e[m]))return ct(ct({},e),{},Es({},m,e[m]+(f||0)));if((w==="horizontal"||w==="vertical"&&m==="center")&&y!=="middle"&&te(e[y]))return ct(ct({},e),{},Es({},y,e[y]+(p||0)))}return e},ese=function(e,n,r){return je(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},PM=function(e,n,r,i,o){var a=n.props.children,s=dr(a,ig).filter(function(u){return ese(i,o,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var f=$r(c,r);if(je(f))return u;var p=Array.isArray(f)?[tg(f),eg(f)]:[f,f],m=l.reduce(function(y,w){var _=$r(c,w,0),g=p[0]-Math.abs(Array.isArray(_)?_[0]:_),x=p[1]+Math.abs(Array.isArray(_)?_[1]:_);return[Math.min(g,y[0]),Math.max(x,y[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},tse=function(e,n,r,i,o){var a=n.map(function(s){return PM(e,s,r,o,i)}).filter(function(s){return!je(s)});return a&&a.length?a.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},IM=function(e,n,r,i,o){var a=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&PM(e,l,u,i)||Lu(e,u,r,o)});if(r==="number")return a.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return a.reduce(function(l,u){for(var c=0,f=u.length;c<f;c++)s[u[c]]||(s[u[c]]=!0,l.push(u[c]));return l},[])},OM=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},kM=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var o,a,s=e.map(function(l){return l.coordinate===n&&(o=!0),l.coordinate===r&&(a=!0),l.coordinate});return o||s.push(n),a||s.push(r),s},Yr=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,a=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?lr(s[0]-s[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(f){var p=o?o.indexOf(f):f;return{coordinate:i(p)+u,value:f,offset:u}});return c.filter(function(f){return!xf(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,p){return{coordinate:i(f)+u,value:f,index:p,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,p){return{coordinate:i(f)+u,value:o?o[f]:f,index:p,offset:u}})},Dy=new WeakMap,xd=function(e,n){if(typeof n!="function")return e;Dy.has(e)||Dy.set(e,new WeakMap);var r=Dy.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},nse=function(e,n,r){var i=e.scale,o=e.type,a=e.layout,s=e.axisType;if(i==="auto")return a==="radial"&&s==="radiusAxis"?{scale:Pc(),realScaleType:"band"}:a==="radial"&&s==="angleAxis"?{scale:cp(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Fu(),realScaleType:"point"}:o==="category"?{scale:Pc(),realScaleType:"band"}:{scale:cp(),realScaleType:"linear"};if(xa(i)){var l="scale".concat(Bm(i));return{scale:(CA[l]||Fu)(),realScaleType:CA[l]?l:"point"}}return xe(i)?{scale:i}:{scale:Fu(),realScaleType:"point"}},LA=1e-4,rse=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-LA,a=Math.max(i[0],i[1])+LA,s=e(n[0]),l=e(n[r-1]);(s<o||s>a||l<o||l>a)&&e.domain([n[0],n[r-1]])}},ise=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},ose=function(e,n){if(!n||n.length!==2||!te(n[0])||!te(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!te(e[0])||e[0]<r)&&(o[0]=r),(!te(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},ase=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0,s=0;s<n;++s){var l=xf(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1]):(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1])}},sse=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0;a<n;++a){var s=xf(e[a][r][1])?e[a][r][0]:e[a][r][1];s>=0?(e[a][r][0]=o,e[a][r][1]=o+s,o=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},lse={sign:ase,expand:SG,none:Vs,silhouette:EG,wiggle:TG,positive:sse},use=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),o=lse[r],a=wG().keys(i).value(function(s,l){return+$r(s,l,0)}).order(I0).offset(o);return a(e)},cse=function(e,n,r,i,o,a){if(!e)return null;var s=a?n.reverse():n,l={},u=s.reduce(function(f,p){var m,y=(m=p.type)!==null&&m!==void 0&&m.defaultProps?ct(ct({},p.type.defaultProps),p.props):p.props,w=y.stackId,_=y.hide;if(_)return f;var g=y[r],x=f[g]||{hasStack:!1,stackGroups:{}};if(It(w)){var S=x.stackGroups[w]||{numericAxisId:r,cateAxisId:i,items:[]};S.items.push(p),x.hasStack=!0,x.stackGroups[w]=S}else x.stackGroups[Vm("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[p]};return ct(ct({},f),{},Es({},g,x))},l),c={};return Object.keys(u).reduce(function(f,p){var m=u[p];if(m.hasStack){var y={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(w,_){var g=m.stackGroups[_];return ct(ct({},w),{},Es({},_,{numericAxisId:r,cateAxisId:i,items:g.items,stackedData:use(e,g.items,o)}))},y)}return ct(ct({},f),{},Es({},p,m))},c)},fse=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,a=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=wae(u,o,s);return e.domain([tg(c),eg(c)]),{niceTicks:c}}if(o&&i==="number"){var f=e.domain(),p=Sae(f,o,s);return{niceTicks:p}}return null},VA=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,a=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=$r(a,n.dataKey,n.domain[s]);return je(l)?null:n.scale(l)-o/2+i},dse=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},hse=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?ct(ct({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(It(o)){var a=n[o];if(a){var s=a.items.indexOf(e);return s>=0?a.stackedData[s]:null}}return null},pse=function(e){return e.reduce(function(n,r){return[tg(r.concat([n[0]]).filter(te)),eg(r.concat([n[1]]).filter(te))]},[1/0,-1/0])},CM=function(e,n,r){return Object.keys(e).reduce(function(i,o){var a=e[o],s=a.stackedData,l=s.reduce(function(u,c){var f=pse(c.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},BA=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,zA=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ib=function(e,n,r){if(xe(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(te(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(BA.test(e[0])){var o=+BA.exec(e[0])[1];i[0]=n[0]-o}else xe(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(te(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(zA.test(e[1])){var a=+zA.exec(e[1])[1];i[1]=n[1]+a}else xe(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},yp=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=e_(n,function(f){return f.coordinate}),a=1/0,s=1,l=o.length;s<l;s++){var u=o[s],c=o[s-1];a=Math.min((u.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},UA=function(e,n,r){return!e||!e.length||E_(e,Hn(r,"type.defaultProps.domain"))?n:e},jM=function(e,n){var r=e.type.defaultProps?ct(ct({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,a=r.unit,s=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return ct(ct({},ke(e,!1)),{},{dataKey:i,unit:a,formatter:s,name:o||i,color:P_(e),value:$r(n,i),type:l,payload:n,chartType:u,hide:c})};function Dc(t){"@babel/helpers - typeof";return Dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dc(t)}function WA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WA(Object(n),!0).forEach(function(r){mse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mse(t,e,n){return e=gse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gse(t){var e=yse(t,"string");return Dc(e)=="symbol"?e:e+""}function yse(t,e){if(Dc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vp=Math.PI/180,vse=function(e){return e*180/Math.PI},Ut=function(e,n,r,i){return{x:e+Math.cos(-vp*i)*r,y:n+Math.sin(-vp*i)*r}},bse=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-a,2))},xse=function(e,n){var r=e.x,i=e.y,o=n.cx,a=n.cy,s=bse({x:r,y:i},{x:o,y:a});if(s<=0)return{radius:s};var l=(r-o)/s,u=Math.acos(l);return i>a&&(u=2*Math.PI-u),{radius:s,angle:vse(u),angleInRadian:u}},_se=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return{startAngle:n-a*360,endAngle:r-a*360}},wse=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),a=Math.floor(i/360),s=Math.min(o,a);return e+s*360},qA=function(e,n){var r=e.x,i=e.y,o=xse({x:r,y:i},n),a=o.radius,s=o.angle,l=n.innerRadius,u=n.outerRadius;if(a<l||a>u)return!1;if(a===0)return!0;var c=_se(n),f=c.startAngle,p=c.endAngle,m=s,y;if(f<=p){for(;m>p;)m-=360;for(;m<f;)m+=360;y=m>=f&&m<=p}else{for(;m>f;)m-=360;for(;m<p;)m+=360;y=m>=p&&m<=f}return y?HA(HA({},n),{},{radius:a,angle:wse(m,n)}):null};function $c(t){"@babel/helpers - typeof";return $c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$c(t)}var Sse=["offset"];function Ese(t){return Ise(t)||Pse(t)||Ase(t)||Tse()}function Tse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ase(t,e){if(t){if(typeof t=="string")return ob(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ob(t,e)}}function Pse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ise(t){if(Array.isArray(t))return ob(t)}function ob(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ose(t,e){if(t==null)return{};var n=kse(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function kse(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function GA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Et(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GA(Object(n),!0).forEach(function(r){Cse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cse(t,e,n){return e=jse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jse(t){var e=Rse(t,"string");return $c(e)=="symbol"?e:e+""}function Rse(t,e){if($c(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($c(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fc(){return Fc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fc.apply(this,arguments)}var Nse=function(e){var n=e.value,r=e.formatter,i=je(e.children)?n:e.children;return xe(r)?r(i):i},Mse=function(e,n){var r=lr(n-e),i=Math.min(Math.abs(n-e),360);return r*i},Dse=function(e,n,r){var i=e.position,o=e.viewBox,a=e.offset,s=e.className,l=o,u=l.cx,c=l.cy,f=l.innerRadius,p=l.outerRadius,m=l.startAngle,y=l.endAngle,w=l.clockWise,_=(f+p)/2,g=Mse(m,y),x=g>=0?1:-1,S,O;i==="insideStart"?(S=m+x*a,O=w):i==="insideEnd"?(S=y-x*a,O=!w):i==="end"&&(S=y+x*a,O=w),O=g<=0?O:!O;var E=Ut(u,c,_,S),A=Ut(u,c,_,S+(O?1:-1)*359),b="M".concat(E.x,",").concat(E.y,`
    A`).concat(_,",").concat(_,",0,1,").concat(O?0:1,`,
    `).concat(A.x,",").concat(A.y),T=je(e.id)?Vm("recharts-radial-line-"):e.id;return F.createElement("text",Fc({},r,{dominantBaseline:"central",className:Ce("recharts-radial-bar-label",s)}),F.createElement("defs",null,F.createElement("path",{id:T,d:b})),F.createElement("textPath",{xlinkHref:"#".concat(T)},n))},$se=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,a=o.cx,s=o.cy,l=o.innerRadius,u=o.outerRadius,c=o.startAngle,f=o.endAngle,p=(c+f)/2;if(i==="outside"){var m=Ut(a,s,u+r,p),y=m.x,w=m.y;return{x:y,y:w,textAnchor:y>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var _=(l+u)/2,g=Ut(a,s,_,p),x=g.x,S=g.y;return{x,y:S,textAnchor:"middle",verticalAnchor:"middle"}},Fse=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,a=n,s=a.x,l=a.y,u=a.width,c=a.height,f=c>=0?1:-1,p=f*i,m=f>0?"end":"start",y=f>0?"start":"end",w=u>=0?1:-1,_=w*i,g=w>0?"end":"start",x=w>0?"start":"end";if(o==="top"){var S={x:s+u/2,y:l-f*i,textAnchor:"middle",verticalAnchor:m};return Et(Et({},S),r?{height:Math.max(l-r.y,0),width:u}:{})}if(o==="bottom"){var O={x:s+u/2,y:l+c+p,textAnchor:"middle",verticalAnchor:y};return Et(Et({},O),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(o==="left"){var E={x:s-_,y:l+c/2,textAnchor:g,verticalAnchor:"middle"};return Et(Et({},E),r?{width:Math.max(E.x-r.x,0),height:c}:{})}if(o==="right"){var A={x:s+u+_,y:l+c/2,textAnchor:x,verticalAnchor:"middle"};return Et(Et({},A),r?{width:Math.max(r.x+r.width-A.x,0),height:c}:{})}var b=r?{width:u,height:c}:{};return o==="insideLeft"?Et({x:s+_,y:l+c/2,textAnchor:x,verticalAnchor:"middle"},b):o==="insideRight"?Et({x:s+u-_,y:l+c/2,textAnchor:g,verticalAnchor:"middle"},b):o==="insideTop"?Et({x:s+u/2,y:l+p,textAnchor:"middle",verticalAnchor:y},b):o==="insideBottom"?Et({x:s+u/2,y:l+c-p,textAnchor:"middle",verticalAnchor:m},b):o==="insideTopLeft"?Et({x:s+_,y:l+p,textAnchor:x,verticalAnchor:y},b):o==="insideTopRight"?Et({x:s+u-_,y:l+p,textAnchor:g,verticalAnchor:y},b):o==="insideBottomLeft"?Et({x:s+_,y:l+c-p,textAnchor:x,verticalAnchor:m},b):o==="insideBottomRight"?Et({x:s+u-_,y:l+c-p,textAnchor:g,verticalAnchor:m},b):xl(o)&&(te(o.x)||Xo(o.x))&&(te(o.y)||Xo(o.y))?Et({x:s+_a(o.x,u),y:l+_a(o.y,c),textAnchor:"end",verticalAnchor:"end"},b):Et({x:s+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},b)},Lse=function(e){return"cx"in e&&te(e.cx)};function tn(t){var e=t.offset,n=e===void 0?5:e,r=Ose(t,Sse),i=Et({offset:n},r),o=i.viewBox,a=i.position,s=i.value,l=i.children,u=i.content,c=i.className,f=c===void 0?"":c,p=i.textBreakAll;if(!o||je(s)&&je(l)&&!M.isValidElement(u)&&!xe(u))return null;if(M.isValidElement(u))return M.cloneElement(u,i);var m;if(xe(u)){if(m=M.createElement(u,i),M.isValidElement(m))return m}else m=Nse(i);var y=Lse(o),w=ke(i,!0);if(y&&(a==="insideStart"||a==="insideEnd"||a==="end"))return Dse(i,m,w);var _=y?$se(i):Fse(i);return F.createElement(np,Fc({className:Ce("recharts-label",f)},w,_,{breakAll:p}),m)}tn.displayName="Label";var RM=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,a=e.endAngle,s=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,f=e.x,p=e.y,m=e.top,y=e.left,w=e.width,_=e.height,g=e.clockWise,x=e.labelViewBox;if(x)return x;if(te(w)&&te(_)){if(te(f)&&te(p))return{x:f,y:p,width:w,height:_};if(te(m)&&te(y))return{x:m,y,width:w,height:_}}return te(f)&&te(p)?{x:f,y:p,width:0,height:0}:te(n)&&te(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:a||i||0,innerRadius:u||0,outerRadius:c||l||s||0,clockWise:g}:e.viewBox?e.viewBox:{}},Vse=function(e,n){return e?e===!0?F.createElement(tn,{key:"label-implicit",viewBox:n}):It(e)?F.createElement(tn,{key:"label-implicit",viewBox:n,value:e}):M.isValidElement(e)?e.type===tn?M.cloneElement(e,{key:"label-implicit",viewBox:n}):F.createElement(tn,{key:"label-implicit",content:e,viewBox:n}):xe(e)?F.createElement(tn,{key:"label-implicit",content:e,viewBox:n}):xl(e)?F.createElement(tn,Fc({viewBox:n},e,{key:"label-implicit"})):null:null},Bse=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=RM(e),a=dr(i,tn).map(function(l,u){return M.cloneElement(l,{viewBox:n||o,key:"label-".concat(u)})});if(!r)return a;var s=Vse(e.label,n||o);return[s].concat(Ese(a))};tn.parseViewBox=RM;tn.renderCallByParent=Bse;function zse(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Use=zse;const Wse=Ue(Use);function Lc(t){"@babel/helpers - typeof";return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lc(t)}var Hse=["valueAccessor"],qse=["data","dataKey","clockWise","id","textBreakAll"];function Gse(t){return Qse(t)||Xse(t)||Yse(t)||Kse()}function Kse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yse(t,e){if(t){if(typeof t=="string")return ab(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ab(t,e)}}function Xse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Qse(t){if(Array.isArray(t))return ab(t)}function ab(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bp(){return bp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bp.apply(this,arguments)}function KA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KA(Object(n),!0).forEach(function(r){Jse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jse(t,e,n){return e=Zse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zse(t){var e=ele(t,"string");return Lc(e)=="symbol"?e:e+""}function ele(t,e){if(Lc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function XA(t,e){if(t==null)return{};var n=tle(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tle(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var nle=function(e){return Array.isArray(e.value)?Wse(e.value):e.value};function aa(t){var e=t.valueAccessor,n=e===void 0?nle:e,r=XA(t,Hse),i=r.data,o=r.dataKey,a=r.clockWise,s=r.id,l=r.textBreakAll,u=XA(r,qse);return!i||!i.length?null:F.createElement(Dt,{className:"recharts-label-list"},i.map(function(c,f){var p=je(o)?n(c,f):$r(c&&c.payload,o),m=je(s)?{}:{id:"".concat(s,"-").concat(f)};return F.createElement(tn,bp({},ke(c,!0),u,m,{parentViewBox:c.parentViewBox,value:p,textBreakAll:l,viewBox:tn.parseViewBox(je(a)?c:YA(YA({},c),{},{clockWise:a})),key:"label-".concat(f),index:f}))}))}aa.displayName="LabelList";function rle(t,e){return t?t===!0?F.createElement(aa,{key:"labelList-implicit",data:e}):F.isValidElement(t)||xe(t)?F.createElement(aa,{key:"labelList-implicit",data:e,content:t}):xl(t)?F.createElement(aa,bp({data:e},t,{key:"labelList-implicit"})):null:null}function ile(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=dr(r,aa).map(function(a,s){return M.cloneElement(a,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var o=rle(t.label,e);return[o].concat(Gse(i))}aa.renderCallByParent=ile;function Vc(t){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vc(t)}function sb(){return sb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sb.apply(this,arguments)}function QA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function JA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QA(Object(n),!0).forEach(function(r){ole(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ole(t,e,n){return e=ale(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ale(t){var e=sle(t,"string");return Vc(e)=="symbol"?e:e+""}function sle(t,e){if(Vc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lle=function(e,n){var r=lr(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},_d=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,a=e.sign,s=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(s?1:-1)+i,f=Math.asin(l/c)/vp,p=u?o:o+a*f,m=Ut(n,r,c,p),y=Ut(n,r,i,p),w=u?o-a*f:o,_=Ut(n,r,c*Math.cos(f*vp),w);return{center:m,circleTangency:y,lineTangency:_,theta:f}},NM=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.startAngle,s=e.endAngle,l=lle(a,s),u=a+l,c=Ut(n,r,o,a),f=Ut(n,r,o,u),p="M ".concat(c.x,",").concat(c.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var m=Ut(n,r,i,a),y=Ut(n,r,i,u);p+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else p+="L ".concat(n,",").concat(r," Z");return p},ule=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,f=lr(c-u),p=_d({cx:n,cy:r,radius:o,angle:u,sign:f,cornerRadius:a,cornerIsExternal:l}),m=p.circleTangency,y=p.lineTangency,w=p.theta,_=_d({cx:n,cy:r,radius:o,angle:c,sign:-f,cornerRadius:a,cornerIsExternal:l}),g=_.circleTangency,x=_.lineTangency,S=_.theta,O=l?Math.abs(u-c):Math.abs(u-c)-w-S;if(O<0)return s?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):NM({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:c});var E="M ".concat(y.x,",").concat(y.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(O>180),",").concat(+(f<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
  `);if(i>0){var A=_d({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),b=A.circleTangency,T=A.lineTangency,I=A.theta,j=_d({cx:n,cy:r,radius:i,angle:c,sign:-f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),C=j.circleTangency,R=j.lineTangency,k=j.theta,D=l?Math.abs(u-c):Math.abs(u-c)-I-k;if(D<0&&a===0)return"".concat(E,"L").concat(n,",").concat(r,"Z");E+="L".concat(R.x,",").concat(R.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(C.x,",").concat(C.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(D>180),",").concat(+(f>0),",").concat(b.x,",").concat(b.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(T.x,",").concat(T.y,"Z")}else E+="L".concat(n,",").concat(r,"Z");return E},cle={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},MM=function(e){var n=JA(JA({},cle),e),r=n.cx,i=n.cy,o=n.innerRadius,a=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,c=n.startAngle,f=n.endAngle,p=n.className;if(a<o||c===f)return null;var m=Ce("recharts-sector",p),y=a-o,w=_a(s,y,0,!0),_;return w>0&&Math.abs(c-f)<360?_=ule({cx:r,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(w,y/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:f}):_=NM({cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:c,endAngle:f}),F.createElement("path",sb({},ke(n,!0),{className:m,d:_,role:"img"}))};function Bc(t){"@babel/helpers - typeof";return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bc(t)}function lb(){return lb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lb.apply(this,arguments)}function ZA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZA(Object(n),!0).forEach(function(r){fle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fle(t,e,n){return e=dle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dle(t){var e=hle(t,"string");return Bc(e)=="symbol"?e:e+""}function hle(t,e){if(Bc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tP={curveBasisClosed:fG,curveBasisOpen:dG,curveBasis:cG,curveBumpX:Xq,curveBumpY:Qq,curveLinearClosed:hG,curveLinear:Um,curveMonotoneX:pG,curveMonotoneY:mG,curveNatural:gG,curveStep:yG,curveStepAfter:bG,curveStepBefore:vG},wd=function(e){return e.x===+e.x&&e.y===+e.y},su=function(e){return e.x},lu=function(e){return e.y},ple=function(e,n){if(xe(e))return e;var r="curve".concat(Bm(e));return(r==="curveMonotone"||r==="curveBump")&&n?tP["".concat(r).concat(n==="vertical"?"Y":"X")]:tP[r]||Um},mle=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,a=e.baseLine,s=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=ple(r,s),f=u?o.filter(function(w){return wd(w)}):o,p;if(Array.isArray(a)){var m=u?a.filter(function(w){return wd(w)}):a,y=f.map(function(w,_){return eP(eP({},w),{},{base:m[_]})});return s==="vertical"?p=dd().y(lu).x1(su).x0(function(w){return w.base.x}):p=dd().x(su).y1(lu).y0(function(w){return w.base.y}),p.defined(wd).curve(c),p(y)}return s==="vertical"&&te(a)?p=dd().y(lu).x1(su).x0(a):te(a)?p=dd().x(su).y1(lu).y0(a):p=MR().x(su).y(lu),p.defined(wd).curve(c),p(f)},nP=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?mle(e):i;return M.createElement("path",lb({},ke(e,!1),Bh(e),{className:Ce("recharts-curve",n),d:a,ref:o}))},DM={exports:{}},gle="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",yle=gle,vle=yle;function $M(){}function FM(){}FM.resetWarningCache=$M;var ble=function(){function t(r,i,o,a,s,l){if(l!==vle){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:FM,resetWarningCache:$M};return n.PropTypes=n,n};DM.exports=ble();var xle=DM.exports;const Re=Ue(xle),{getOwnPropertyNames:_le,getOwnPropertySymbols:wle}=Object,{hasOwnProperty:Sle}=Object.prototype;function $y(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function Sd(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:o}=i,a=o.get(n),s=o.get(r);if(a&&s)return a===r&&s===n;o.set(n,r),o.set(r,n);const l=t(n,r,i);return o.delete(n),o.delete(r),l}}function Ele(t){return t!=null?t[Symbol.toStringTag]:void 0}function rP(t){return _le(t).concat(wle(t))}const Tle=Object.hasOwn||((t,e)=>Sle.call(t,e));function Ra(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const Ale="__v",Ple="__o",Ile="_owner",{getOwnPropertyDescriptor:iP,keys:oP}=Object;function Ole(t,e){return t.byteLength===e.byteLength&&xp(new Uint8Array(t),new Uint8Array(e))}function kle(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function Cle(t,e){return t.byteLength===e.byteLength&&xp(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function jle(t,e){return Ra(t.getTime(),e.getTime())}function Rle(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Nle(t,e){return t===e}function aP(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.entries();let a,s,l=0;for(;(a=o.next())&&!a.done;){const u=e.entries();let c=!1,f=0;for(;(s=u.next())&&!s.done;){if(i[f]){f++;continue}const p=a.value,m=s.value;if(n.equals(p[0],m[0],l,f,t,e,n)&&n.equals(p[1],m[1],p[0],m[0],t,e,n)){c=i[f]=!0;break}f++}if(!c)return!1;l++}return!0}const Mle=Ra;function Dle(t,e,n){const r=oP(t);let i=r.length;if(oP(e).length!==i)return!1;for(;i-- >0;)if(!LM(t,e,n,r[i]))return!1;return!0}function uu(t,e,n){const r=rP(t);let i=r.length;if(rP(e).length!==i)return!1;let o,a,s;for(;i-- >0;)if(o=r[i],!LM(t,e,n,o)||(a=iP(t,o),s=iP(e,o),(a||s)&&(!a||!s||a.configurable!==s.configurable||a.enumerable!==s.enumerable||a.writable!==s.writable)))return!1;return!0}function $le(t,e){return Ra(t.valueOf(),e.valueOf())}function Fle(t,e){return t.source===e.source&&t.flags===e.flags}function sP(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.values();let a,s;for(;(a=o.next())&&!a.done;){const l=e.values();let u=!1,c=0;for(;(s=l.next())&&!s.done;){if(!i[c]&&n.equals(a.value,s.value,a.value,s.value,t,e,n)){u=i[c]=!0;break}c++}if(!u)return!1}return!0}function xp(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function Lle(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function LM(t,e,n,r){return(r===Ile||r===Ple||r===Ale)&&(t.$$typeof||e.$$typeof)?!0:Tle(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const Vle="[object ArrayBuffer]",Ble="[object Arguments]",zle="[object Boolean]",Ule="[object DataView]",Wle="[object Date]",Hle="[object Error]",qle="[object Map]",Gle="[object Number]",Kle="[object Object]",Yle="[object RegExp]",Xle="[object Set]",Qle="[object String]",Jle={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},Zle="[object URL]",eue=Object.prototype.toString;function tue({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:o,areMapsEqual:a,areNumbersEqual:s,areObjectsEqual:l,arePrimitiveWrappersEqual:u,areRegExpsEqual:c,areSetsEqual:f,areTypedArraysEqual:p,areUrlsEqual:m,unknownTagComparators:y}){return function(_,g,x){if(_===g)return!0;if(_==null||g==null)return!1;const S=typeof _;if(S!==typeof g)return!1;if(S!=="object")return S==="number"?s(_,g,x):S==="function"?o(_,g,x):!1;const O=_.constructor;if(O!==g.constructor)return!1;if(O===Object)return l(_,g,x);if(Array.isArray(_))return e(_,g,x);if(O===Date)return r(_,g,x);if(O===RegExp)return c(_,g,x);if(O===Map)return a(_,g,x);if(O===Set)return f(_,g,x);const E=eue.call(_);if(E===Wle)return r(_,g,x);if(E===Yle)return c(_,g,x);if(E===qle)return a(_,g,x);if(E===Xle)return f(_,g,x);if(E===Kle)return typeof _.then!="function"&&typeof g.then!="function"&&l(_,g,x);if(E===Zle)return m(_,g,x);if(E===Hle)return i(_,g,x);if(E===Ble)return l(_,g,x);if(Jle[E])return p(_,g,x);if(E===Vle)return t(_,g,x);if(E===Ule)return n(_,g,x);if(E===zle||E===Gle||E===Qle)return u(_,g,x);if(y){let A=y[E];if(!A){const b=Ele(_);b&&(A=y[b])}if(A)return A(_,g,x)}return!1}}function nue({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:Ole,areArraysEqual:n?uu:kle,areDataViewsEqual:Cle,areDatesEqual:jle,areErrorsEqual:Rle,areFunctionsEqual:Nle,areMapsEqual:n?$y(aP,uu):aP,areNumbersEqual:Mle,areObjectsEqual:n?uu:Dle,arePrimitiveWrappersEqual:$le,areRegExpsEqual:Fle,areSetsEqual:n?$y(sP,uu):sP,areTypedArraysEqual:n?$y(xp,uu):xp,areUrlsEqual:Lle,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=Sd(r.areArraysEqual),o=Sd(r.areMapsEqual),a=Sd(r.areObjectsEqual),s=Sd(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:a,areSetsEqual:s})}return r}function rue(t){return function(e,n,r,i,o,a,s){return t(e,n,s)}}function iue({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(s,l){const{cache:u=t?new WeakMap:void 0,meta:c}=n();return e(s,l,{cache:u,equals:r,meta:c,strict:i})};if(t)return function(s,l){return e(s,l,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const o={cache:void 0,equals:r,meta:void 0,strict:i};return function(s,l){return e(s,l,o)}}const oue=Co();Co({strict:!0});Co({circular:!0});Co({circular:!0,strict:!0});Co({createInternalComparator:()=>Ra});Co({strict:!0,createInternalComparator:()=>Ra});Co({circular:!0,createInternalComparator:()=>Ra});Co({circular:!0,createInternalComparator:()=>Ra,strict:!0});function Co(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,o=nue(t),a=tue(o),s=n?n(a):rue(a);return iue({circular:e,comparator:a,createState:r,equals:s,strict:i})}function aue(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function lP(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):aue(i)};requestAnimationFrame(r)}function ub(t){"@babel/helpers - typeof";return ub=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ub(t)}function sue(t){return fue(t)||cue(t)||uue(t)||lue()}function lue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uue(t,e){if(t){if(typeof t=="string")return uP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uP(t,e)}}function uP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function fue(t){if(Array.isArray(t))return t}function due(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var a=o,s=sue(a),l=s[0],u=s.slice(1);if(typeof l=="number"){lP(i.bind(null,u),l);return}i(l),lP(i.bind(null,u));return}ub(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function zc(t){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zc(t)}function cP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cP(Object(n),!0).forEach(function(r){VM(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VM(t,e,n){return e=hue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hue(t){var e=pue(t,"string");return zc(e)==="symbol"?e:String(e)}function pue(t,e){if(zc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mue=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},gue=function(e){return e},yue=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Vu=function(e,n){return Object.keys(n).reduce(function(r,i){return fP(fP({},r),{},VM({},i,e(i,n[i])))},{})},dP=function(e,n,r){return e.map(function(i){return"".concat(yue(i)," ").concat(n,"ms ").concat(r)}).join(",")};function vue(t,e){return _ue(t)||xue(t,e)||BM(t,e)||bue()}function bue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xue(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function _ue(t){if(Array.isArray(t))return t}function wue(t){return Tue(t)||Eue(t)||BM(t)||Sue()}function Sue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BM(t,e){if(t){if(typeof t=="string")return cb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cb(t,e)}}function Eue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Tue(t){if(Array.isArray(t))return cb(t)}function cb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var _p=1e-4,zM=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},UM=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},hP=function(e,n){return function(r){var i=zM(e,n);return UM(i,r)}},Aue=function(e,n){return function(r){var i=zM(e,n),o=[].concat(wue(i.map(function(a,s){return a*s}).slice(1)),[0]);return UM(o,r)}},pP=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],a=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,a=1,s=1;break;case"ease":i=.25,o=.1,a=.25,s=1;break;case"ease-in":i=.42,o=0,a=1,s=1;break;case"ease-out":i=.42,o=0,a=.58,s=1;break;case"ease-in-out":i=0,o=0,a=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(_){return parseFloat(_)}),c=vue(u,4);i=c[0],o=c[1],a=c[2],s=c[3]}}}var f=hP(i,a),p=hP(o,s),m=Aue(i,a),y=function(g){return g>1?1:g<0?0:g},w=function(g){for(var x=g>1?1:g,S=x,O=0;O<8;++O){var E=f(S)-x,A=m(S);if(Math.abs(E-x)<_p||A<_p)return p(S);S=y(S-E/A)}return p(S)};return w.isStepper=!1,w},Pue=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,a=e.dt,s=a===void 0?17:a,l=function(c,f,p){var m=-(c-f)*r,y=p*o,w=p+(m-y)*s/1e3,_=p*s/1e3+c;return Math.abs(_-f)<_p&&Math.abs(w)<_p?[f,0]:[_,w]};return l.isStepper=!0,l.dt=s,l},Iue=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return pP(i);case"spring":return Pue();default:if(i.split("(")[0]==="cubic-bezier")return pP(i)}return typeof i=="function"?i:null};function Uc(t){"@babel/helpers - typeof";return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uc(t)}function mP(t){return Cue(t)||kue(t)||WM(t)||Oue()}function Oue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Cue(t){if(Array.isArray(t))return db(t)}function gP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gP(Object(n),!0).forEach(function(r){fb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fb(t,e,n){return e=jue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jue(t){var e=Rue(t,"string");return Uc(e)==="symbol"?e:String(e)}function Rue(t,e){if(Uc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Uc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nue(t,e){return $ue(t)||Due(t,e)||WM(t,e)||Mue()}function Mue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WM(t,e){if(t){if(typeof t=="string")return db(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return db(t,e)}}function db(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Due(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function $ue(t){if(Array.isArray(t))return t}var wp=function(e,n,r){return e+(n-e)*r},hb=function(e){var n=e.from,r=e.to;return n!==r},Fue=function t(e,n,r){var i=Vu(function(o,a){if(hb(a)){var s=e(a.from,a.to,a.velocity),l=Nue(s,2),u=l[0],c=l[1];return Lt(Lt({},a),{},{from:u,velocity:c})}return a},n);return r<1?Vu(function(o,a){return hb(a)?Lt(Lt({},a),{},{velocity:wp(a.velocity,i[o].velocity,r),from:wp(a.from,i[o].from,r)}):a},n):t(e,i,r-1)};const Lue=function(t,e,n,r,i){var o=mue(t,e),a=o.reduce(function(_,g){return Lt(Lt({},_),{},fb({},g,[t[g],e[g]]))},{}),s=o.reduce(function(_,g){return Lt(Lt({},_),{},fb({},g,{from:t[g],velocity:0,to:e[g]}))},{}),l=-1,u,c,f=function(){return null},p=function(){return Vu(function(g,x){return x.from},s)},m=function(){return!Object.values(s).filter(hb).length},y=function(g){u||(u=g);var x=g-u,S=x/n.dt;s=Fue(n,s,S),i(Lt(Lt(Lt({},t),e),p())),u=g,m()||(l=requestAnimationFrame(f))},w=function(g){c||(c=g);var x=(g-c)/r,S=Vu(function(E,A){return wp.apply(void 0,mP(A).concat([n(x)]))},a);if(i(Lt(Lt(Lt({},t),e),S)),x<1)l=requestAnimationFrame(f);else{var O=Vu(function(E,A){return wp.apply(void 0,mP(A).concat([n(1)]))},a);i(Lt(Lt(Lt({},t),e),O))}};return f=n.isStepper?y:w,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function Ys(t){"@babel/helpers - typeof";return Ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ys(t)}var Vue=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Bue(t,e){if(t==null)return{};var n=zue(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zue(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Fy(t){return que(t)||Hue(t)||Wue(t)||Uue()}function Uue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wue(t,e){if(t){if(typeof t=="string")return pb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pb(t,e)}}function Hue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function que(t){if(Array.isArray(t))return pb(t)}function pb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yP(Object(n),!0).forEach(function(r){_u(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _u(t,e,n){return e=HM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,HM(r.key),r)}}function Yue(t,e,n){return e&&Kue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function HM(t){var e=Xue(t,"string");return Ys(e)==="symbol"?e:String(e)}function Xue(t,e){if(Ys(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ys(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Que(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mb(t,e)}function mb(t,e){return mb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},mb(t,e)}function Jue(t){var e=Zue();return function(){var r=Sp(t),i;if(e){var o=Sp(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return gb(this,i)}}function gb(t,e){if(e&&(Ys(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yb(t)}function yb(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Zue(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Sp(t){return Sp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Sp(t)}var mo=function(t){Que(n,t);var e=Jue(n);function n(r,i){var o;Gue(this,n),o=e.call(this,r,i);var a=o.props,s=a.isActive,l=a.attributeName,u=a.from,c=a.to,f=a.steps,p=a.children,m=a.duration;if(o.handleStyleChange=o.handleStyleChange.bind(yb(o)),o.changeStyle=o.changeStyle.bind(yb(o)),!s||m<=0)return o.state={style:{}},typeof p=="function"&&(o.state={style:c}),gb(o);if(f&&f.length)o.state={style:f[0].style};else if(u){if(typeof p=="function")return o.state={style:u},gb(o);o.state={style:l?_u({},l,u):u}}else o.state={style:{}};return o}return Yue(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,a=i.canBegin;this.mounted=!0,!(!o||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isActive,s=o.canBegin,l=o.attributeName,u=o.shouldReAnimate,c=o.to,f=o.from,p=this.state.style;if(s){if(!a){var m={style:l?_u({},l,c):c};this.state&&p&&(l&&p[l]!==c||!l&&p!==c)&&this.setState(m);return}if(!(oue(i.to,c)&&i.canBegin&&i.isActive)){var y=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var w=y||u?f:i.to;if(this.state&&p){var _={style:l?_u({},l,w):w};(l&&p[l]!==w||!l&&p!==w)&&this.setState(_)}this.runAnimation(Zn(Zn({},this.props),{},{from:w,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,a=i.from,s=i.to,l=i.duration,u=i.easing,c=i.begin,f=i.onAnimationEnd,p=i.onAnimationStart,m=Lue(a,s,Iue(u),l,this.changeStyle),y=function(){o.stopJSAnimation=m()};this.manager.start([p,c,y,l,f])}},{key:"runStepAnimation",value:function(i){var o=this,a=i.steps,s=i.begin,l=i.onAnimationStart,u=a[0],c=u.style,f=u.duration,p=f===void 0?0:f,m=function(w,_,g){if(g===0)return w;var x=_.duration,S=_.easing,O=S===void 0?"ease":S,E=_.style,A=_.properties,b=_.onAnimationEnd,T=g>0?a[g-1]:_,I=A||Object.keys(E);if(typeof O=="function"||O==="spring")return[].concat(Fy(w),[o.runJSAnimation.bind(o,{from:T.style,to:E,duration:x,easing:O}),x]);var j=dP(I,x,O),C=Zn(Zn(Zn({},T.style),E),{},{transition:j});return[].concat(Fy(w),[C,x,b]).filter(gue)};return this.manager.start([l].concat(Fy(a.reduce(m,[c,Math.max(p,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=due());var o=i.begin,a=i.duration,s=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,f=i.onAnimationEnd,p=i.steps,m=i.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(i);return}if(p.length>1){this.runStepAnimation(i);return}var w=s?_u({},s,l):l,_=dP(Object.keys(w),a,u);y.start([c,o,Zn(Zn({},w),{},{transition:_}),a,f])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Bue(i,Vue),u=M.Children.count(o),c=this.state.style;if(typeof o=="function")return o(c);if(!s||u===0||a<=0)return o;var f=function(m){var y=m.props,w=y.style,_=w===void 0?{}:w,g=y.className,x=M.cloneElement(m,Zn(Zn({},l),{},{style:Zn(Zn({},_),c),className:g}));return x};return u===1?f(M.Children.only(o)):F.createElement("div",null,M.Children.map(o,function(p){return f(p)}))}}]),n}(M.PureComponent);mo.displayName="Animate";mo.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};mo.propTypes={from:Re.oneOfType([Re.object,Re.string]),to:Re.oneOfType([Re.object,Re.string]),attributeName:Re.string,duration:Re.number,begin:Re.number,easing:Re.oneOfType([Re.string,Re.func]),steps:Re.arrayOf(Re.shape({duration:Re.number.isRequired,style:Re.object.isRequired,easing:Re.oneOfType([Re.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Re.func]),properties:Re.arrayOf("string"),onAnimationEnd:Re.func})),children:Re.oneOfType([Re.node,Re.func]),isActive:Re.bool,canBegin:Re.bool,onAnimationEnd:Re.func,shouldReAnimate:Re.bool,onAnimationStart:Re.func,onAnimationReStart:Re.func};function Wc(t){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wc(t)}function Ep(){return Ep=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ep.apply(this,arguments)}function ece(t,e){return ice(t)||rce(t,e)||nce(t,e)||tce()}function tce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nce(t,e){if(t){if(typeof t=="string")return vP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vP(t,e)}}function vP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rce(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function ice(t){if(Array.isArray(t))return t}function bP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bP(Object(n),!0).forEach(function(r){oce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oce(t,e,n){return e=ace(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ace(t){var e=sce(t,"string");return Wc(e)=="symbol"?e:e+""}function sce(t,e){if(Wc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _P=function(e,n,r,i,o){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,c;if(a>0&&o instanceof Array){for(var f=[0,0,0,0],p=0,m=4;p<m;p++)f[p]=o[p]>a?a:o[p];c="M".concat(e,",").concat(n+s*f[0]),f[0]>0&&(c+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+l*f[0],",").concat(n)),c+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(c+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+s*f[1])),c+="L ".concat(e+r,",").concat(n+i-s*f[2]),f[2]>0&&(c+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),c+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(c+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-s*f[3])),c+="Z"}else if(a>0&&o===+o&&o>0){var y=Math.min(a,o);c="M ".concat(e,",").concat(n+s*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+l*y,",").concat(n,`
            L `).concat(e+r-l*y,",").concat(n,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+r,",").concat(n+s*y,`
            L `).concat(e+r,",").concat(n+i-s*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+r-l*y,",").concat(n+i,`
            L `).concat(e+l*y,",").concat(n+i,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e,",").concat(n+i-s*y," Z")}else c="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},lce=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,a=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(o,o+s),c=Math.max(o,o+s),f=Math.min(a,a+l),p=Math.max(a,a+l);return r>=u&&r<=c&&i>=f&&i<=p}return!1},uce={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},I_=function(e){var n=xP(xP({},uce),e),r=M.useRef(),i=M.useState(-1),o=ece(i,2),a=o[0],s=o[1];M.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var O=r.current.getTotalLength();O&&s(O)}catch{}},[]);var l=n.x,u=n.y,c=n.width,f=n.height,p=n.radius,m=n.className,y=n.animationEasing,w=n.animationDuration,_=n.animationBegin,g=n.isAnimationActive,x=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||c===0||f===0)return null;var S=Ce("recharts-rectangle",m);return x?F.createElement(mo,{canBegin:a>0,from:{width:c,height:f,x:l,y:u},to:{width:c,height:f,x:l,y:u},duration:w,animationEasing:y,isActive:x},function(O){var E=O.width,A=O.height,b=O.x,T=O.y;return F.createElement(mo,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:_,duration:w,isActive:g,easing:y},F.createElement("path",Ep({},ke(n,!0),{className:S,d:_P(b,T,E,A,p),ref:r})))}):F.createElement("path",Ep({},ke(n,!0),{className:S,d:_P(l,u,c,f,p)}))};function vb(){return vb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vb.apply(this,arguments)}var qM=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,a=Ce("recharts-dot",o);return n===+n&&r===+r&&i===+i?M.createElement("circle",vb({},ke(e,!1),Bh(e),{className:a,cx:n,cy:r,r:i})):null};function Hc(t){"@babel/helpers - typeof";return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hc(t)}var cce=["x","y","top","left","width","height","className"];function bb(){return bb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bb.apply(this,arguments)}function wP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fce(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wP(Object(n),!0).forEach(function(r){dce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dce(t,e,n){return e=hce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hce(t){var e=pce(t,"string");return Hc(e)=="symbol"?e:e+""}function pce(t,e){if(Hc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mce(t,e){if(t==null)return{};var n=gce(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function gce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var yce=function(e,n,r,i,o,a){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},vce=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.top,s=a===void 0?0:a,l=e.left,u=l===void 0?0:l,c=e.width,f=c===void 0?0:c,p=e.height,m=p===void 0?0:p,y=e.className,w=mce(e,cce),_=fce({x:r,y:o,top:s,left:u,width:f,height:m},w);return!te(r)||!te(o)||!te(f)||!te(m)||!te(s)||!te(u)?null:F.createElement("path",bb({},ke(_,!0),{className:Ce("recharts-cross",y),d:yce(r,o,f,m,s,u)}))},bce=oN,xce=bce(Object.getPrototypeOf,Object),_ce=xce,wce=gi,Sce=_ce,Ece=yi,Tce="[object Object]",Ace=Function.prototype,Pce=Object.prototype,GM=Ace.toString,Ice=Pce.hasOwnProperty,Oce=GM.call(Object);function kce(t){if(!Ece(t)||wce(t)!=Tce)return!1;var e=Sce(t);if(e===null)return!0;var n=Ice.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&GM.call(n)==Oce}var Cce=kce;const jce=Ue(Cce);var Rce=gi,Nce=yi,Mce="[object Boolean]";function Dce(t){return t===!0||t===!1||Nce(t)&&Rce(t)==Mce}var $ce=Dce;const Fce=Ue($ce);function qc(t){"@babel/helpers - typeof";return qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qc(t)}function Tp(){return Tp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tp.apply(this,arguments)}function Lce(t,e){return Uce(t)||zce(t,e)||Bce(t,e)||Vce()}function Vce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bce(t,e){if(t){if(typeof t=="string")return SP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SP(t,e)}}function SP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zce(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Uce(t){if(Array.isArray(t))return t}function EP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function TP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EP(Object(n),!0).forEach(function(r){Wce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wce(t,e,n){return e=Hce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hce(t){var e=qce(t,"string");return qc(e)=="symbol"?e:e+""}function qce(t,e){if(qc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var AP=function(e,n,r,i,o){var a=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-a/2,",").concat(n+o),s+="L ".concat(e+r-a/2-i,",").concat(n+o),s+="L ".concat(e,",").concat(n," Z"),s},Gce={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Kce=function(e){var n=TP(TP({},Gce),e),r=M.useRef(),i=M.useState(-1),o=Lce(i,2),a=o[0],s=o[1];M.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var S=r.current.getTotalLength();S&&s(S)}catch{}},[]);var l=n.x,u=n.y,c=n.upperWidth,f=n.lowerWidth,p=n.height,m=n.className,y=n.animationEasing,w=n.animationDuration,_=n.animationBegin,g=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||p!==+p||c===0&&f===0||p===0)return null;var x=Ce("recharts-trapezoid",m);return g?F.createElement(mo,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:p,x:l,y:u},to:{upperWidth:c,lowerWidth:f,height:p,x:l,y:u},duration:w,animationEasing:y,isActive:g},function(S){var O=S.upperWidth,E=S.lowerWidth,A=S.height,b=S.x,T=S.y;return F.createElement(mo,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:_,duration:w,easing:y},F.createElement("path",Tp({},ke(n,!0),{className:x,d:AP(b,T,O,E,A),ref:r})))}):F.createElement("g",null,F.createElement("path",Tp({},ke(n,!0),{className:x,d:AP(l,u,c,f,p)})))},Yce=["option","shapeType","propTransformer","activeClassName","isActive"];function Gc(t){"@babel/helpers - typeof";return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gc(t)}function Xce(t,e){if(t==null)return{};var n=Qce(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Qce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function PP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ap(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PP(Object(n),!0).forEach(function(r){Jce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jce(t,e,n){return e=Zce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zce(t){var e=efe(t,"string");return Gc(e)=="symbol"?e:e+""}function efe(t,e){if(Gc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tfe(t,e){return Ap(Ap({},e),t)}function nfe(t,e){return t==="symbols"}function IP(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return F.createElement(I_,n);case"trapezoid":return F.createElement(Kce,n);case"sector":return F.createElement(MM,n);case"symbols":if(nfe(e))return F.createElement(qx,n);break;default:return null}}function rfe(t){return M.isValidElement(t)?t.props:t}function ife(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?tfe:r,o=t.activeClassName,a=o===void 0?"recharts-active-shape":o,s=t.isActive,l=Xce(t,Yce),u;if(M.isValidElement(e))u=M.cloneElement(e,Ap(Ap({},l),rfe(e)));else if(xe(e))u=e(l);else if(jce(e)&&!Fce(e)){var c=i(e,l);u=F.createElement(IP,{shapeType:n,elementProps:c})}else{var f=l;u=F.createElement(IP,{shapeType:n,elementProps:f})}return s?F.createElement(Dt,{className:a},u):u}function og(t,e){return e!=null&&"trapezoids"in t.props}function ag(t,e){return e!=null&&"sectors"in t.props}function Kc(t,e){return e!=null&&"points"in t.props}function ofe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function afe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function sfe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function lfe(t,e){var n;return og(t,e)?n=ofe:ag(t,e)?n=afe:Kc(t,e)&&(n=sfe),n}function ufe(t,e){var n;return og(t,e)?n="trapezoids":ag(t,e)?n="sectors":Kc(t,e)&&(n="points"),n}function cfe(t,e){if(og(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(ag(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Kc(t,e)?e.payload:{}}function ffe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=ufe(n,e),o=cfe(n,e),a=r.filter(function(l,u){var c=E_(o,l),f=n.props[i].filter(function(y){var w=lfe(n,e);return w(y,e)}),p=n.props[i].indexOf(f[f.length-1]),m=u===p;return c&&m}),s=r.indexOf(a[a.length-1]);return s}var dfe=Math.ceil,hfe=Math.max;function pfe(t,e,n,r){for(var i=-1,o=hfe(dfe((e-t)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=t,t+=n;return a}var mfe=pfe,gfe=EN,OP=1/0,yfe=17976931348623157e292;function vfe(t){if(!t)return t===0?t:0;if(t=gfe(t),t===OP||t===-OP){var e=t<0?-1:1;return e*yfe}return t===t?t:0}var KM=vfe,bfe=mfe,xfe=Gm,Ly=KM;function _fe(t){return function(e,n,r){return r&&typeof r!="number"&&xfe(e,n,r)&&(n=r=void 0),e=Ly(e),n===void 0?(n=e,e=0):n=Ly(n),r=r===void 0?e<n?1:-1:Ly(r),bfe(e,n,r,t)}}var wfe=_fe,Sfe=wfe,Efe=Sfe(),Tfe=Efe;const Pp=Ue(Tfe);function Yc(t){"@babel/helpers - typeof";return Yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yc(t)}function kP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function CP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kP(Object(n),!0).forEach(function(r){YM(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YM(t,e,n){return e=Afe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Afe(t){var e=Pfe(t,"string");return Yc(e)=="symbol"?e:e+""}function Pfe(t,e){if(Yc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ife=["Webkit","Moz","O","ms"],Ofe=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=Ife.reduce(function(o,a){return CP(CP({},o),{},YM({},a+r,n))},{});return i[e]=n,i};function Xs(t){"@babel/helpers - typeof";return Xs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xs(t)}function Ip(){return Ip=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ip.apply(this,arguments)}function jP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jP(Object(n),!0).forEach(function(r){Sn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,QM(r.key),r)}}function Cfe(t,e,n){return e&&RP(t.prototype,e),n&&RP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function jfe(t,e,n){return e=Op(e),Rfe(t,XM()?Reflect.construct(e,n||[],Op(t).constructor):e.apply(t,n))}function Rfe(t,e){if(e&&(Xs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nfe(t)}function Nfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XM=function(){return!!t})()}function Op(t){return Op=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Op(t)}function Mfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xb(t,e)}function xb(t,e){return xb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},xb(t,e)}function Sn(t,e,n){return e=QM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QM(t){var e=Dfe(t,"string");return Xs(e)=="symbol"?e:e+""}function Dfe(t,e){if(Xs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $fe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,a=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=Fu().domain(Pp(0,l)).range([o,o+a-s]),c=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:c}},NP=function(e){return e.changedTouches&&!!e.changedTouches.length},Qs=function(t){function e(n){var r;return kfe(this,e),r=jfe(this,e,[n]),Sn(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Sn(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Sn(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,a=i.onDragEnd,s=i.startIndex;a==null||a({endIndex:o,startIndex:s})}),r.detachDragEndListener()}),Sn(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Sn(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Sn(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Sn(r,"handleSlideDragStart",function(i){var o=NP(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Mfe(e,t),Cfe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,a=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,c=u.length-1,f=Math.min(i,o),p=Math.max(i,o),m=e.getIndexInRange(a,f),y=e.getIndexInRange(a,p);return{startIndex:m-m%l,endIndex:y===c?c:y-y%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,a=i.tickFormatter,s=i.dataKey,l=$r(o[r],s,r);return xe(a)?a(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,a=i.startX,s=i.endX,l=this.props,u=l.x,c=l.width,f=l.travellerWidth,p=l.startIndex,m=l.endIndex,y=l.onChange,w=r.pageX-o;w>0?w=Math.min(w,u+c-f-s,u+c-f-a):w<0&&(w=Math.max(w,u-a,u-s));var _=this.getIndex({startX:a+w,endX:s+w});(_.startIndex!==p||_.endIndex!==m)&&y&&y(_),this.setState({startX:a+w,endX:s+w,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=NP(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,a=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[a],c=this.props,f=c.x,p=c.width,m=c.travellerWidth,y=c.onChange,w=c.gap,_=c.data,g={startX:this.state.startX,endX:this.state.endX},x=r.pageX-o;x>0?x=Math.min(x,f+p-m-u):x<0&&(x=Math.max(x,f-u)),g[a]=u+x;var S=this.getIndex(g),O=S.startIndex,E=S.endIndex,A=function(){var T=_.length-1;return a==="startX"&&(s>l?O%w===0:E%w===0)||s<l&&E===T||a==="endX"&&(s>l?E%w===0:O%w===0)||s>l&&E===T};this.setState(Sn(Sn({},a,u+x),"brushMoveStartX",r.pageX),function(){y&&A()&&y(S)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,a=this.state,s=a.scaleValues,l=a.startX,u=a.endX,c=this.state[i],f=s.indexOf(c);if(f!==-1){var p=f+r;if(!(p===-1||p>=s.length)){var m=s[p];i==="startX"&&m>=u||i==="endX"&&m<=l||this.setState(Sn({},i,m),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.fill,u=r.stroke;return F.createElement("rect",{stroke:u,fill:l,x:i,y:o,width:a,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.data,u=r.children,c=r.padding,f=M.Children.only(u);return f?F.cloneElement(f,{x:i,y:o,width:a,height:s,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,a,s=this,l=this.props,u=l.y,c=l.travellerWidth,f=l.height,p=l.traveller,m=l.ariaLabel,y=l.data,w=l.startIndex,_=l.endIndex,g=Math.max(r,this.props.x),x=Vy(Vy({},ke(this.props,!1)),{},{x:g,y:u,width:c,height:f}),S=m||"Min value: ".concat((o=y[w])===null||o===void 0?void 0:o.name,", Max value: ").concat((a=y[_])===null||a===void 0?void 0:a.name);return F.createElement(Dt,{tabIndex:0,role:"slider","aria-label":S,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(E){["ArrowLeft","ArrowRight"].includes(E.key)&&(E.preventDefault(),E.stopPropagation(),s.handleTravellerMoveKeyboard(E.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(p,x))}},{key:"renderSlide",value:function(r,i){var o=this.props,a=o.y,s=o.height,l=o.stroke,u=o.travellerWidth,c=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return F.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:a,width:f,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,a=r.y,s=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,f=c.startX,p=c.endX,m=5,y={pointerEvents:"none",fill:u};return F.createElement(Dt,{className:"recharts-brush-texts"},F.createElement(np,Ip({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,p)-m,y:a+s/2},y),this.getTextOfTick(i)),F.createElement(np,Ip({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,p)+l+m,y:a+s/2},y),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,a=r.children,s=r.x,l=r.y,u=r.width,c=r.height,f=r.alwaysShowText,p=this.state,m=p.startX,y=p.endX,w=p.isTextActive,_=p.isSlideMoving,g=p.isTravellerMoving,x=p.isTravellerFocused;if(!i||!i.length||!te(s)||!te(l)||!te(u)||!te(c)||u<=0||c<=0)return null;var S=Ce("recharts-brush",o),O=F.Children.count(a)===1,E=Ofe("userSelect","none");return F.createElement(Dt,{className:S,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:E},this.renderBackground(),O&&this.renderPanorama(),this.renderSlide(m,y),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(y,"endX"),(w||_||g||x||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,a=r.width,s=r.height,l=r.stroke,u=Math.floor(o+s/2)-1;return F.createElement(F.Fragment,null,F.createElement("rect",{x:i,y:o,width:a,height:s,fill:l,stroke:"none"}),F.createElement("line",{x1:i+1,y1:u,x2:i+a-1,y2:u,fill:"none",stroke:"#fff"}),F.createElement("line",{x1:i+1,y1:u+2,x2:i+a-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return F.isValidElement(r)?o=F.cloneElement(r,i):xe(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,a=r.width,s=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,f=r.endIndex;if(o!==i.prevData||u!==i.prevUpdateId)return Vy({prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a},o&&o.length?$fe({data:o,width:a,x:s,travellerWidth:l,startIndex:c,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+a-l]);var p=i.scale.domain().map(function(m){return i.scale(m)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,a=0,s=o-1;s-a>1;){var l=Math.floor((a+s)/2);r[l]>i?s=l:a=l}return i>=r[s]?s:a}}])}(M.PureComponent);Sn(Qs,"displayName","Brush");Sn(Qs,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Ffe=Zx;function Lfe(t,e){var n;return Ffe(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var Vfe=Lfe,Bfe=QR,zfe=Io,Ufe=Vfe,Wfe=_n,Hfe=Gm;function qfe(t,e,n){var r=Wfe(t)?Bfe:Ufe;return n&&Hfe(t,e,n)&&(e=void 0),r(t,zfe(e))}var Gfe=qfe;const Kfe=Ue(Gfe);var Rr=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},MP=bN;function Yfe(t,e,n){e=="__proto__"&&MP?MP(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Xfe=Yfe,Qfe=Xfe,Jfe=yN,Zfe=Io;function ede(t,e){var n={};return e=Zfe(e),Jfe(t,function(r,i,o){Qfe(n,i,e(r,i,o))}),n}var tde=ede;const nde=Ue(tde);function rde(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var ide=rde,ode=Zx;function ade(t,e){var n=!0;return ode(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var sde=ade,lde=ide,ude=sde,cde=Io,fde=_n,dde=Gm;function hde(t,e,n){var r=fde(t)?lde:ude;return n&&dde(t,e,n)&&(e=void 0),r(t,cde(e))}var pde=hde;const JM=Ue(pde);var mde=["x","y"];function Xc(t){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xc(t)}function _b(){return _b=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_b.apply(this,arguments)}function DP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DP(Object(n),!0).forEach(function(r){gde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gde(t,e,n){return e=yde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yde(t){var e=vde(t,"string");return Xc(e)=="symbol"?e:e+""}function vde(t,e){if(Xc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bde(t,e){if(t==null)return{};var n=xde(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function xde(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function _de(t,e){var n=t.x,r=t.y,i=bde(t,mde),o="".concat(n),a=parseInt(o,10),s="".concat(r),l=parseInt(s,10),u="".concat(e.height||i.height),c=parseInt(u,10),f="".concat(e.width||i.width),p=parseInt(f,10);return cu(cu(cu(cu(cu({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:c,width:p,name:e.name,radius:e.radius})}function $P(t){return F.createElement(ife,_b({shapeType:"rectangle",propTransformer:_de,activeClassName:"recharts-active-bar"},t))}var wde=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=te(r)||DH(r);return o?e(r,i):(o||Sa(),n)}},Sde=["value","background"],ZM;function Js(t){"@babel/helpers - typeof";return Js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Js(t)}function Ede(t,e){if(t==null)return{};var n=Tde(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Tde(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function kp(){return kp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kp.apply(this,arguments)}function FP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FP(Object(n),!0).forEach(function(r){Ui(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ade(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,tD(r.key),r)}}function Pde(t,e,n){return e&&LP(t.prototype,e),n&&LP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ide(t,e,n){return e=Cp(e),Ode(t,eD()?Reflect.construct(e,n||[],Cp(t).constructor):e.apply(t,n))}function Ode(t,e){if(e&&(Js(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kde(t)}function kde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eD=function(){return!!t})()}function Cp(t){return Cp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cp(t)}function Cde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wb(t,e)}function wb(t,e){return wb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},wb(t,e)}function Ui(t,e,n){return e=tD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tD(t){var e=jde(t,"string");return Js(e)=="symbol"?e:e+""}function jde(t,e){if(Js(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Js(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var di=function(t){function e(){var n;Ade(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Ide(this,e,[].concat(i)),Ui(n,"state",{isAnimationFinished:!1}),Ui(n,"id",Vm("recharts-bar-")),Ui(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),Ui(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return Cde(e,t),Pde(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,a=o.shape,s=o.dataKey,l=o.activeIndex,u=o.activeBar,c=ke(this.props,!1);return r&&r.map(function(f,p){var m=p===l,y=m?u:a,w=yt(yt(yt({},c),f),{},{isActive:m,option:y,index:p,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return F.createElement(Dt,kp({className:"recharts-bar-rectangle"},zh(i.props,f,p),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(p)}),F.createElement($P,w))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,a=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,f=i.animationId,p=this.state.prevData;return F.createElement(mo,{begin:l,duration:u,isActive:s,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var y=m.t,w=o.map(function(_,g){var x=p&&p[g];if(x){var S=La(x.x,_.x),O=La(x.y,_.y),E=La(x.width,_.width),A=La(x.height,_.height);return yt(yt({},_),{},{x:S(y),y:O(y),width:E(y),height:A(y)})}if(a==="horizontal"){var b=La(0,_.height),T=b(y);return yt(yt({},_),{},{y:_.y+_.height-T,height:T})}var I=La(0,_.width),j=I(y);return yt(yt({},_),{},{width:j})});return F.createElement(Dt,null,r.renderRectanglesStatically(w))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,a=this.state.prevData;return o&&i&&i.length&&(!a||!E_(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,a=i.dataKey,s=i.activeIndex,l=ke(this.props.background,!1);return o.map(function(u,c){u.value;var f=u.background,p=Ede(u,Sde);if(!f)return null;var m=yt(yt(yt(yt(yt({},p),{},{fill:"#eee"},f),l),zh(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:c,className:"recharts-bar-background-rectangle"});return F.createElement($P,kp({key:"background-bar-".concat(c),option:r.props.background,isActive:c===s},m))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.data,s=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,f=dr(c,ig);if(!f)return null;var p=u==="vertical"?a[0].height/2:a[0].width/2,m=function(_,g){var x=Array.isArray(_.value)?_.value[1]:_.value;return{x:_.x,y:_.y,value:x,errorVal:$r(_,g)}},y={clipPath:r?"url(#clipPath-".concat(i,")"):null};return F.createElement(Dt,y,f.map(function(w){return F.cloneElement(w,{key:"error-bar-".concat(i,"-").concat(w.props.dataKey),data:a,xAxis:s,yAxis:l,layout:u,offset:p,dataPointFormatter:m})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,a=r.className,s=r.xAxis,l=r.yAxis,u=r.left,c=r.top,f=r.width,p=r.height,m=r.isAnimationActive,y=r.background,w=r.id;if(i||!o||!o.length)return null;var _=this.state.isAnimationFinished,g=Ce("recharts-bar",a),x=s&&s.allowDataOverflow,S=l&&l.allowDataOverflow,O=x||S,E=je(w)?this.id:w;return F.createElement(Dt,{className:g},x||S?F.createElement("defs",null,F.createElement("clipPath",{id:"clipPath-".concat(E)},F.createElement("rect",{x:x?u:u-f/2,y:S?c:c-p/2,width:x?f:f*2,height:S?p:p*2}))):null,F.createElement(Dt,{className:"recharts-bar-rectangles",clipPath:O?"url(#clipPath-".concat(E,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(O,E),(!m||_)&&aa.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(M.PureComponent);ZM=di;Ui(di,"displayName","Bar");Ui(di,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!wf.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ui(di,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,a=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,f=t.displayedData,p=t.offset,m=ise(r,n);if(!m)return null;var y=e.layout,w=n.type.defaultProps,_=w!==void 0?yt(yt({},w),n.props):n.props,g=_.dataKey,x=_.children,S=_.minPointSize,O=y==="horizontal"?a:o,E=u?O.scale.domain():null,A=dse({numericAxis:O}),b=dr(x,PN),T=f.map(function(I,j){var C,R,k,D,V,z;u?C=ose(u[c+j],E):(C=$r(I,g),Array.isArray(C)||(C=[A,C]));var L=wde(S,ZM.defaultProps.minPointSize)(C[1],j);if(y==="horizontal"){var $,U=[a.scale(C[0]),a.scale(C[1])],H=U[0],Q=U[1];R=VA({axis:o,ticks:s,bandSize:i,offset:m.offset,entry:I,index:j}),k=($=Q??H)!==null&&$!==void 0?$:void 0,D=m.size;var G=H-Q;if(V=Number.isNaN(G)?0:G,z={x:R,y:a.y,width:D,height:a.height},Math.abs(L)>0&&Math.abs(V)<Math.abs(L)){var ne=lr(V||L)*(Math.abs(L)-Math.abs(V));k-=ne,V+=ne}}else{var ue=[o.scale(C[0]),o.scale(C[1])],pe=ue[0],ge=ue[1];if(R=pe,k=VA({axis:a,ticks:l,bandSize:i,offset:m.offset,entry:I,index:j}),D=ge-pe,V=m.size,z={x:o.x,y:k,width:o.width,height:V},Math.abs(L)>0&&Math.abs(D)<Math.abs(L)){var Ae=lr(D||L)*(Math.abs(L)-Math.abs(D));D+=Ae}}return yt(yt(yt({},I),{},{x:R,y:k,width:D,height:V,value:u?C:C[1],payload:I,background:z},b&&b[j]&&b[j].props),{},{tooltipPayload:[jM(n,I)],tooltipPosition:{x:R+D/2,y:k+V/2}})});return yt({data:T,layout:y},p)});function Qc(t){"@babel/helpers - typeof";return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qc(t)}function Rde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nD(r.key),r)}}function Nde(t,e,n){return e&&VP(t.prototype,e),n&&VP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function BP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BP(Object(n),!0).forEach(function(r){sg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sg(t,e,n){return e=nD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nD(t){var e=Mde(t,"string");return Qc(e)=="symbol"?e:e+""}function Mde(t,e){if(Qc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Dde=function(e,n,r,i,o){var a=e.width,s=e.height,l=e.layout,u=e.children,c=Object.keys(n),f={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},p=!!Tn(u,di);return c.reduce(function(m,y){var w=n[y],_=w.orientation,g=w.domain,x=w.padding,S=x===void 0?{}:x,O=w.mirror,E=w.reversed,A="".concat(_).concat(O?"Mirror":""),b,T,I,j,C;if(w.type==="number"&&(w.padding==="gap"||w.padding==="no-gap")){var R=g[1]-g[0],k=1/0,D=w.categoricalDomain.sort(LH);if(D.forEach(function(ue,pe){pe>0&&(k=Math.min((ue||0)-(D[pe-1]||0),k))}),Number.isFinite(k)){var V=k/R,z=w.layout==="vertical"?r.height:r.width;if(w.padding==="gap"&&(b=V*z/2),w.padding==="no-gap"){var L=_a(e.barCategoryGap,V*z),$=V*z/2;b=$-L-($-L)/z*L}}}i==="xAxis"?T=[r.left+(S.left||0)+(b||0),r.left+r.width-(S.right||0)-(b||0)]:i==="yAxis"?T=l==="horizontal"?[r.top+r.height-(S.bottom||0),r.top+(S.top||0)]:[r.top+(S.top||0)+(b||0),r.top+r.height-(S.bottom||0)-(b||0)]:T=w.range,E&&(T=[T[1],T[0]]);var U=nse(w,o,p),H=U.scale,Q=U.realScaleType;H.domain(g).range(T),rse(H);var G=fse(H,rr(rr({},w),{},{realScaleType:Q}));i==="xAxis"?(C=_==="top"&&!O||_==="bottom"&&O,I=r.left,j=f[A]-C*w.height):i==="yAxis"&&(C=_==="left"&&!O||_==="right"&&O,I=f[A]-C*w.width,j=r.top);var ne=rr(rr(rr({},w),G),{},{realScaleType:Q,x:I,y:j,scale:H,width:i==="xAxis"?r.width:w.width,height:i==="yAxis"?r.height:w.height});return ne.bandSize=yp(ne,G),!w.hide&&i==="xAxis"?f[A]+=(C?-1:1)*ne.height:w.hide||(f[A]+=(C?-1:1)*ne.width),rr(rr({},m),{},sg({},y,ne))},{})},rD=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return{x:Math.min(r,o),y:Math.min(i,a),width:Math.abs(o-r),height:Math.abs(a-i)}},$de=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return rD({x:n,y:r},{x:i,y:o})},iD=function(){function t(e){Rde(this,t),this.scale=e}return Nde(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();sg(iD,"EPS",1e-4);var O_=function(e){var n=Object.keys(e).reduce(function(r,i){return rr(rr({},r),{},sg({},i,iD.create(e[i])))},{});return rr(rr({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.bandAware,s=o.position;return nde(i,function(l,u){return n[u].apply(l,{bandAware:a,position:s})})},isInRange:function(i){return JM(i,function(o,a){return n[a].isInRange(o)})}})};function Fde(t){return(t%180+180)%180}var Lde=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=Fde(i),a=o*Math.PI/180,s=Math.atan(r/n),l=a>s&&a<Math.PI-s?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},Vde=Io,Bde=_f,zde=Hm;function Ude(t){return function(e,n,r){var i=Object(e);if(!Bde(e)){var o=Vde(n);e=zde(e),n=function(s){return o(i[s],s,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:void 0}}var Wde=Ude,Hde=KM;function qde(t){var e=Hde(t),n=e%1;return e===e?n?e-n:e:0}var Gde=qde,Kde=fN,Yde=Io,Xde=Gde,Qde=Math.max;function Jde(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:Xde(n);return i<0&&(i=Qde(r+i,0)),Kde(t,Yde(e),i)}var Zde=Jde,ehe=Wde,the=Zde,nhe=ehe(the),rhe=nhe;const ihe=Ue(rhe);var ohe=zW(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),k_=M.createContext(void 0),C_=M.createContext(void 0),oD=M.createContext(void 0),aD=M.createContext({}),sD=M.createContext(void 0),lD=M.createContext(0),uD=M.createContext(0),zP=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,a=e.clipPathId,s=e.children,l=e.width,u=e.height,c=ohe(o);return F.createElement(k_.Provider,{value:r},F.createElement(C_.Provider,{value:i},F.createElement(aD.Provider,{value:o},F.createElement(oD.Provider,{value:c},F.createElement(sD.Provider,{value:a},F.createElement(lD.Provider,{value:u},F.createElement(uD.Provider,{value:l},s)))))))},ahe=function(){return M.useContext(sD)},cD=function(e){var n=M.useContext(k_);n==null&&Sa();var r=n[e];return r==null&&Sa(),r},she=function(){var e=M.useContext(k_);return Fi(e)},lhe=function(){var e=M.useContext(C_),n=ihe(e,function(r){return JM(r.domain,Number.isFinite)});return n||Fi(e)},fD=function(e){var n=M.useContext(C_);n==null&&Sa();var r=n[e];return r==null&&Sa(),r},uhe=function(){var e=M.useContext(oD);return e},che=function(){return M.useContext(aD)},j_=function(){return M.useContext(uD)},R_=function(){return M.useContext(lD)};function Zs(t){"@babel/helpers - typeof";return Zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zs(t)}function fhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dhe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hD(r.key),r)}}function hhe(t,e,n){return e&&dhe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function phe(t,e,n){return e=jp(e),mhe(t,dD()?Reflect.construct(e,n||[],jp(t).constructor):e.apply(t,n))}function mhe(t,e){if(e&&(Zs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ghe(t)}function ghe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dD=function(){return!!t})()}function jp(t){return jp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jp(t)}function yhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sb(t,e)}function Sb(t,e){return Sb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Sb(t,e)}function UP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UP(Object(n),!0).forEach(function(r){N_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function N_(t,e,n){return e=hD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hD(t){var e=vhe(t,"string");return Zs(e)=="symbol"?e:e+""}function vhe(t,e){if(Zs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function bhe(t,e){return She(t)||whe(t,e)||_he(t,e)||xhe()}function xhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _he(t,e){if(t){if(typeof t=="string")return HP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HP(t,e)}}function HP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function whe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function She(t){if(Array.isArray(t))return t}function Eb(){return Eb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Eb.apply(this,arguments)}var Ehe=function(e,n){var r;return F.isValidElement(e)?r=F.cloneElement(e,n):xe(e)?r=e(n):r=F.createElement("line",Eb({},n,{className:"recharts-reference-line-line"})),r},The=function(e,n,r,i,o,a,s,l,u){var c=o.x,f=o.y,p=o.width,m=o.height;if(r){var y=u.y,w=e.y.apply(y,{position:a});if(Rr(u,"discard")&&!e.y.isInRange(w))return null;var _=[{x:c+p,y:w},{x:c,y:w}];return l==="left"?_.reverse():_}if(n){var g=u.x,x=e.x.apply(g,{position:a});if(Rr(u,"discard")&&!e.x.isInRange(x))return null;var S=[{x,y:f+m},{x,y:f}];return s==="top"?S.reverse():S}if(i){var O=u.segment,E=O.map(function(A){return e.apply(A,{position:a})});return Rr(u,"discard")&&Kfe(E,function(A){return!e.isInRange(A)})?null:E}return null};function Ahe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,a=t.shape,s=t.className,l=t.alwaysShow,u=ahe(),c=cD(i),f=fD(o),p=uhe();if(!u||!p)return null;Zr(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=O_({x:c.scale,y:f.scale}),y=It(e),w=It(n),_=r&&r.length===2,g=The(m,y,w,_,p,t.position,c.orientation,f.orientation,t);if(!g)return null;var x=bhe(g,2),S=x[0],O=S.x,E=S.y,A=x[1],b=A.x,T=A.y,I=Rr(t,"hidden")?"url(#".concat(u,")"):void 0,j=WP(WP({clipPath:I},ke(t,!0)),{},{x1:O,y1:E,x2:b,y2:T});return F.createElement(Dt,{className:Ce("recharts-reference-line",s)},Ehe(a,j),tn.renderCallByParent(t,$de({x1:O,y1:E,x2:b,y2:T})))}var M_=function(t){function e(){return fhe(this,e),phe(this,e,arguments)}return yhe(e,t),hhe(e,[{key:"render",value:function(){return F.createElement(Ahe,this.props)}}])}(F.Component);N_(M_,"displayName","ReferenceLine");N_(M_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Tb(){return Tb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tb.apply(this,arguments)}function el(t){"@babel/helpers - typeof";return el=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},el(t)}function qP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qP(Object(n),!0).forEach(function(r){lg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Phe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ihe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mD(r.key),r)}}function Ohe(t,e,n){return e&&Ihe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function khe(t,e,n){return e=Rp(e),Che(t,pD()?Reflect.construct(e,n||[],Rp(t).constructor):e.apply(t,n))}function Che(t,e){if(e&&(el(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jhe(t)}function jhe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pD=function(){return!!t})()}function Rp(t){return Rp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rp(t)}function Rhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ab(t,e)}function Ab(t,e){return Ab=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ab(t,e)}function lg(t,e,n){return e=mD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mD(t){var e=Nhe(t,"string");return el(e)=="symbol"?e:e+""}function Nhe(t,e){if(el(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(el(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Mhe=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,a=O_({x:i.scale,y:o.scale}),s=a.apply({x:n,y:r},{bandAware:!0});return Rr(e,"discard")&&!a.isInRange(s)?null:s},ug=function(t){function e(){return Phe(this,e),khe(this,e,arguments)}return Rhe(e,t),Ohe(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,a=r.r,s=r.alwaysShow,l=r.clipPathId,u=It(i),c=It(o);if(Zr(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var f=Mhe(this.props);if(!f)return null;var p=f.x,m=f.y,y=this.props,w=y.shape,_=y.className,g=Rr(this.props,"hidden")?"url(#".concat(l,")"):void 0,x=GP(GP({clipPath:g},ke(this.props,!0)),{},{cx:p,cy:m});return F.createElement(Dt,{className:Ce("recharts-reference-dot",_)},e.renderDot(w,x),tn.renderCallByParent(this.props,{x:p-a,y:m-a,width:2*a,height:2*a}))}}])}(F.Component);lg(ug,"displayName","ReferenceDot");lg(ug,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});lg(ug,"renderDot",function(t,e){var n;return F.isValidElement(t)?n=F.cloneElement(t,e):xe(t)?n=t(e):n=F.createElement(qM,Tb({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function Pb(){return Pb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pb.apply(this,arguments)}function tl(t){"@babel/helpers - typeof";return tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tl(t)}function KP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KP(Object(n),!0).forEach(function(r){cg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $he(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yD(r.key),r)}}function Fhe(t,e,n){return e&&$he(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lhe(t,e,n){return e=Np(e),Vhe(t,gD()?Reflect.construct(e,n||[],Np(t).constructor):e.apply(t,n))}function Vhe(t,e){if(e&&(tl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bhe(t)}function Bhe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gD=function(){return!!t})()}function Np(t){return Np=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Np(t)}function zhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ib(t,e)}function Ib(t,e){return Ib=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ib(t,e)}function cg(t,e,n){return e=yD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yD(t){var e=Uhe(t,"string");return tl(e)=="symbol"?e:e+""}function Uhe(t,e){if(tl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Whe=function(e,n,r,i,o){var a=o.x1,s=o.x2,l=o.y1,u=o.y2,c=o.xAxis,f=o.yAxis;if(!c||!f)return null;var p=O_({x:c.scale,y:f.scale}),m={x:e?p.x.apply(a,{position:"start"}):p.x.rangeMin,y:r?p.y.apply(l,{position:"start"}):p.y.rangeMin},y={x:n?p.x.apply(s,{position:"end"}):p.x.rangeMax,y:i?p.y.apply(u,{position:"end"}):p.y.rangeMax};return Rr(o,"discard")&&(!p.isInRange(m)||!p.isInRange(y))?null:rD(m,y)},fg=function(t){function e(){return Dhe(this,e),Lhe(this,e,arguments)}return zhe(e,t),Fhe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,a=r.y1,s=r.y2,l=r.className,u=r.alwaysShow,c=r.clipPathId;Zr(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=It(i),p=It(o),m=It(a),y=It(s),w=this.props.shape;if(!f&&!p&&!m&&!y&&!w)return null;var _=Whe(f,p,m,y,this.props);if(!_&&!w)return null;var g=Rr(this.props,"hidden")?"url(#".concat(c,")"):void 0;return F.createElement(Dt,{className:Ce("recharts-reference-area",l)},e.renderRect(w,YP(YP({clipPath:g},ke(this.props,!0)),_)),tn.renderCallByParent(this.props,_))}}])}(F.Component);cg(fg,"displayName","ReferenceArea");cg(fg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});cg(fg,"renderRect",function(t,e){var n;return F.isValidElement(t)?n=F.cloneElement(t,e):xe(t)?n=t(e):n=F.createElement(I_,Pb({},e,{className:"recharts-reference-area-rect"})),n});function vD(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function Hhe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Lde(r,n)}function qhe(t,e,n){var r=n==="width",i=t.x,o=t.y,a=t.width,s=t.height;return e===1?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}function Mp(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function Ghe(t,e){return vD(t,e+1)}function Khe(t,e,n,r,i){for(var o=(r||[]).slice(),a=e.start,s=e.end,l=0,u=1,c=a,f=function(){var y=r==null?void 0:r[l];if(y===void 0)return{v:vD(r,u)};var w=l,_,g=function(){return _===void 0&&(_=n(y,w)),_},x=y.coordinate,S=l===0||Mp(t,x,g,c,s);S||(l=0,c=a,u+=1),S&&(c=x+t*(g()/2+i),l+=u)},p;u<=o.length;)if(p=f(),p)return p.v;return[]}function Jc(t){"@babel/helpers - typeof";return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jc(t)}function XP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XP(Object(n),!0).forEach(function(r){Yhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yhe(t,e,n){return e=Xhe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xhe(t){var e=Qhe(t,"string");return Jc(e)=="symbol"?e:e+""}function Qhe(t,e){if(Jc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jhe(t,e,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=e.start,l=e.end,u=function(p){var m=o[p],y,w=function(){return y===void 0&&(y=n(m,p)),y};if(p===a-1){var _=t*(m.coordinate+t*w()/2-l);o[p]=m=Qt(Qt({},m),{},{tickCoord:_>0?m.coordinate-_*t:m.coordinate})}else o[p]=m=Qt(Qt({},m),{},{tickCoord:m.coordinate});var g=Mp(t,m.tickCoord,w,s,l);g&&(l=m.tickCoord-t*(w()/2+i),o[p]=Qt(Qt({},m),{},{isShow:!0}))},c=a-1;c>=0;c--)u(c);return o}function Zhe(t,e,n,r,i,o){var a=(r||[]).slice(),s=a.length,l=e.start,u=e.end;if(o){var c=r[s-1],f=n(c,s-1),p=t*(c.coordinate+t*f/2-u);a[s-1]=c=Qt(Qt({},c),{},{tickCoord:p>0?c.coordinate-p*t:c.coordinate});var m=Mp(t,c.tickCoord,function(){return f},l,u);m&&(u=c.tickCoord-t*(f/2+i),a[s-1]=Qt(Qt({},c),{},{isShow:!0}))}for(var y=o?s-1:s,w=function(x){var S=a[x],O,E=function(){return O===void 0&&(O=n(S,x)),O};if(x===0){var A=t*(S.coordinate-t*E()/2-l);a[x]=S=Qt(Qt({},S),{},{tickCoord:A<0?S.coordinate-A*t:S.coordinate})}else a[x]=S=Qt(Qt({},S),{},{tickCoord:S.coordinate});var b=Mp(t,S.tickCoord,E,l,u);b&&(l=S.tickCoord+t*(E()/2+i),a[x]=Qt(Qt({},S),{},{isShow:!0}))},_=0;_<y;_++)w(_);return a}function D_(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,a=t.minTickGap,s=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(te(l)||wf.isSsr)return Ghe(i,typeof l=="number"&&te(l)?l:0);var p=[],m=s==="top"||s==="bottom"?"width":"height",y=c&&m==="width"?$u(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},w=function(S,O){var E=xe(u)?u(S.value,O):S.value;return m==="width"?Hhe($u(E,{fontSize:e,letterSpacing:n}),y,f):$u(E,{fontSize:e,letterSpacing:n})[m]},_=i.length>=2?lr(i[1].coordinate-i[0].coordinate):1,g=qhe(o,_,m);return l==="equidistantPreserveStart"?Khe(_,g,w,i,a):(l==="preserveStart"||l==="preserveStartEnd"?p=Zhe(_,g,w,i,a,l==="preserveStartEnd"):p=Jhe(_,g,w,i,a),p.filter(function(x){return x.isShow}))}var epe=["viewBox"],tpe=["viewBox"],npe=["ticks"];function nl(t){"@babel/helpers - typeof";return nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nl(t)}function ss(){return ss=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ss.apply(this,arguments)}function QP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function St(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QP(Object(n),!0).forEach(function(r){$_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function By(t,e){if(t==null)return{};var n=rpe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rpe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ipe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xD(r.key),r)}}function ope(t,e,n){return e&&JP(t.prototype,e),n&&JP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ape(t,e,n){return e=Dp(e),spe(t,bD()?Reflect.construct(e,n||[],Dp(t).constructor):e.apply(t,n))}function spe(t,e){if(e&&(nl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lpe(t)}function lpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bD=function(){return!!t})()}function Dp(t){return Dp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Dp(t)}function upe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ob(t,e)}function Ob(t,e){return Ob=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ob(t,e)}function $_(t,e,n){return e=xD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xD(t){var e=cpe(t,"string");return nl(e)=="symbol"?e:e+""}function cpe(t,e){if(nl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var kl=function(t){function e(n){var r;return ipe(this,e),r=ape(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return upe(e,t),ope(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,a=By(r,epe),s=this.props,l=s.viewBox,u=By(s,tpe);return!_s(o,l)||!_s(a,u)||!_s(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,a=i.y,s=i.width,l=i.height,u=i.orientation,c=i.tickSize,f=i.mirror,p=i.tickMargin,m,y,w,_,g,x,S=f?-1:1,O=r.tickSize||c,E=te(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":m=y=r.coordinate,_=a+ +!f*l,w=_-S*O,x=w-S*p,g=E;break;case"left":w=_=r.coordinate,y=o+ +!f*s,m=y-S*O,g=m-S*p,x=E;break;case"right":w=_=r.coordinate,y=o+ +f*s,m=y+S*O,g=m+S*p,x=E;break;default:m=y=r.coordinate,_=a+ +f*l,w=_+S*O,x=w+S*p,g=E;break}return{line:{x1:m,y1:w,x2:y,y2:_},tick:{x:g,y:x}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a;switch(i){case"left":a=o?"start":"end";break;case"right":a=o?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=o?"start":"end";break;default:a=o?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,f=St(St(St({},ke(this.props,!1)),ke(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var p=+(l==="top"&&!u||l==="bottom"&&u);f=St(St({},f),{},{x1:i,y1:o+p*s,x2:i+a,y2:o+p*s})}else{var m=+(l==="left"&&!u||l==="right"&&u);f=St(St({},f),{},{x1:i+m*a,y1:o,x2:i+m*a,y2:o+s})}return F.createElement("line",ss({},f,{className:Ce("recharts-cartesian-axis-line",Hn(c,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var a=this,s=this.props,l=s.tickLine,u=s.stroke,c=s.tick,f=s.tickFormatter,p=s.unit,m=D_(St(St({},this.props),{},{ticks:r}),i,o),y=this.getTickTextAnchor(),w=this.getTickVerticalAnchor(),_=ke(this.props,!1),g=ke(c,!1),x=St(St({},_),{},{fill:"none"},ke(l,!1)),S=m.map(function(O,E){var A=a.getTickLineCoord(O),b=A.line,T=A.tick,I=St(St(St(St({textAnchor:y,verticalAnchor:w},_),{},{stroke:"none",fill:u},g),T),{},{index:E,payload:O,visibleTicksCount:m.length,tickFormatter:f});return F.createElement(Dt,ss({className:"recharts-cartesian-axis-tick",key:"tick-".concat(O.value,"-").concat(O.coordinate,"-").concat(O.tickCoord)},zh(a.props,O,E)),l&&F.createElement("line",ss({},x,b,{className:Ce("recharts-cartesian-axis-tick-line",Hn(l,"className"))})),c&&e.renderTickItem(c,I,"".concat(xe(f)?f(O.value,E):O.value).concat(p||"")))});return F.createElement("g",{className:"recharts-cartesian-axis-ticks"},S)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,a=i.width,s=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var f=this.props,p=f.ticks,m=By(f,npe),y=p;return xe(l)&&(y=p&&p.length>0?l(this.props):l(m)),a<=0||s<=0||!y||!y.length?null:F.createElement(Dt,{className:Ce("recharts-cartesian-axis",u),ref:function(_){r.layerReference=_}},o&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),tn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var a,s=Ce(i.className,"recharts-cartesian-axis-tick-value");return F.isValidElement(r)?a=F.cloneElement(r,St(St({},i),{},{className:s})):xe(r)?a=r(St(St({},i),{},{className:s})):a=F.createElement(np,ss({},i,{className:"recharts-cartesian-axis-tick-value"}),o),a}}])}(M.Component);$_(kl,"displayName","CartesianAxis");$_(kl,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var fpe=["x1","y1","x2","y2","key"],dpe=["offset"];function Ea(t){"@babel/helpers - typeof";return Ea=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ea(t)}function ZP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZP(Object(n),!0).forEach(function(r){hpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hpe(t,e,n){return e=ppe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ppe(t){var e=mpe(t,"string");return Ea(e)=="symbol"?e:e+""}function mpe(t,e){if(Ea(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ea(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zo(){return Zo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zo.apply(this,arguments)}function eI(t,e){if(t==null)return{};var n=gpe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function gpe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var ype=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,a=e.width,s=e.height,l=e.ry;return F.createElement("rect",{x:i,y:o,ry:l,width:a,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function _D(t,e){var n;if(F.isValidElement(t))n=F.cloneElement(t,e);else if(xe(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,a=e.y2,s=e.key,l=eI(e,fpe),u=ke(l,!1);u.offset;var c=eI(u,dpe);n=F.createElement("line",Zo({},c,{x1:r,y1:i,x2:o,y2:a,fill:"none",key:s}))}return n}function vpe(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var u=nn(nn({},t),{},{x1:e,y1:s,x2:e+n,y2:s,key:"line-".concat(l),index:l});return _D(i,u)});return F.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function bpe(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var u=nn(nn({},t),{},{x1:s,y1:e,x2:s,y2:e+n,key:"line-".concat(l),index:l});return _D(i,u)});return F.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function xpe(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,a=t.height,s=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var c=s.map(function(p){return Math.round(p+i-i)}).sort(function(p,m){return p-m});i!==c[0]&&c.unshift(0);var f=c.map(function(p,m){var y=!c[m+1],w=y?i+a-p:c[m+1]-p;if(w<=0)return null;var _=m%e.length;return F.createElement("rect",{key:"react-".concat(m),y:p,x:r,height:w,width:o,stroke:"none",fill:e[_],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return F.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function _pe(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,a=t.y,s=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var c=u.map(function(p){return Math.round(p+o-o)}).sort(function(p,m){return p-m});o!==c[0]&&c.unshift(0);var f=c.map(function(p,m){var y=!c[m+1],w=y?o+s-p:c[m+1]-p;if(w<=0)return null;var _=m%r.length;return F.createElement("rect",{key:"react-".concat(m),x:p,y:a,width:w,height:l,stroke:"none",fill:r[_],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return F.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var wpe=function(e,n){var r=e.xAxis,i=e.width,o=e.height,a=e.offset;return kM(D_(nn(nn(nn({},kl.defaultProps),r),{},{ticks:Yr(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.left,a.left+a.width,n)},Spe=function(e,n){var r=e.yAxis,i=e.width,o=e.height,a=e.offset;return kM(D_(nn(nn(nn({},kl.defaultProps),r),{},{ticks:Yr(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.top,a.top+a.height,n)},za={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function F_(t){var e,n,r,i,o,a,s=j_(),l=R_(),u=che(),c=nn(nn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:za.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:za.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:za.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:za.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:za.vertical,verticalFill:(a=t.verticalFill)!==null&&a!==void 0?a:za.verticalFill,x:te(t.x)?t.x:u.left,y:te(t.y)?t.y:u.top,width:te(t.width)?t.width:u.width,height:te(t.height)?t.height:u.height}),f=c.x,p=c.y,m=c.width,y=c.height,w=c.syncWithTicks,_=c.horizontalValues,g=c.verticalValues,x=she(),S=lhe();if(!te(m)||m<=0||!te(y)||y<=0||!te(f)||f!==+f||!te(p)||p!==+p)return null;var O=c.verticalCoordinatesGenerator||wpe,E=c.horizontalCoordinatesGenerator||Spe,A=c.horizontalPoints,b=c.verticalPoints;if((!A||!A.length)&&xe(E)){var T=_&&_.length,I=E({yAxis:S?nn(nn({},S),{},{ticks:T?_:S.ticks}):void 0,width:s,height:l,offset:u},T?!0:w);Zr(Array.isArray(I),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Ea(I),"]")),Array.isArray(I)&&(A=I)}if((!b||!b.length)&&xe(O)){var j=g&&g.length,C=O({xAxis:x?nn(nn({},x),{},{ticks:j?g:x.ticks}):void 0,width:s,height:l,offset:u},j?!0:w);Zr(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Ea(C),"]")),Array.isArray(C)&&(b=C)}return F.createElement("g",{className:"recharts-cartesian-grid"},F.createElement(ype,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height,ry:c.ry}),F.createElement(vpe,Zo({},c,{offset:u,horizontalPoints:A,xAxis:x,yAxis:S})),F.createElement(bpe,Zo({},c,{offset:u,verticalPoints:b,xAxis:x,yAxis:S})),F.createElement(xpe,Zo({},c,{horizontalPoints:A})),F.createElement(_pe,Zo({},c,{verticalPoints:b})))}F_.displayName="CartesianGrid";function rl(t){"@babel/helpers - typeof";return rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rl(t)}function Epe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tpe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ED(r.key),r)}}function Ape(t,e,n){return e&&Tpe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ppe(t,e,n){return e=$p(e),Ipe(t,wD()?Reflect.construct(e,n||[],$p(t).constructor):e.apply(t,n))}function Ipe(t,e){if(e&&(rl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ope(t)}function Ope(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wD=function(){return!!t})()}function $p(t){return $p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$p(t)}function kpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kb(t,e)}function kb(t,e){return kb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},kb(t,e)}function SD(t,e,n){return e=ED(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ED(t){var e=Cpe(t,"string");return rl(e)=="symbol"?e:e+""}function Cpe(t,e){if(rl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Cb(){return Cb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cb.apply(this,arguments)}function jpe(t){var e=t.xAxisId,n=j_(),r=R_(),i=cD(e);return i==null?null:M.createElement(kl,Cb({},i,{className:Ce("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return Yr(a,!0)}}))}var Pf=function(t){function e(){return Epe(this,e),Ppe(this,e,arguments)}return kpe(e,t),Ape(e,[{key:"render",value:function(){return M.createElement(jpe,this.props)}}])}(M.Component);SD(Pf,"displayName","XAxis");SD(Pf,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function il(t){"@babel/helpers - typeof";return il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},il(t)}function Rpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Npe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,PD(r.key),r)}}function Mpe(t,e,n){return e&&Npe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dpe(t,e,n){return e=Fp(e),$pe(t,TD()?Reflect.construct(e,n||[],Fp(t).constructor):e.apply(t,n))}function $pe(t,e){if(e&&(il(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fpe(t)}function Fpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TD=function(){return!!t})()}function Fp(t){return Fp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Fp(t)}function Lpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jb(t,e)}function jb(t,e){return jb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},jb(t,e)}function AD(t,e,n){return e=PD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PD(t){var e=Vpe(t,"string");return il(e)=="symbol"?e:e+""}function Vpe(t,e){if(il(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(il(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Rb(){return Rb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rb.apply(this,arguments)}var Bpe=function(e){var n=e.yAxisId,r=j_(),i=R_(),o=fD(n);return o==null?null:M.createElement(kl,Rb({},o,{className:Ce("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return Yr(s,!0)}}))},If=function(t){function e(){return Rpe(this,e),Dpe(this,e,arguments)}return Lpe(e,t),Mpe(e,[{key:"render",value:function(){return M.createElement(Bpe,this.props)}}])}(M.Component);AD(If,"displayName","YAxis");AD(If,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function tI(t){return Hpe(t)||Wpe(t)||Upe(t)||zpe()}function zpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Upe(t,e){if(t){if(typeof t=="string")return Nb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nb(t,e)}}function Wpe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Hpe(t){if(Array.isArray(t))return Nb(t)}function Nb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Mb=function(e,n,r,i,o){var a=dr(e,M_),s=dr(e,ug),l=[].concat(tI(a),tI(s)),u=dr(e,fg),c="".concat(i,"Id"),f=i[0],p=n;if(l.length&&(p=l.reduce(function(w,_){if(_.props[c]===r&&Rr(_.props,"extendDomain")&&te(_.props[f])){var g=_.props[f];return[Math.min(w[0],g),Math.max(w[1],g)]}return w},p)),u.length){var m="".concat(f,"1"),y="".concat(f,"2");p=u.reduce(function(w,_){if(_.props[c]===r&&Rr(_.props,"extendDomain")&&te(_.props[m])&&te(_.props[y])){var g=_.props[m],x=_.props[y];return[Math.min(w[0],g,x),Math.max(w[1],g,x)]}return w},p)}return o&&o.length&&(p=o.reduce(function(w,_){return te(_)?[Math.min(w[0],_),Math.max(w[1],_)]:w},p)),p},ID={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function o(l,u,c,f,p){if(typeof c!="function")throw new TypeError("The listener must be a function");var m=new i(c,f||l,p),y=n?n+u:u;return l._events[y]?l._events[y].fn?l._events[y]=[l._events[y],m]:l._events[y].push(m):(l._events[y]=m,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)e.call(c,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=n?n+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,m=f.length,y=new Array(m);p<m;p++)y[p]=f[p].fn;return y},s.prototype.listenerCount=function(u){var c=n?n+u:u,f=this._events[c];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,c,f,p,m,y){var w=n?n+u:u;if(!this._events[w])return!1;var _=this._events[w],g=arguments.length,x,S;if(_.fn){switch(_.once&&this.removeListener(u,_.fn,void 0,!0),g){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,c),!0;case 3:return _.fn.call(_.context,c,f),!0;case 4:return _.fn.call(_.context,c,f,p),!0;case 5:return _.fn.call(_.context,c,f,p,m),!0;case 6:return _.fn.call(_.context,c,f,p,m,y),!0}for(S=1,x=new Array(g-1);S<g;S++)x[S-1]=arguments[S];_.fn.apply(_.context,x)}else{var O=_.length,E;for(S=0;S<O;S++)switch(_[S].once&&this.removeListener(u,_[S].fn,void 0,!0),g){case 1:_[S].fn.call(_[S].context);break;case 2:_[S].fn.call(_[S].context,c);break;case 3:_[S].fn.call(_[S].context,c,f);break;case 4:_[S].fn.call(_[S].context,c,f,p);break;default:if(!x)for(E=1,x=new Array(g-1);E<g;E++)x[E-1]=arguments[E];_[S].fn.apply(_[S].context,x)}}return!0},s.prototype.on=function(u,c,f){return o(this,u,c,f,!1)},s.prototype.once=function(u,c,f){return o(this,u,c,f,!0)},s.prototype.removeListener=function(u,c,f,p){var m=n?n+u:u;if(!this._events[m])return this;if(!c)return a(this,m),this;var y=this._events[m];if(y.fn)y.fn===c&&(!p||y.once)&&(!f||y.context===f)&&a(this,m);else{for(var w=0,_=[],g=y.length;w<g;w++)(y[w].fn!==c||p&&!y[w].once||f&&y[w].context!==f)&&_.push(y[w]);_.length?this._events[m]=_.length===1?_[0]:_:a(this,m)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&a(this,c)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(ID);var qpe=ID.exports;const Gpe=Ue(qpe);var zy=new Gpe,Uy="recharts.syncMouseEvents";function Zc(t){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zc(t)}function Kpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ype(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,OD(r.key),r)}}function Xpe(t,e,n){return e&&Ype(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Wy(t,e,n){return e=OD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OD(t){var e=Qpe(t,"string");return Zc(e)=="symbol"?e:e+""}function Qpe(t,e){if(Zc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Jpe=function(){function t(){Kpe(this,t),Wy(this,"activeIndex",0),Wy(this,"coordinateList",[]),Wy(this,"layout","horizontal")}return Xpe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,a=n.container,s=a===void 0?null:a,l=n.layout,u=l===void 0?null:l,c=n.offset,f=c===void 0?null:c,p=n.mouseHandlerCallback,m=p===void 0?null:p;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,a=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=o+l+u,p=a+this.offset.top+s/2+c;this.mouseHandlerCallback({pageX:f,pageY:p})}}}])}();function Zpe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&te(r)&&te(i))return!0}return!1}function eme(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function kD(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,a=Ut(e,n,r,i),s=Ut(e,n,r,o);return{points:[a,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function tme(t,e,n){var r,i,o,a;if(t==="horizontal")r=e.x,o=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,f=e.angle,p=Ut(s,l,u,f),m=Ut(s,l,c,f);r=p.x,i=p.y,o=m.x,a=m.y}else return kD(e);return[{x:r,y:i},{x:o,y:a}]}function ef(t){"@babel/helpers - typeof";return ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ef(t)}function nI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ed(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nI(Object(n),!0).forEach(function(r){nme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nme(t,e,n){return e=rme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rme(t){var e=ime(t,"string");return ef(e)=="symbol"?e:e+""}function ime(t,e){if(ef(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ef(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ome(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,a=t.activeCoordinate,s=t.activePayload,l=t.offset,u=t.activeTooltipIndex,c=t.tooltipAxisBandSize,f=t.layout,p=t.chartName,m=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!m||!o||!a||p!=="ScatterChart"&&i!=="axis")return null;var y,w=nP;if(p==="ScatterChart")y=a,w=vce;else if(p==="BarChart")y=eme(f,a,l,c),w=I_;else if(f==="radial"){var _=kD(a),g=_.cx,x=_.cy,S=_.radius,O=_.startAngle,E=_.endAngle;y={cx:g,cy:x,startAngle:O,endAngle:E,innerRadius:S,outerRadius:S},w=MM}else y={points:tme(f,a,l)},w=nP;var A=Ed(Ed(Ed(Ed({stroke:"#ccc",pointerEvents:"none"},l),y),ke(m,!1)),{},{payload:s,payloadIndex:u,className:Ce("recharts-tooltip-cursor",m.className)});return M.isValidElement(m)?M.cloneElement(m,A):M.createElement(w,A)}var ame=["item"],sme=["children","className","width","height","style","compact","title","desc"];function ol(t){"@babel/helpers - typeof";return ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ol(t)}function ls(){return ls=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ls.apply(this,arguments)}function rI(t,e){return cme(t)||ume(t,e)||jD(t,e)||lme()}function lme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ume(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function cme(t){if(Array.isArray(t))return t}function iI(t,e){if(t==null)return{};var n=fme(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function fme(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function dme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hme(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,RD(r.key),r)}}function pme(t,e,n){return e&&hme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function mme(t,e,n){return e=Lp(e),gme(t,CD()?Reflect.construct(e,n||[],Lp(t).constructor):e.apply(t,n))}function gme(t,e){if(e&&(ol(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yme(t)}function yme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CD=function(){return!!t})()}function Lp(t){return Lp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Lp(t)}function vme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Db(t,e)}function Db(t,e){return Db=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Db(t,e)}function al(t){return _me(t)||xme(t)||jD(t)||bme()}function bme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jD(t,e){if(t){if(typeof t=="string")return $b(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $b(t,e)}}function xme(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _me(t){if(Array.isArray(t))return $b(t)}function $b(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function oI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function q(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oI(Object(n),!0).forEach(function(r){ce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ce(t,e,n){return e=RD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RD(t){var e=wme(t,"string");return ol(e)=="symbol"?e:e+""}function wme(t,e){if(ol(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ol(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Sme={xAxis:["bottom","top"],yAxis:["left","right"]},Eme={width:"100%",height:"100%"},ND={x:0,y:0};function Td(t){return t}var Tme=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},Ame=function(e,n,r,i){var o=n.find(function(c){return c&&c.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var a=o.coordinate,s=i.radius;return q(q(q({},i),Ut(i.cx,i.cy,s,a)),{},{angle:a,radius:s})}var l=o.coordinate,u=i.angle;return q(q(q({},i),Ut(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return ND},dg=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,a=(r??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(al(s),al(u)):s},[]);return a.length>0?a:e&&e.length&&te(i)&&te(o)?e.slice(i,o+1):[]};function MD(t){return t==="number"?[0,"auto"]:void 0}var Fb=function(e,n,r,i){var o=e.graphicalItems,a=e.tooltipAxis,s=dg(n,e);return r<0||!o||!o.length||r>=s.length?null:o.reduce(function(l,u){var c,f=(c=u.props.data)!==null&&c!==void 0?c:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var p;if(a.dataKey&&!a.allowDuplicatedCategory){var m=f===void 0?s:f;p=y0(m,a.dataKey,i)}else p=f&&f[r]||s[r];return p?[].concat(al(l),[jM(u,p)]):l},[])},aI=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},a=Tme(o,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=Xae(a,s,u,l);if(c>=0&&u){var f=u[c]&&u[c].value,p=Fb(e,n,c,f),m=Ame(r,s,c,o);return{activeTooltipIndex:c,activeLabel:f,activePayload:p,activeCoordinate:m}}return null},Pme=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,p=e.stackOffset,m=OM(c,o);return r.reduce(function(y,w){var _,g=w.type.defaultProps!==void 0?q(q({},w.type.defaultProps),w.props):w.props,x=g.type,S=g.dataKey,O=g.allowDataOverflow,E=g.allowDuplicatedCategory,A=g.scale,b=g.ticks,T=g.includeHidden,I=g[a];if(y[I])return y;var j=dg(e.data,{graphicalItems:i.filter(function(G){var ne,ue=a in G.props?G.props[a]:(ne=G.type.defaultProps)===null||ne===void 0?void 0:ne[a];return ue===I}),dataStartIndex:l,dataEndIndex:u}),C=j.length,R,k,D;Zpe(g.domain,O,x)&&(R=ib(g.domain,null,O),m&&(x==="number"||A!=="auto")&&(D=Lu(j,S,"category")));var V=MD(x);if(!R||R.length===0){var z,L=(z=g.domain)!==null&&z!==void 0?z:V;if(S){if(R=Lu(j,S,x),x==="category"&&m){var $=FH(R);E&&$?(k=R,R=Pp(0,C)):E||(R=UA(L,R,w).reduce(function(G,ne){return G.indexOf(ne)>=0?G:[].concat(al(G),[ne])},[]))}else if(x==="category")E?R=R.filter(function(G){return G!==""&&!je(G)}):R=UA(L,R,w).reduce(function(G,ne){return G.indexOf(ne)>=0||ne===""||je(ne)?G:[].concat(al(G),[ne])},[]);else if(x==="number"){var U=tse(j,i.filter(function(G){var ne,ue,pe=a in G.props?G.props[a]:(ne=G.type.defaultProps)===null||ne===void 0?void 0:ne[a],ge="hide"in G.props?G.props.hide:(ue=G.type.defaultProps)===null||ue===void 0?void 0:ue.hide;return pe===I&&(T||!ge)}),S,o,c);U&&(R=U)}m&&(x==="number"||A!=="auto")&&(D=Lu(j,S,"category"))}else m?R=Pp(0,C):s&&s[I]&&s[I].hasStack&&x==="number"?R=p==="expand"?[0,1]:CM(s[I].stackGroups,l,u):R=IM(j,i.filter(function(G){var ne=a in G.props?G.props[a]:G.type.defaultProps[a],ue="hide"in G.props?G.props.hide:G.type.defaultProps.hide;return ne===I&&(T||!ue)}),x,c,!0);if(x==="number")R=Mb(f,R,I,o,b),L&&(R=ib(L,R,O));else if(x==="category"&&L){var H=L,Q=R.every(function(G){return H.indexOf(G)>=0});Q&&(R=H)}}return q(q({},y),{},ce({},I,q(q({},g),{},{axisType:o,domain:R,categoricalDomain:D,duplicateDomain:k,originalDomain:(_=g.domain)!==null&&_!==void 0?_:V,isCategorical:m,layout:c})))},{})},Ime=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,p=dg(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),m=p.length,y=OM(c,o),w=-1;return r.reduce(function(_,g){var x=g.type.defaultProps!==void 0?q(q({},g.type.defaultProps),g.props):g.props,S=x[a],O=MD("number");if(!_[S]){w++;var E;return y?E=Pp(0,m):s&&s[S]&&s[S].hasStack?(E=CM(s[S].stackGroups,l,u),E=Mb(f,E,S,o)):(E=ib(O,IM(p,r.filter(function(A){var b,T,I=a in A.props?A.props[a]:(b=A.type.defaultProps)===null||b===void 0?void 0:b[a],j="hide"in A.props?A.props.hide:(T=A.type.defaultProps)===null||T===void 0?void 0:T.hide;return I===S&&!j}),"number",c),i.defaultProps.allowDataOverflow),E=Mb(f,E,S,o)),q(q({},_),{},ce({},S,q(q({axisType:o},i.defaultProps),{},{hide:!0,orientation:Hn(Sme,"".concat(o,".").concat(w%2),null),domain:E,originalDomain:O,isCategorical:y,layout:c})))}return _},{})},Ome=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,a=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.children,f="".concat(i,"Id"),p=dr(c,o),m={};return p&&p.length?m=Pme(e,{axes:p,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):a&&a.length&&(m=Ime(e,{Axis:o,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),m},kme=function(e){var n=Fi(e),r=Yr(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:e_(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:yp(n,r)}},sI=function(e){var n=e.children,r=e.defaultShowTooltip,i=Tn(n,Qs),o=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},Cme=function(e){return!e||!e.length?!1:e.some(function(n){var r=Jr(n&&n.type);return r&&r.indexOf("Bar")>=0})},lI=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},jme=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,a=o===void 0?{}:o,s=e.yAxisMap,l=s===void 0?{}:s,u=r.width,c=r.height,f=r.children,p=r.margin||{},m=Tn(f,Qs),y=Tn(f,ws),w=Object.keys(l).reduce(function(E,A){var b=l[A],T=b.orientation;return!b.mirror&&!b.hide?q(q({},E),{},ce({},T,E[T]+b.width)):E},{left:p.left||0,right:p.right||0}),_=Object.keys(a).reduce(function(E,A){var b=a[A],T=b.orientation;return!b.mirror&&!b.hide?q(q({},E),{},ce({},T,Hn(E,"".concat(T))+b.height)):E},{top:p.top||0,bottom:p.bottom||0}),g=q(q({},_),w),x=g.bottom;m&&(g.bottom+=m.props.height||Qs.defaultProps.height),y&&n&&(g=Zae(g,i,r,n));var S=u-g.left-g.right,O=c-g.top-g.bottom;return q(q({brushBottom:x},g),{},{width:Math.max(S,0),height:Math.max(O,0)})},Rme=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},Nme=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,a=e.validateTooltipEventTypes,s=a===void 0?["axis"]:a,l=e.axisComponents,u=e.legendContent,c=e.formatAxisMap,f=e.defaultProps,p=function(g,x){var S=x.graphicalItems,O=x.stackGroups,E=x.offset,A=x.updateId,b=x.dataStartIndex,T=x.dataEndIndex,I=g.barSize,j=g.layout,C=g.barGap,R=g.barCategoryGap,k=g.maxBarSize,D=lI(j),V=D.numericAxisName,z=D.cateAxisName,L=Cme(S),$=[];return S.forEach(function(U,H){var Q=dg(g.data,{graphicalItems:[U],dataStartIndex:b,dataEndIndex:T}),G=U.type.defaultProps!==void 0?q(q({},U.type.defaultProps),U.props):U.props,ne=G.dataKey,ue=G.maxBarSize,pe=G["".concat(V,"Id")],ge=G["".concat(z,"Id")],Ae={},se=l.reduce(function(Nn,Lr){var Na=x["".concat(Lr.axisType,"Map")],Of=G["".concat(Lr.axisType,"Id")];Na&&Na[Of]||Lr.axisType==="zAxis"||Sa();var bi=Na[Of];return q(q({},Nn),{},ce(ce({},Lr.axisType,bi),"".concat(Lr.axisType,"Ticks"),Yr(bi)))},Ae),Z=se[z],he=se["".concat(z,"Ticks")],ve=O&&O[pe]&&O[pe].hasStack&&hse(U,O[pe].stackGroups),X=Jr(U.type).indexOf("Bar")>=0,We=yp(Z,he),we=[],ft=L&&Qae({barSize:I,stackGroups:O,totalSize:Rme(se,z)});if(X){var tt,Ct,Qn=je(ue)?k:ue,nt=(tt=(Ct=yp(Z,he,!0))!==null&&Ct!==void 0?Ct:Qn)!==null&&tt!==void 0?tt:0;we=Jae({barGap:C,barCategoryGap:R,bandSize:nt!==We?nt:We,sizeList:ft[ge],maxBarSize:Qn}),nt!==We&&(we=we.map(function(Nn){return q(q({},Nn),{},{position:q(q({},Nn.position),{},{offset:Nn.position.offset-nt/2})})}))}var mt=U&&U.type&&U.type.getComposedData;mt&&$.push({props:q(q({},mt(q(q({},se),{},{displayedData:Q,props:g,dataKey:ne,item:U,bandSize:We,barPosition:we,offset:E,stackedData:ve,layout:j,dataStartIndex:b,dataEndIndex:T}))),{},ce(ce(ce({key:U.key||"item-".concat(H)},V,se[V]),z,se[z]),"animationId",A)),childIndex:XH(U,g.children),item:U})}),$},m=function(g,x){var S=g.props,O=g.dataStartIndex,E=g.dataEndIndex,A=g.updateId;if(!$E({props:S}))return null;var b=S.children,T=S.layout,I=S.stackOffset,j=S.data,C=S.reverseStackOrder,R=lI(T),k=R.numericAxisName,D=R.cateAxisName,V=dr(b,r),z=cse(j,V,"".concat(k,"Id"),"".concat(D,"Id"),I,C),L=l.reduce(function(G,ne){var ue="".concat(ne.axisType,"Map");return q(q({},G),{},ce({},ue,Ome(S,q(q({},ne),{},{graphicalItems:V,stackGroups:ne.axisType===k&&z,dataStartIndex:O,dataEndIndex:E}))))},{}),$=jme(q(q({},L),{},{props:S,graphicalItems:V}),x==null?void 0:x.legendBBox);Object.keys(L).forEach(function(G){L[G]=c(S,L[G],$,G.replace("Map",""),n)});var U=L["".concat(D,"Map")],H=kme(U),Q=p(S,q(q({},L),{},{dataStartIndex:O,dataEndIndex:E,updateId:A,graphicalItems:V,stackGroups:z,offset:$}));return q(q({formattedGraphicalItems:Q,graphicalItems:V,offset:$,stackGroups:z},H),L)},y=function(_){function g(x){var S,O,E;return dme(this,g),E=mme(this,g,[x]),ce(E,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ce(E,"accessibilityManager",new Jpe),ce(E,"handleLegendBBoxUpdate",function(A){if(A){var b=E.state,T=b.dataStartIndex,I=b.dataEndIndex,j=b.updateId;E.setState(q({legendBBox:A},m({props:E.props,dataStartIndex:T,dataEndIndex:I,updateId:j},q(q({},E.state),{},{legendBBox:A}))))}}),ce(E,"handleReceiveSyncEvent",function(A,b,T){if(E.props.syncId===A){if(T===E.eventEmitterSymbol&&typeof E.props.syncMethod!="function")return;E.applySyncEvent(b)}}),ce(E,"handleBrushChange",function(A){var b=A.startIndex,T=A.endIndex;if(b!==E.state.dataStartIndex||T!==E.state.dataEndIndex){var I=E.state.updateId;E.setState(function(){return q({dataStartIndex:b,dataEndIndex:T},m({props:E.props,dataStartIndex:b,dataEndIndex:T,updateId:I},E.state))}),E.triggerSyncEvent({dataStartIndex:b,dataEndIndex:T})}}),ce(E,"handleMouseEnter",function(A){var b=E.getMouseInfo(A);if(b){var T=q(q({},b),{},{isTooltipActive:!0});E.setState(T),E.triggerSyncEvent(T);var I=E.props.onMouseEnter;xe(I)&&I(T,A)}}),ce(E,"triggeredAfterMouseMove",function(A){var b=E.getMouseInfo(A),T=b?q(q({},b),{},{isTooltipActive:!0}):{isTooltipActive:!1};E.setState(T),E.triggerSyncEvent(T);var I=E.props.onMouseMove;xe(I)&&I(T,A)}),ce(E,"handleItemMouseEnter",function(A){E.setState(function(){return{isTooltipActive:!0,activeItem:A,activePayload:A.tooltipPayload,activeCoordinate:A.tooltipPosition||{x:A.cx,y:A.cy}}})}),ce(E,"handleItemMouseLeave",function(){E.setState(function(){return{isTooltipActive:!1}})}),ce(E,"handleMouseMove",function(A){A.persist(),E.throttleTriggeredAfterMouseMove(A)}),ce(E,"handleMouseLeave",function(A){E.throttleTriggeredAfterMouseMove.cancel();var b={isTooltipActive:!1};E.setState(b),E.triggerSyncEvent(b);var T=E.props.onMouseLeave;xe(T)&&T(b,A)}),ce(E,"handleOuterEvent",function(A){var b=YH(A),T=Hn(E.props,"".concat(b));if(b&&xe(T)){var I,j;/.*touch.*/i.test(b)?j=E.getMouseInfo(A.changedTouches[0]):j=E.getMouseInfo(A),T((I=j)!==null&&I!==void 0?I:{},A)}}),ce(E,"handleClick",function(A){var b=E.getMouseInfo(A);if(b){var T=q(q({},b),{},{isTooltipActive:!0});E.setState(T),E.triggerSyncEvent(T);var I=E.props.onClick;xe(I)&&I(T,A)}}),ce(E,"handleMouseDown",function(A){var b=E.props.onMouseDown;if(xe(b)){var T=E.getMouseInfo(A);b(T,A)}}),ce(E,"handleMouseUp",function(A){var b=E.props.onMouseUp;if(xe(b)){var T=E.getMouseInfo(A);b(T,A)}}),ce(E,"handleTouchMove",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&E.throttleTriggeredAfterMouseMove(A.changedTouches[0])}),ce(E,"handleTouchStart",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&E.handleMouseDown(A.changedTouches[0])}),ce(E,"handleTouchEnd",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&E.handleMouseUp(A.changedTouches[0])}),ce(E,"handleDoubleClick",function(A){var b=E.props.onDoubleClick;if(xe(b)){var T=E.getMouseInfo(A);b(T,A)}}),ce(E,"handleContextMenu",function(A){var b=E.props.onContextMenu;if(xe(b)){var T=E.getMouseInfo(A);b(T,A)}}),ce(E,"triggerSyncEvent",function(A){E.props.syncId!==void 0&&zy.emit(Uy,E.props.syncId,A,E.eventEmitterSymbol)}),ce(E,"applySyncEvent",function(A){var b=E.props,T=b.layout,I=b.syncMethod,j=E.state.updateId,C=A.dataStartIndex,R=A.dataEndIndex;if(A.dataStartIndex!==void 0||A.dataEndIndex!==void 0)E.setState(q({dataStartIndex:C,dataEndIndex:R},m({props:E.props,dataStartIndex:C,dataEndIndex:R,updateId:j},E.state)));else if(A.activeTooltipIndex!==void 0){var k=A.chartX,D=A.chartY,V=A.activeTooltipIndex,z=E.state,L=z.offset,$=z.tooltipTicks;if(!L)return;if(typeof I=="function")V=I($,A);else if(I==="value"){V=-1;for(var U=0;U<$.length;U++)if($[U].value===A.activeLabel){V=U;break}}var H=q(q({},L),{},{x:L.left,y:L.top}),Q=Math.min(k,H.x+H.width),G=Math.min(D,H.y+H.height),ne=$[V]&&$[V].value,ue=Fb(E.state,E.props.data,V),pe=$[V]?{x:T==="horizontal"?$[V].coordinate:Q,y:T==="horizontal"?G:$[V].coordinate}:ND;E.setState(q(q({},A),{},{activeLabel:ne,activeCoordinate:pe,activePayload:ue,activeTooltipIndex:V}))}else E.setState(A)}),ce(E,"renderCursor",function(A){var b,T=E.state,I=T.isTooltipActive,j=T.activeCoordinate,C=T.activePayload,R=T.offset,k=T.activeTooltipIndex,D=T.tooltipAxisBandSize,V=E.getTooltipEventType(),z=(b=A.props.active)!==null&&b!==void 0?b:I,L=E.props.layout,$=A.key||"_recharts-cursor";return F.createElement(ome,{key:$,activeCoordinate:j,activePayload:C,activeTooltipIndex:k,chartName:n,element:A,isActive:z,layout:L,offset:R,tooltipAxisBandSize:D,tooltipEventType:V})}),ce(E,"renderPolarAxis",function(A,b,T){var I=Hn(A,"type.axisType"),j=Hn(E.state,"".concat(I,"Map")),C=A.type.defaultProps,R=C!==void 0?q(q({},C),A.props):A.props,k=j&&j[R["".concat(I,"Id")]];return M.cloneElement(A,q(q({},k),{},{className:Ce(I,k.className),key:A.key||"".concat(b,"-").concat(T),ticks:Yr(k,!0)}))}),ce(E,"renderPolarGrid",function(A){var b=A.props,T=b.radialLines,I=b.polarAngles,j=b.polarRadius,C=E.state,R=C.radiusAxisMap,k=C.angleAxisMap,D=Fi(R),V=Fi(k),z=V.cx,L=V.cy,$=V.innerRadius,U=V.outerRadius;return M.cloneElement(A,{polarAngles:Array.isArray(I)?I:Yr(V,!0).map(function(H){return H.coordinate}),polarRadius:Array.isArray(j)?j:Yr(D,!0).map(function(H){return H.coordinate}),cx:z,cy:L,innerRadius:$,outerRadius:U,key:A.key||"polar-grid",radialLines:T})}),ce(E,"renderLegend",function(){var A=E.state.formattedGraphicalItems,b=E.props,T=b.children,I=b.width,j=b.height,C=E.props.margin||{},R=I-(C.left||0)-(C.right||0),k=AM({children:T,formattedGraphicalItems:A,legendWidth:R,legendContent:u});if(!k)return null;var D=k.item,V=iI(k,ame);return M.cloneElement(D,q(q({},V),{},{chartWidth:I,chartHeight:j,margin:C,onBBoxUpdate:E.handleLegendBBoxUpdate}))}),ce(E,"renderTooltip",function(){var A,b=E.props,T=b.children,I=b.accessibilityLayer,j=Tn(T,nr);if(!j)return null;var C=E.state,R=C.isTooltipActive,k=C.activeCoordinate,D=C.activePayload,V=C.activeLabel,z=C.offset,L=(A=j.props.active)!==null&&A!==void 0?A:R;return M.cloneElement(j,{viewBox:q(q({},z),{},{x:z.left,y:z.top}),active:L,label:V,payload:L?D:[],coordinate:k,accessibilityLayer:I})}),ce(E,"renderBrush",function(A){var b=E.props,T=b.margin,I=b.data,j=E.state,C=j.offset,R=j.dataStartIndex,k=j.dataEndIndex,D=j.updateId;return M.cloneElement(A,{key:A.key||"_recharts-brush",onChange:xd(E.handleBrushChange,A.props.onChange),data:I,x:te(A.props.x)?A.props.x:C.left,y:te(A.props.y)?A.props.y:C.top+C.height+C.brushBottom-(T.bottom||0),width:te(A.props.width)?A.props.width:C.width,startIndex:R,endIndex:k,updateId:"brush-".concat(D)})}),ce(E,"renderReferenceElement",function(A,b,T){if(!A)return null;var I=E,j=I.clipPathId,C=E.state,R=C.xAxisMap,k=C.yAxisMap,D=C.offset,V=A.type.defaultProps||{},z=A.props,L=z.xAxisId,$=L===void 0?V.xAxisId:L,U=z.yAxisId,H=U===void 0?V.yAxisId:U;return M.cloneElement(A,{key:A.key||"".concat(b,"-").concat(T),xAxis:R[$],yAxis:k[H],viewBox:{x:D.left,y:D.top,width:D.width,height:D.height},clipPathId:j})}),ce(E,"renderActivePoints",function(A){var b=A.item,T=A.activePoint,I=A.basePoint,j=A.childIndex,C=A.isRange,R=[],k=b.props.key,D=b.item.type.defaultProps!==void 0?q(q({},b.item.type.defaultProps),b.item.props):b.item.props,V=D.activeDot,z=D.dataKey,L=q(q({index:j,dataKey:z,cx:T.x,cy:T.y,r:4,fill:P_(b.item),strokeWidth:2,stroke:"#fff",payload:T.payload,value:T.value},ke(V,!1)),Bh(V));return R.push(g.renderActiveDot(V,L,"".concat(k,"-activePoint-").concat(j))),I?R.push(g.renderActiveDot(V,q(q({},L),{},{cx:I.x,cy:I.y}),"".concat(k,"-basePoint-").concat(j))):C&&R.push(null),R}),ce(E,"renderGraphicChild",function(A,b,T){var I=E.filterFormatItem(A,b,T);if(!I)return null;var j=E.getTooltipEventType(),C=E.state,R=C.isTooltipActive,k=C.tooltipAxis,D=C.activeTooltipIndex,V=C.activeLabel,z=E.props.children,L=Tn(z,nr),$=I.props,U=$.points,H=$.isRange,Q=$.baseLine,G=I.item.type.defaultProps!==void 0?q(q({},I.item.type.defaultProps),I.item.props):I.item.props,ne=G.activeDot,ue=G.hide,pe=G.activeBar,ge=G.activeShape,Ae=!!(!ue&&R&&L&&(ne||pe||ge)),se={};j!=="axis"&&L&&L.props.trigger==="click"?se={onClick:xd(E.handleItemMouseEnter,A.props.onClick)}:j!=="axis"&&(se={onMouseLeave:xd(E.handleItemMouseLeave,A.props.onMouseLeave),onMouseEnter:xd(E.handleItemMouseEnter,A.props.onMouseEnter)});var Z=M.cloneElement(A,q(q({},I.props),se));function he(Lr){return typeof k.dataKey=="function"?k.dataKey(Lr.payload):null}if(Ae)if(D>=0){var ve,X;if(k.dataKey&&!k.allowDuplicatedCategory){var We=typeof k.dataKey=="function"?he:"payload.".concat(k.dataKey.toString());ve=y0(U,We,V),X=H&&Q&&y0(Q,We,V)}else ve=U==null?void 0:U[D],X=H&&Q&&Q[D];if(ge||pe){var we=A.props.activeIndex!==void 0?A.props.activeIndex:D;return[M.cloneElement(A,q(q(q({},I.props),se),{},{activeIndex:we})),null,null]}if(!je(ve))return[Z].concat(al(E.renderActivePoints({item:I,activePoint:ve,basePoint:X,childIndex:D,isRange:H})))}else{var ft,tt=(ft=E.getItemByXY(E.state.activeCoordinate))!==null&&ft!==void 0?ft:{graphicalItem:Z},Ct=tt.graphicalItem,Qn=Ct.item,nt=Qn===void 0?A:Qn,mt=Ct.childIndex,Nn=q(q(q({},I.props),se),{},{activeIndex:mt});return[M.cloneElement(nt,Nn),null,null]}return H?[Z,null,null]:[Z,null]}),ce(E,"renderCustomized",function(A,b,T){return M.cloneElement(A,q(q({key:"recharts-customized-".concat(T)},E.props),E.state))}),ce(E,"renderMap",{CartesianGrid:{handler:Td,once:!0},ReferenceArea:{handler:E.renderReferenceElement},ReferenceLine:{handler:Td},ReferenceDot:{handler:E.renderReferenceElement},XAxis:{handler:Td},YAxis:{handler:Td},Brush:{handler:E.renderBrush,once:!0},Bar:{handler:E.renderGraphicChild},Line:{handler:E.renderGraphicChild},Area:{handler:E.renderGraphicChild},Radar:{handler:E.renderGraphicChild},RadialBar:{handler:E.renderGraphicChild},Scatter:{handler:E.renderGraphicChild},Pie:{handler:E.renderGraphicChild},Funnel:{handler:E.renderGraphicChild},Tooltip:{handler:E.renderCursor,once:!0},PolarGrid:{handler:E.renderPolarGrid,once:!0},PolarAngleAxis:{handler:E.renderPolarAxis},PolarRadiusAxis:{handler:E.renderPolarAxis},Customized:{handler:E.renderCustomized}}),E.clipPathId="".concat((S=x.id)!==null&&S!==void 0?S:Vm("recharts"),"-clip"),E.throttleTriggeredAfterMouseMove=TN(E.triggeredAfterMouseMove,(O=x.throttleDelay)!==null&&O!==void 0?O:1e3/60),E.state={},E}return vme(g,_),pme(g,[{key:"componentDidMount",value:function(){var S,O;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(O=this.props.margin.top)!==null&&O!==void 0?O:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var S=this.props,O=S.children,E=S.data,A=S.height,b=S.layout,T=Tn(O,nr);if(T){var I=T.props.defaultIndex;if(!(typeof I!="number"||I<0||I>this.state.tooltipTicks.length-1)){var j=this.state.tooltipTicks[I]&&this.state.tooltipTicks[I].value,C=Fb(this.state,E,I,j),R=this.state.tooltipTicks[I].coordinate,k=(this.state.offset.top+A)/2,D=b==="horizontal",V=D?{x:R,y:k}:{y:R,x:k},z=this.state.formattedGraphicalItems.find(function($){var U=$.item;return U.type.name==="Scatter"});z&&(V=q(q({},V),z.props.points[I].tooltipPosition),C=z.props.points[I].tooltipPayload);var L={activeTooltipIndex:I,isTooltipActive:!0,activeLabel:j,activePayload:C,activeCoordinate:V};this.setState(L),this.renderCursor(T),this.accessibilityManager.setIndex(I)}}}},{key:"getSnapshotBeforeUpdate",value:function(S,O){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==O.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==S.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==S.margin){var E,A;this.accessibilityManager.setDetails({offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0}})}return null}},{key:"componentDidUpdate",value:function(S){b0([Tn(S.children,nr)],[Tn(this.props.children,nr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var S=Tn(this.props.children,nr);if(S&&typeof S.props.shared=="boolean"){var O=S.props.shared?"axis":"item";return s.indexOf(O)>=0?O:o}return o}},{key:"getMouseInfo",value:function(S){if(!this.container)return null;var O=this.container,E=O.getBoundingClientRect(),A=wne(E),b={chartX:Math.round(S.pageX-A.left),chartY:Math.round(S.pageY-A.top)},T=E.width/O.offsetWidth||1,I=this.inRange(b.chartX,b.chartY,T);if(!I)return null;var j=this.state,C=j.xAxisMap,R=j.yAxisMap,k=this.getTooltipEventType(),D=aI(this.state,this.props.data,this.props.layout,I);if(k!=="axis"&&C&&R){var V=Fi(C).scale,z=Fi(R).scale,L=V&&V.invert?V.invert(b.chartX):null,$=z&&z.invert?z.invert(b.chartY):null;return q(q({},b),{},{xValue:L,yValue:$},D)}return D?q(q({},b),D):null}},{key:"inRange",value:function(S,O){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,A=this.props.layout,b=S/E,T=O/E;if(A==="horizontal"||A==="vertical"){var I=this.state.offset,j=b>=I.left&&b<=I.left+I.width&&T>=I.top&&T<=I.top+I.height;return j?{x:b,y:T}:null}var C=this.state,R=C.angleAxisMap,k=C.radiusAxisMap;if(R&&k){var D=Fi(R);return qA({x:b,y:T},D)}return null}},{key:"parseEventsOfWrapper",value:function(){var S=this.props.children,O=this.getTooltipEventType(),E=Tn(S,nr),A={};E&&O==="axis"&&(E.props.trigger==="click"?A={onClick:this.handleClick}:A={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var b=Bh(this.props,this.handleOuterEvent);return q(q({},b),A)}},{key:"addListener",value:function(){zy.on(Uy,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){zy.removeListener(Uy,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(S,O,E){for(var A=this.state.formattedGraphicalItems,b=0,T=A.length;b<T;b++){var I=A[b];if(I.item===S||I.props.key===S.key||O===Jr(I.item.type)&&E===I.childIndex)return I}return null}},{key:"renderClipPath",value:function(){var S=this.clipPathId,O=this.state.offset,E=O.left,A=O.top,b=O.height,T=O.width;return F.createElement("defs",null,F.createElement("clipPath",{id:S},F.createElement("rect",{x:E,y:A,height:b,width:T})))}},{key:"getXScales",value:function(){var S=this.state.xAxisMap;return S?Object.entries(S).reduce(function(O,E){var A=rI(E,2),b=A[0],T=A[1];return q(q({},O),{},ce({},b,T.scale))},{}):null}},{key:"getYScales",value:function(){var S=this.state.yAxisMap;return S?Object.entries(S).reduce(function(O,E){var A=rI(E,2),b=A[0],T=A[1];return q(q({},O),{},ce({},b,T.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(S){var O;return(O=this.state.xAxisMap)===null||O===void 0||(O=O[S])===null||O===void 0?void 0:O.scale}},{key:"getYScaleByAxisId",value:function(S){var O;return(O=this.state.yAxisMap)===null||O===void 0||(O=O[S])===null||O===void 0?void 0:O.scale}},{key:"getItemByXY",value:function(S){var O=this.state,E=O.formattedGraphicalItems,A=O.activeItem;if(E&&E.length)for(var b=0,T=E.length;b<T;b++){var I=E[b],j=I.props,C=I.item,R=C.type.defaultProps!==void 0?q(q({},C.type.defaultProps),C.props):C.props,k=Jr(C.type);if(k==="Bar"){var D=(j.data||[]).find(function($){return lce(S,$)});if(D)return{graphicalItem:I,payload:D}}else if(k==="RadialBar"){var V=(j.data||[]).find(function($){return qA(S,$)});if(V)return{graphicalItem:I,payload:V}}else if(og(I,A)||ag(I,A)||Kc(I,A)){var z=ffe({graphicalItem:I,activeTooltipItem:A,itemData:R.data}),L=R.activeIndex===void 0?z:R.activeIndex;return{graphicalItem:q(q({},I),{},{childIndex:L}),payload:Kc(I,A)?R.data[z]:I.props.data[z]}}}return null}},{key:"render",value:function(){var S=this;if(!$E(this))return null;var O=this.props,E=O.children,A=O.className,b=O.width,T=O.height,I=O.style,j=O.compact,C=O.title,R=O.desc,k=iI(O,sme),D=ke(k,!1);if(j)return F.createElement(zP,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},F.createElement(_0,ls({},D,{width:b,height:T,title:C,desc:R}),this.renderClipPath(),LE(E,this.renderMap)));if(this.props.accessibilityLayer){var V,z;D.tabIndex=(V=this.props.tabIndex)!==null&&V!==void 0?V:0,D.role=(z=this.props.role)!==null&&z!==void 0?z:"application",D.onKeyDown=function($){S.accessibilityManager.keyboardEvent($)},D.onFocus=function(){S.accessibilityManager.focus()}}var L=this.parseEventsOfWrapper();return F.createElement(zP,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},F.createElement("div",ls({className:Ce("recharts-wrapper",A),style:q({position:"relative",cursor:"default",width:b,height:T},I)},L,{ref:function(U){S.container=U}}),F.createElement(_0,ls({},D,{width:b,height:T,title:C,desc:R,style:Eme}),this.renderClipPath(),LE(E,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(M.Component);ce(y,"displayName",n),ce(y,"defaultProps",q({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),ce(y,"getDerivedStateFromProps",function(_,g){var x=_.dataKey,S=_.data,O=_.children,E=_.width,A=_.height,b=_.layout,T=_.stackOffset,I=_.margin,j=g.dataStartIndex,C=g.dataEndIndex;if(g.updateId===void 0){var R=sI(_);return q(q(q({},R),{},{updateId:0},m(q(q({props:_},R),{},{updateId:0}),g)),{},{prevDataKey:x,prevData:S,prevWidth:E,prevHeight:A,prevLayout:b,prevStackOffset:T,prevMargin:I,prevChildren:O})}if(x!==g.prevDataKey||S!==g.prevData||E!==g.prevWidth||A!==g.prevHeight||b!==g.prevLayout||T!==g.prevStackOffset||!_s(I,g.prevMargin)){var k=sI(_),D={chartX:g.chartX,chartY:g.chartY,isTooltipActive:g.isTooltipActive},V=q(q({},aI(g,S,b)),{},{updateId:g.updateId+1}),z=q(q(q({},k),D),V);return q(q(q({},z),m(q({props:_},z),g)),{},{prevDataKey:x,prevData:S,prevWidth:E,prevHeight:A,prevLayout:b,prevStackOffset:T,prevMargin:I,prevChildren:O})}if(!b0(O,g.prevChildren)){var L,$,U,H,Q=Tn(O,Qs),G=Q&&(L=($=Q.props)===null||$===void 0?void 0:$.startIndex)!==null&&L!==void 0?L:j,ne=Q&&(U=(H=Q.props)===null||H===void 0?void 0:H.endIndex)!==null&&U!==void 0?U:C,ue=G!==j||ne!==C,pe=!je(S),ge=pe&&!ue?g.updateId:g.updateId+1;return q(q({updateId:ge},m(q(q({props:_},g),{},{updateId:ge,dataStartIndex:G,dataEndIndex:ne}),g)),{},{prevChildren:O,dataStartIndex:G,dataEndIndex:ne})}return null}),ce(y,"renderActiveDot",function(_,g,x){var S;return M.isValidElement(_)?S=M.cloneElement(_,g):xe(_)?S=_(g):S=F.createElement(qM,g),F.createElement(Dt,{className:"recharts-active-dot",key:x},S)});var w=M.forwardRef(function(g,x){return F.createElement(y,ls({},g,{ref:x}))});return w.displayName=y.displayName,w},DD=Nme({chartName:"BarChart",GraphicalChild:di,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Pf},{axisType:"yAxis",AxisComp:If}],formatAxisMap:Dde});const Mme=["","",""],Dme=["#ffd700","#c0c0c0","#cd7f32"];function Hy({label:t,score:e,weighted:n,weight:r,color:i,formula:o}){const a=Math.round(e*100);return h.jsxs("div",{style:{marginBottom:12},children:[h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:4,fontSize:12},children:[h.jsx("span",{style:{color:"rgba(240,255,223,0.75)",fontWeight:600},children:t}),h.jsxs("span",{style:{color:i,fontWeight:700},children:[a,"%"," ",h.jsxs("span",{style:{color:"rgba(240,255,223,0.38)",fontWeight:400},children:["",r,"  ",Math.round(n*100),"%"]})]})]}),h.jsx("div",{style:{height:7,borderRadius:99,background:"rgba(255,255,255,0.07)"},children:h.jsx("div",{style:{height:"100%",width:`${a}%`,background:i,borderRadius:99,transition:"width 0.6s ease"}})}),h.jsx("div",{style:{fontFamily:"monospace",fontSize:12,color:"rgba(240,255,223,0.85)",marginTop:2},children:o})]})}function $me({user:t,initialData:e,testScores:n}){const[r,i]=M.useState(e&&Object.keys(e).length>0?"done":"idle"),[o,a]=M.useState(e&&Object.keys(e).length>0?e:null),[s,l]=M.useState(""),[u,c]=M.useState(e&&Object.keys(e).length>0),[f,p]=M.useState({});F.useEffect(()=>{e&&Object.keys(e).length>0&&(a(e),i("done"),c(!0))},[e]);const m=t==null?void 0:t.uid,y=(t==null?void 0:t.skills)||[],w=(t==null?void 0:t.interests)||[],_=async()=>{i("loading"),l("");let O=(n==null?void 0:n.scores)||{};if(!n||Object.keys(n).length===0)try{const E=await or(Ve(Be,"test_scores",m));E.exists()&&(O=E.data().scores||{})}catch(E){console.warn("Firestore test_scores",E)}try{const E=await fetch("/api/career/match",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({skills:y,interests:w,test_scores:O})}),A=await E.json();if(!E.ok||A.error){l(A.error||"Matching failed."),i("error");return}if(a(A),i("done"),m)try{await Ao(Ve(Be,"career_matches",m),{uid:m,top_matches:A.top_matches.map(b=>({role:b.role,domain:b.domain,match_pct:b.match_pct})),all_scores:A.all_scores,calculatedAt:mi()},{merge:!0}),c(!0)}catch(b){console.warn("Firestore save",b)}}catch(E){l(`Network error: ${E.message}`),i("error")}};if(r==="idle"||r==="error")return h.jsxs("div",{style:{maxWidth:640,margin:"0 auto",padding:24},children:[s&&h.jsx("div",{style:{background:"rgba(248,113,113,0.12)",border:"1px solid #f87171",borderRadius:10,padding:"12px 16px",marginBottom:16,color:"#f87171",fontSize:14},children:s}),h.jsxs("div",{style:{background:"rgba(255,255,255,0.04)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:16,padding:32,textAlign:"center"},children:[h.jsx("div",{style:{fontSize:48,marginBottom:12},children:""}),h.jsx("h2",{style:{color:"#f0ffdf",fontSize:22,marginBottom:8},children:"Career Matching"}),h.jsxs("p",{style:{color:"rgba(240,255,223,0.5)",fontSize:13,marginBottom:28,lineHeight:1.6},children:["Analyses your ",h.jsx("strong",{children:"skills"}),", ",h.jsx("strong",{children:"interests"})," & ",h.jsx("strong",{children:"assessment scores"}),h.jsx("br",{}),"to find your top 3 most suitable career roles."]}),h.jsx("button",{onClick:_,style:{background:"linear-gradient(135deg,#f59e0b,#ef4444)",color:"#fff",border:"none",borderRadius:10,padding:"12px 36px",fontSize:15,fontWeight:700,cursor:"pointer"},children:"Find My Best Career Match"})]})]});if(r==="loading")return h.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:320,gap:16},children:[h.jsx(Cn,{size:40,color:"#f59e0b",style:{animation:"spin 1s linear infinite"}}),h.jsx("p",{style:{color:"rgba(240,255,223,0.7)"},children:"Finding your best career matches"})]});const{top_matches:g,all_scores:x,formula_legend:S}=o;return h.jsxs("div",{style:{maxWidth:900,margin:"0 auto",padding:"24px 16px"},children:[h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:20,flexWrap:"wrap",gap:12},children:[h.jsxs("div",{children:[h.jsx("h2",{style:{color:"#f0ffdf",fontSize:20,fontWeight:800,margin:0},children:"Your Top Career Matches"}),h.jsxs("p",{style:{color:"rgba(240,255,223,0.45)",fontSize:13,marginTop:4},children:["Skills  Interests  Assessment scores",u&&h.jsx("span",{style:{color:"#4ade80",marginLeft:12},children:" Saved"})]})]}),h.jsx("button",{onClick:()=>{i("idle"),a(null),c(!1),p({})},style:{padding:"8px 18px",borderRadius:8,border:"1px solid rgba(245,158,11,0.35)",background:"transparent",color:"#fbbf24",fontSize:13,fontWeight:600,cursor:"pointer"},children:" Recalculate"})]}),h.jsxs("div",{style:{background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.07)",borderRadius:12,padding:"14px 18px",marginBottom:18},children:[h.jsx("div",{style:{color:"#f0ffdf",fontSize:12,fontWeight:700,marginBottom:8},children:" Formula Applied"}),Object.values(S).map((O,E)=>h.jsx("div",{style:{fontFamily:"monospace",fontSize:13,color:"rgba(240,255,223,0.9)",padding:"3px 0"},children:O},E))]}),h.jsxs("div",{style:{background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.07)",borderRadius:12,padding:"14px 18px",marginBottom:22},children:[h.jsx("div",{style:{color:"#f0ffdf",fontSize:12,fontWeight:700,marginBottom:10},children:"All Roles  Match Score"}),x.map((O,E)=>h.jsxs("div",{style:{marginBottom:8},children:[h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:12,marginBottom:3},children:[h.jsx("span",{style:{color:"rgba(240,255,223,0.7)",textTransform:"capitalize"},children:O.role}),h.jsxs("span",{style:{color:"#fbbf24",fontWeight:700},children:[O.match_pct,"%"]})]}),h.jsx("div",{style:{height:4,borderRadius:99,background:"rgba(255,255,255,0.06)"},children:h.jsx("div",{style:{height:"100%",width:`${O.match_pct}%`,background:"linear-gradient(90deg,#f59e0b,#ef4444)",borderRadius:99}})})]},E))]}),g.map((O,E)=>{const A=Mme[E],b=Dme[E],T=O.breakdown,I=f[E];return h.jsxs("div",{style:{background:"rgba(255,255,255,0.04)",border:`1px solid ${b}44`,borderRadius:20,padding:24,marginBottom:20,boxShadow:`0 0 28px ${b}14`},children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:14,marginBottom:18,flexWrap:"wrap"},children:[h.jsx("span",{style:{fontSize:36},children:A}),h.jsxs("div",{style:{flex:1},children:[h.jsx("div",{style:{color:b,fontSize:20,fontWeight:800,textTransform:"capitalize"},children:O.role}),h.jsxs("div",{style:{color:"rgba(240,255,223,0.4)",fontSize:12,marginTop:2,textTransform:"capitalize"},children:["Domain: ",O.domain]})]}),h.jsxs("div",{style:{textAlign:"center"},children:[h.jsxs("div",{style:{fontSize:42,fontWeight:900,color:b,lineHeight:1},children:[O.match_pct,"%"]}),h.jsx("div",{style:{fontSize:11,color:"rgba(240,255,223,0.38)",marginTop:2},children:"Career Match"})]})]}),O.description&&h.jsx("p",{style:{color:"rgba(240,255,223,0.6)",fontSize:13,lineHeight:1.6,marginBottom:18,borderLeft:`3px solid ${b}55`,paddingLeft:12},children:O.description.split(":contentReference")[0].trim()}),h.jsxs("div",{style:{marginBottom:14},children:[h.jsx(Hy,{label:" Test Alignment",score:T.test_alignment.score,weighted:T.test_alignment.weighted,weight:T.test_alignment.weight,color:"#60a5fa",formula:T.test_alignment.formula}),h.jsx(Hy,{label:" Skill Overlap",score:T.skill_overlap.score,weighted:T.skill_overlap.weighted,weight:T.skill_overlap.weight,color:"#4ade80",formula:T.skill_overlap.formula}),h.jsx(Hy,{label:" Interest Match",score:T.interest_score.score,weighted:T.interest_score.weighted,weight:T.interest_score.weight,color:"#fbbf24",formula:T.interest_score.formula})]}),h.jsx("div",{style:{fontFamily:"monospace",fontSize:13,color:"#FFFFFF",background:`${b}15`,border:`1px solid ${b}33`,borderRadius:8,padding:"10px 14px",marginBottom:16},children:T.final.formula}),h.jsxs("div",{style:{display:"flex",gap:16,flexWrap:"wrap",marginBottom:16},children:[h.jsxs("div",{style:{flex:1,minWidth:180},children:[h.jsxs("div",{style:{fontSize:12,color:"#4ade80",fontWeight:700,marginBottom:6},children:[" Matched Skills (",O.matched_skills.length,")"]}),h.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:5},children:[O.matched_skills.map(j=>h.jsx("span",{style:{background:"rgba(74,222,128,0.09)",border:"1px solid rgba(74,222,128,0.28)",color:"#4ade80",borderRadius:99,padding:"2px 8px",fontSize:11,textTransform:"capitalize"},children:j},j)),O.matched_skills.length===0&&h.jsx("span",{style:{color:"rgba(240,255,223,0.3)",fontSize:11},children:"None yet"})]})]}),h.jsxs("div",{style:{flex:1,minWidth:180},children:[h.jsxs("div",{style:{fontSize:12,color:"#f87171",fontWeight:700,marginBottom:6},children:[" Skills to Learn (",O.missing_skills.length,")"]}),h.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:5},children:O.missing_skills.slice(0,7).map(j=>h.jsx("span",{style:{background:"rgba(248,113,113,0.09)",border:"1px solid rgba(248,113,113,0.22)",color:"#f87171",borderRadius:99,padding:"2px 8px",fontSize:11,textTransform:"capitalize"},children:j},j))})]})]}),Object.keys(O.salary_india||{}).length>0&&h.jsxs("div",{style:{background:"rgba(255,255,255,0.03)",borderRadius:10,padding:"10px 14px",marginBottom:14,fontSize:12},children:[h.jsx("span",{style:{color:"rgba(240,255,223,0.45)",marginRight:8},children:" India Salary:"}),Object.entries(O.salary_india).map(([j,C])=>h.jsxs("span",{style:{color:"#fbbf24",marginRight:16},children:[h.jsxs("span",{style:{color:"rgba(240,255,223,0.38)",textTransform:"capitalize"},children:[j.replace(/_/g," "),": "]}),C]},j))]}),h.jsxs("button",{onClick:()=>p(j=>({...j,[E]:!j[E]})),style:{width:"100%",padding:"8px 0",borderRadius:8,border:`1px solid ${b}33`,background:"transparent",color:`${b}bb`,fontSize:12,fontWeight:600,cursor:"pointer"},children:[I?" Hide":" Show"," Step-by-Step Test Alignment Calculation"]}),I&&h.jsx("div",{style:{overflowX:"auto",marginTop:14},children:h.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:11},children:[h.jsx("thead",{children:h.jsx("tr",{children:["Skill","Your Score","Benchmark","Contribution = min(U,B)","Formula"].map(j=>h.jsx("th",{style:{textAlign:"left",padding:"6px 8px",color:"rgba(240,255,223,0.4)",fontWeight:600,borderBottom:"1px solid rgba(255,255,255,0.07)",whiteSpace:"nowrap"},children:j},j))})}),h.jsx("tbody",{children:O.test_steps.map((j,C)=>h.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.04)"},children:[h.jsx("td",{style:{padding:"6px 8px",color:"rgba(240,255,223,0.8)",fontWeight:600,textTransform:"capitalize"},children:j.skill}),h.jsxs("td",{style:{padding:"6px 8px",color:"#60a5fa",fontFamily:"monospace"},children:[Math.round(j.user_score*100),"%"]}),h.jsxs("td",{style:{padding:"6px 8px",color:"#a5b4fc",fontFamily:"monospace"},children:[Math.round(j.benchmark*100),"%"]}),h.jsxs("td",{style:{padding:"6px 8px",color:j.contribution>0?"#4ade80":"rgba(240,255,223,0.2)",fontFamily:"monospace",fontWeight:700},children:[Math.round(j.contribution*100),"%"]}),h.jsx("td",{style:{padding:"6px 8px",color:"rgba(240,255,223,0.85)",fontFamily:"monospace",fontSize:12},children:j.formula})]},C))}),h.jsx("tfoot",{children:h.jsxs("tr",{style:{background:"rgba(255,255,255,0.03)",borderTop:"1px solid rgba(255,255,255,0.08)"},children:[h.jsx("td",{colSpan:3,style:{padding:"8px",color:"rgba(240,255,223,0.6)",fontWeight:700},children:"test_alignment"}),h.jsx("td",{colSpan:2,style:{padding:"8px",color:"#FFFFFF",fontFamily:"monospace",fontSize:13,fontWeight:800},children:T.test_alignment.formula})]})})]})})]},E)})]})}const Fme={book:"",course:"",docs:"",youtube:"",tool:""},uI=["#c084fc","#60a5fa","#4ade80","#fbbf24"],Lme=["","",""],Vme=["#ffd700","#c0c0c0","#cd7f32"];function Bme({match:t,idx:e,isSelected:n,onSelect:r,onGenerate:i,generating:o}){var l,u,c;const a=Vme[e],s=Lme[e];return h.jsxs("div",{onClick:r,style:{cursor:"pointer",background:n?`${a}15`:"rgba(255,255,255,0.04)",border:`2px solid ${n?a:a+"44"}`,borderRadius:18,padding:22,flex:"1 1 260px",minWidth:220,maxWidth:310,position:"relative",transition:"transform 0.3s ease, box-shadow 0.3s ease",animation:`float-card-${e} 3s ease-in-out infinite`,boxShadow:n?`0 8px 32px ${a}33`:`0 4px 16px ${a}18`},children:[h.jsx("style",{children:`
                @keyframes float-card-0 { 0%,100%{transform:translateY(0)} 50%{transform:translateY(-8px)} }
                @keyframes float-card-1 { 0%,100%{transform:translateY(0)} 50%{transform:translateY(-6px)} }
                @keyframes float-card-2 { 0%,100%{transform:translateY(0)} 50%{transform:translateY(-10px)} }
            `}),h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:10},children:[h.jsx("span",{style:{fontSize:28},children:s}),h.jsxs("div",{children:[h.jsx("div",{style:{color:a,fontSize:15,fontWeight:800,textTransform:"capitalize"},children:t.role}),h.jsx("div",{style:{color:"rgba(240,255,223,0.4)",fontSize:11,textTransform:"capitalize"},children:t.domain})]}),h.jsxs("div",{style:{marginLeft:"auto",textAlign:"center"},children:[h.jsxs("div",{style:{fontSize:26,fontWeight:900,color:a,lineHeight:1},children:[t.match_pct,"%"]}),h.jsx("div",{style:{fontSize:10,color:"rgba(240,255,223,0.35)"},children:"match"})]})]}),t.breakdown&&h.jsx("div",{style:{fontSize:10,color:"rgba(240,255,223,0.5)",display:"flex",flexDirection:"column",gap:3,marginBottom:12},children:[{label:"Test",val:(l=t.breakdown.test_alignment)==null?void 0:l.score,color:"#60a5fa"},{label:"Skills",val:(u=t.breakdown.skill_overlap)==null?void 0:u.score,color:"#4ade80"},{label:"Interest",val:(c=t.breakdown.interest_score)==null?void 0:c.score,color:"#fbbf24"}].map(({label:f,val:p,color:m})=>h.jsxs("div",{children:[h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:1},children:[h.jsx("span",{children:f}),h.jsxs("span",{style:{color:m,fontWeight:700},children:[Math.round((p||0)*100),"%"]})]}),h.jsx("div",{style:{height:3,borderRadius:99,background:"rgba(255,255,255,0.07)"},children:h.jsx("div",{style:{height:"100%",width:`${Math.round((p||0)*100)}%`,background:m,borderRadius:99}})})]},f))}),h.jsx("button",{onClick:f=>{f.stopPropagation(),i(t)},disabled:o,style:{width:"100%",padding:"8px 0",borderRadius:8,background:n?`linear-gradient(135deg,${a},${a}bb)`:"rgba(255,255,255,0.06)",color:n?"#0a0a0f":a,border:`1px solid ${a}55`,fontSize:12,fontWeight:700,cursor:o?"not-allowed":"pointer",opacity:o?.7:1},children:o?" Generating":" Generate Roadmap"})]})}function zme({phase:t,idx:e}){var o,a,s,l;const n=uI[e%uI.length],[r,i]=M.useState(e===0);return h.jsxs("div",{style:{marginBottom:16,border:`1px solid ${n}44`,borderRadius:14,overflow:"hidden"},children:[h.jsxs("div",{onClick:()=>i(u=>!u),style:{display:"flex",alignItems:"center",gap:12,padding:"14px 20px",background:`${n}10`,cursor:"pointer"},children:[h.jsx("div",{style:{width:36,height:36,borderRadius:"50%",background:n,display:"flex",alignItems:"center",justifyContent:"center",fontWeight:900,color:"#0a0a0f",fontSize:14,flexShrink:0},children:t.phase_number}),h.jsxs("div",{style:{flex:1},children:[h.jsx("div",{style:{color:e===0?"#e9d5ff":n,fontSize:15,fontWeight:800},children:t.title}),h.jsxs("div",{style:{color:"rgba(240,255,223,0.45)",fontSize:11,marginTop:2},children:[" ",t.duration]})]}),h.jsx("span",{style:{color:n,fontSize:18},children:r?"":""})]}),r&&h.jsxs("div",{style:{padding:"18px 20px",background:"rgba(255,255,255,0.02)"},children:[((o=t.goals)==null?void 0:o.length)>0&&h.jsxs("div",{style:{marginBottom:14},children:[h.jsx("div",{style:{color:n,fontWeight:700,fontSize:12,marginBottom:6},children:" Goals"}),h.jsx("ul",{style:{margin:0,paddingLeft:20},children:t.goals.map((u,c)=>h.jsx("li",{style:{color:"rgba(240,255,223,0.7)",fontSize:13,marginBottom:3},children:u},c))})]}),((a=t.skills_to_learn)==null?void 0:a.length)>0&&h.jsxs("div",{style:{marginBottom:14},children:[h.jsx("div",{style:{color:n,fontWeight:700,fontSize:12,marginBottom:6},children:" Skills to Learn"}),h.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:5},children:t.skills_to_learn.map(u=>h.jsx("span",{style:{background:`${n}14`,border:`1px solid ${n}33`,color:n,borderRadius:99,padding:"3px 10px",fontSize:11},children:u},u))})]}),((s=t.projects)==null?void 0:s.length)>0&&h.jsxs("div",{style:{marginBottom:14},children:[h.jsx("div",{style:{color:n,fontWeight:700,fontSize:12,marginBottom:8},children:" Projects"}),h.jsx("div",{style:{display:"flex",flexDirection:"column",gap:8},children:t.projects.map((u,c)=>h.jsxs("div",{style:{background:`${n}09`,border:`1px solid ${n}22`,borderRadius:10,padding:"10px 14px"},children:[h.jsx("div",{style:{color:n,fontWeight:700,fontSize:13},children:u.name}),h.jsx("div",{style:{color:"rgba(240,255,223,0.6)",fontSize:12,margin:"4px 0 6px"},children:u.description}),h.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:4},children:(u.tech_stack||[]).map(f=>h.jsx("span",{style:{background:"rgba(255,255,255,0.06)",color:"rgba(240,255,223,0.7)",borderRadius:4,padding:"1px 6px",fontSize:10},children:f},f))})]},c))})]}),((l=t.resources)==null?void 0:l.length)>0&&h.jsxs("div",{children:[h.jsx("div",{style:{color:n,fontWeight:700,fontSize:12,marginBottom:8},children:" Resources"}),h.jsx("div",{style:{display:"flex",flexDirection:"column",gap:6},children:t.resources.map((u,c)=>h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,background:"rgba(255,255,255,0.03)",borderRadius:8,padding:"8px 12px"},children:[h.jsx("span",{style:{fontSize:16},children:Fme[u.type]||""}),h.jsxs("div",{children:[h.jsx("div",{style:{color:"rgba(240,255,223,0.85)",fontSize:12,fontWeight:600},children:u.title}),h.jsxs("div",{style:{color:"rgba(240,255,223,0.4)",fontSize:10},children:[u.type,"  ",u.url_or_platform]})]})]},c))})]})]})]})}function Ume({user:t,initialData:e,careerMatches:n,testScores:r,skillGaps:i,swot:o}){var j,C,R,k;const[a,s]=M.useState(n&&n.top_matches?n.top_matches:[]),[l,u]=M.useState(!(n&&n.top_matches)),[c,f]=M.useState(null),[p,m]=M.useState(e&&e.roadmaps?e.roadmaps:{}),[y,w]=M.useState(n&&((C=(j=n.top_matches)==null?void 0:j[0])==null?void 0:C.role)||null),[_,g]=M.useState(""),[x,S]=M.useState({});M.useEffect(()=>{var D;n&&n.top_matches&&(s(n.top_matches),y||w((D=n.top_matches[0])==null?void 0:D.role),u(!1))},[n]),M.useEffect(()=>{if(e&&e.roadmaps){m(e.roadmaps);const D={};Object.keys(e.roadmaps).forEach(V=>{D[V]=!0}),S(D)}},[e]);const O=t==null?void 0:t.uid;M.useEffect(()=>{if(!O||n&&e)return;(async()=>{var V,z;try{if(!n){const L=await or(Ve(Be,"career_matches",O));if(L.exists()){const $=L.data();s($.top_matches||[]),w(((z=(V=$.top_matches)==null?void 0:V[0])==null?void 0:z.role)||null)}}if(!e){const L=await or(Ve(Be,"roadmaps",O));L.exists()&&(m(L.data().roadmaps||{}),S($=>{const U={...$};return Object.keys(L.data().roadmaps||{}).forEach(H=>{U[H]=!0}),U}))}}catch(L){console.warn("Firestore load",L)}u(!1)})()},[O,n,e]);const E=async D=>{const V={name:(t==null?void 0:t.fullName)||(t==null?void 0:t.username)||"Student",domain:D.domain||"",skills:(t==null?void 0:t.skills)||[],interests:(t==null?void 0:t.interests)||[],education:(t==null?void 0:t.educationLevel)||"",university:(t==null?void 0:t.university)||"",currentYear:(t==null?void 0:t.currentYear)||""};let z=(r==null?void 0:r.scores)||{};if(!r||Object.keys(r).length===0)try{const H=await or(Ve(Be,"test_scores",O));H.exists()&&(z=H.data().scores||{})}catch{}let L=(i==null?void 0:i.skill_results)||{},$=(i==null?void 0:i.totals)||{};if(!i||Object.keys(i).length===0)try{const H=await or(Ve(Be,"skill_gaps",O));H.exists()&&(L=H.data().skill_results||{},$=H.data().totals||{})}catch{}let U=o||{};if(!o||Object.keys(o).length===0)try{const H=await or(Ve(Be,"swot_analyses",O));H.exists()&&(U=H.data()||{})}catch{}return{role:D.role,match_pct:D.match_pct,profile:V,test_scores:z,skill_results:L,totals:$,swot:U}},A=async D=>{f(D.role),g("");try{const V=await E(D),z=await fetch("/api/roadmap/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(V)});if(z.status===404){g("Error 404: Endpoint not found. Please STOP and RESTART your Flask server (python run.py) to pick up the new code."),f(null);return}let L;const $=await z.text();try{L=JSON.parse($)}catch{g(`Server Error (${z.status}): Invalid response format. Check if backend is running.`),f(null);return}if(!z.ok||L.error){g(L.error||`Generation failed (Status ${z.status}).`),f(null);return}if(m(U=>({...U,[D.role]:L})),w(D.role),O)try{const U={...p,[D.role]:L};await Ao(Ve(Be,"roadmaps",O),{uid:O,roadmaps:U,updatedAt:mi()},{merge:!0}),S(H=>({...H,[D.role]:!0}))}catch(U){console.warn("Firestore save",U)}}catch(V){g(`Network error: ${V.message}`)}f(null)},b=()=>{if(!I)return;let D=`SKILLBRIDGE CAREER ROADMAP: ${I.role.toUpperCase()}
`;D+=`================================================================

`,D+=`Summary: ${I.summary}
`,D+=`Total Duration: ${I.total_duration}

`,I.phases.forEach($=>{D+=`PHASE ${$.phase_number}: ${$.title}
`,D+=`Duration: ${$.duration}
`,D+=`----------------------------------------------------------------
`,$.goals&&$.goals.length>0&&(D+=`Goals:
`,$.goals.forEach(U=>D+=` - ${U}
`)),$.skills_to_learn&&$.skills_to_learn.length>0&&(D+=`Skills:
 - ${$.skills_to_learn.join(", ")}
`),$.projects&&$.projects.length>0&&(D+=`Projects:
`,$.projects.forEach(U=>{D+=` * ${U.name}: ${U.description}
`,U.tech_stack&&(D+=`   Tech Stack: ${U.tech_stack.join(", ")}
`)})),$.resources&&$.resources.length>0&&(D+=`Resources:
`,$.resources.forEach(U=>D+=` > ${U.title} (${U.type}): ${U.url_or_platform}
`)),D+=`
`}),I.final_milestones&&I.final_milestones.length>0&&(D+=`FINAL MILESTONES:
`,I.final_milestones.forEach($=>D+=`  ${$}
`),D+=`
`),I.job_ready_checklist&&I.job_ready_checklist.length>0&&(D+=`JOB-READY CHECKLIST:
`,I.job_ready_checklist.forEach($=>D+=` [ ] ${$}
`));const V=new Blob([D],{type:"text/plain"}),z=URL.createObjectURL(V),L=document.createElement("a");L.href=z,L.download=`SkillBridge_Roadmap_${I.role.replace(/\s+/g,"_")}.txt`,document.body.appendChild(L),L.click(),document.body.removeChild(L),URL.revokeObjectURL(z)},T=()=>{window.print()};if(l)return h.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:320,flexDirection:"column",gap:16},children:[h.jsx(Cn,{size:36,color:"#a855f7",style:{animation:"spin 1s linear infinite"}}),h.jsx("p",{style:{color:"rgba(240,255,223,0.6)"},children:"Loading your career data"})]});if(a.length===0)return h.jsxs("div",{style:{maxWidth:520,margin:"48px auto",textAlign:"center",padding:24},children:[h.jsx("div",{style:{fontSize:48,marginBottom:12},children:""}),h.jsx("h2",{style:{color:"#f0ffdf",fontSize:20,marginBottom:8},children:"No Career Matches Yet"}),h.jsxs("p",{style:{color:"rgba(240,255,223,0.5)",fontSize:13,lineHeight:1.6},children:["Please complete the ",h.jsx("strong",{children:"Career Match"})," tab first to generate career matches,",h.jsx("br",{}),"then come back here for your personalised roadmap."]})]});const I=p[y];return h.jsxs("div",{style:{maxWidth:960,margin:"0 auto",padding:"24px 16px"},children:[h.jsxs("div",{style:{marginBottom:20},children:[h.jsx("h2",{style:{color:"#f0ffdf",fontSize:20,fontWeight:800,margin:0},children:"Career Roadmap"}),h.jsx("p",{style:{color:"rgba(240,255,223,0.45)",fontSize:13,marginTop:4},children:"AI-generated  Powered by Gemini  Personalised for your profile"})]}),_&&h.jsx("div",{style:{background:"rgba(248,113,113,0.12)",border:"1px solid #f87171",borderRadius:10,padding:"12px 16px",marginBottom:16,color:"#f87171",fontSize:14},children:_}),h.jsx("div",{style:{display:"flex",gap:16,flexWrap:"wrap",marginBottom:28},children:a.map((D,V)=>h.jsx(Bme,{match:D,idx:V,isSelected:y===D.role,onSelect:()=>w(D.role),onGenerate:A,generating:c===D.role},D.role))}),c===y?h.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:280,gap:16},children:[h.jsx(Cn,{size:40,color:"#a855f7",style:{animation:"spin 1s linear infinite"}}),h.jsxs("p",{style:{color:"rgba(240,255,223,0.7)",fontSize:14},children:["Gemini is crafting your personalised roadmap for ",h.jsx("strong",{style:{color:"#c084fc",textTransform:"capitalize"},children:y}),""]}),h.jsx("p",{style:{color:"rgba(240,255,223,0.35)",fontSize:12},children:"This may take 1530 seconds"})]}):h.jsxs("div",{id:"roadmap-content",children:[h.jsx("style",{children:`
                        @media print {
                            body * { visibility: hidden; }
                            #roadmap-content, #roadmap-content * { visibility: visible; }
                            #roadmap-content {
                                position: absolute;
                                left: 0;
                                top: 0;
                                width: 100%;
                                background: white !important;
                                color: black !important;
                                padding: 20px;
                            }
                            .no-print { display: none !important; }
                            #roadmap-content div, #roadmap-content span, #roadmap-content h2, #roadmap-content h4, #roadmap-content p, #roadmap-content li {
                                color: black !important;
                                background: transparent !important;
                                border-color: #ddd !important;
                            }
                        }
                    `}),h.jsxs("div",{style:{background:"rgba(168,85,247,0.09)",border:"1px solid rgba(168,85,247,0.25)",borderRadius:14,padding:"18px 22px",marginBottom:20},children:[h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",flexWrap:"wrap",gap:10},children:[h.jsxs("div",{children:[h.jsxs("div",{style:{color:"#c084fc",fontSize:18,fontWeight:800,textTransform:"capitalize",marginBottom:4},children:[" ",I.role," Roadmap"]}),h.jsxs("div",{style:{color:"rgba(240,255,223,0.5)",fontSize:12},children:[" Total Duration: ",h.jsx("strong",{style:{color:"#f0ffdf"},children:I.total_duration})]})]}),h.jsxs("div",{className:"no-print",style:{display:"flex",gap:8,alignItems:"center",flexWrap:"wrap"},children:[x[y]&&h.jsx("span",{style:{color:"#4ade80",fontSize:12},children:" Saved"}),h.jsxs("button",{onClick:b,style:{display:"flex",alignItems:"center",gap:6,padding:"6px 14px",borderRadius:7,border:"1px solid rgba(168,85,247,0.3)",background:"transparent",color:"#c084fc",fontSize:12,cursor:"pointer",fontWeight:600},children:[h.jsx(vc,{size:14})," Download TXT"]}),h.jsxs("button",{onClick:T,style:{display:"flex",alignItems:"center",gap:6,padding:"6px 14px",borderRadius:7,border:"1px solid rgba(35,114,39,0.3)",background:"transparent",color:"#4ade80",fontSize:12,cursor:"pointer",fontWeight:600},children:[h.jsx(I7,{size:14})," Download PDF"]}),h.jsx("button",{onClick:()=>A(a.find(D=>D.role===y)),style:{padding:"6px 14px",borderRadius:7,border:"1px solid rgba(168,85,247,0.3)",background:"transparent",color:"#c084fc",fontSize:12,cursor:"pointer",fontWeight:600},children:" Regenerate"})]})]}),h.jsx("p",{style:{color:"rgba(240,255,223,0.65)",fontSize:13,lineHeight:1.6,marginTop:10,marginBottom:0},children:I.summary})]}),(I.phases||[]).map((D,V)=>h.jsx(zme,{phase:D,idx:V},V)),((R=I.final_milestones)==null?void 0:R.length)>0&&h.jsxs("div",{style:{background:"rgba(74,222,128,0.07)",border:"1px solid rgba(74,222,128,0.2)",borderRadius:14,padding:"16px 20px",marginBottom:14},children:[h.jsx("div",{style:{color:"#4ade80",fontWeight:700,fontSize:13,marginBottom:10},children:" Final Milestones"}),I.final_milestones.map((D,V)=>h.jsxs("div",{style:{color:"rgba(240,255,223,0.7)",fontSize:13,padding:"4px 0",borderBottom:V<I.final_milestones.length-1?"1px solid rgba(255,255,255,0.05)":"none"},children:[" ",D]},V))]}),((k=I.job_ready_checklist)==null?void 0:k.length)>0&&h.jsxs("div",{style:{background:"rgba(251,191,36,0.07)",border:"1px solid rgba(251,191,36,0.2)",borderRadius:14,padding:"16px 20px"},children:[h.jsx("div",{style:{color:"#fbbf24",fontWeight:700,fontSize:13,marginBottom:10},children:" Job-Ready Checklist"}),I.job_ready_checklist.map((D,V)=>h.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:8,color:"rgba(240,255,223,0.7)",fontSize:13,padding:"4px 0"},children:[h.jsx("span",{style:{color:"#fbbf24",marginTop:1},children:""})," ",D]},V))]})]})]})}const cI={blue:{bar:"#3b82f6",bg:"rgba(59,130,246,0.12)"},purple:{bar:"#a855f7",bg:"rgba(168,85,247,0.12)"},amber:{bar:"#f59e0b",bg:"rgba(245,158,11,0.12)"},green:{bar:"#237227",bg:"rgba(35,114,39,0.12)"}};function Wme({label:t,value:e,color:n="blue"}){const r=cI[n]||cI.blue;return h.jsxs("div",{style:{marginBottom:14},children:[h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:6},children:[h.jsx("span",{style:{fontSize:13,color:"rgba(240,255,223,0.75)"},children:t}),h.jsxs("span",{style:{fontSize:13,fontWeight:600,color:r.bar},children:[e,"%"]})]}),h.jsx("div",{style:{height:6,borderRadius:99,background:r.bg,overflow:"hidden"},children:h.jsx("div",{style:{height:"100%",width:`${e}%`,background:r.bar,borderRadius:99,transition:"width 0.6s ease"}})})]})}const Hme=["Overview","Resume Info","GitHub Research","Assessment","Skill Gap","SWOT Analysis","Career Match","Roadmap"],qme={met:{bg:"rgba(74,222,128,0.12)",border:"rgba(74,222,128,0.3)",text:"#4ade80",label:" Met"},minor:{bg:"rgba(96,165,250,0.12)",border:"rgba(96,165,250,0.3)",text:"#60a5fa",label:" Minor"},moderate:{bg:"rgba(251,191,36,0.12)",border:"rgba(251,191,36,0.3)",text:"#fbbf24",label:" Moderate"},critical:{bg:"rgba(248,113,113,0.12)",border:"rgba(248,113,113,0.3)",text:"#f87171",label:" Critical"}};function Gme({user:t,initialData:e,testScores:n}){const[r,i]=M.useState(e&&Object.keys(e).length>0?"done":"idle"),[o,a]=M.useState(e&&Object.keys(e).length>0?e:null),[s,l]=M.useState(""),[u,c]=M.useState(!1);M.useEffect(()=>{e&&Object.keys(e).length>0&&(a(e),i("done"))},[e]);const f=t==null?void 0:t.uid,p=L_(t==null?void 0:t.interests),m=async()=>{i("loading"),l("");let C=(n==null?void 0:n.scores)||{};if(!n||Object.keys(n).length===0)try{const R=await or(Ve(Be,"test_scores",f));R.exists()&&(C=R.data().scores||{})}catch(R){console.warn("Firestore read",R)}try{const R=await fetch("/api/skill-gap/calculate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({domain:p,scores:C})}),k=await R.json();if(!R.ok){l(k.error||"Calculation failed."),i("error");return}if(a(k),i("done"),f)try{await Ao(Ve(Be,"skill_gaps",f),{uid:f,domain:p,role:k.role,skill_results:k.skill_results,totals:k.totals,calculatedAt:mi()},{merge:!0}),c(!0)}catch(D){console.warn("Firestore save",D)}}catch(R){l(`Network error: ${R.message}`),i("error")}};if(r==="idle"||r==="error")return h.jsxs("div",{style:{maxWidth:620,margin:"0 auto",padding:24},children:[s&&h.jsx("div",{style:{background:"rgba(248,113,113,0.12)",border:"1px solid #f87171",borderRadius:10,padding:"12px 16px",marginBottom:16,color:"#f87171",fontSize:14},children:s}),h.jsxs("div",{style:{background:"rgba(255,255,255,0.04)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:16,padding:32,textAlign:"center"},children:[h.jsx(Ls,{size:48,color:"#6366f1",style:{marginBottom:16}}),h.jsx("h2",{style:{color:"#f0ffdf",fontSize:22,marginBottom:8},children:"Skill Gap Analysis"}),h.jsxs("p",{style:{color:"rgba(240,255,223,0.55)",fontSize:14,marginBottom:8},children:["Domain: ",h.jsx("strong",{style:{color:"#a5b4fc"},children:p})]}),h.jsxs("p",{style:{color:"rgba(240,255,223,0.4)",fontSize:13,marginBottom:28},children:["Compares your assessment scores against industry benchmarks.",h.jsx("br",{}),"Take the Assessment tab first for accurate results."]}),h.jsx("button",{onClick:m,style:{background:"linear-gradient(135deg,#6366f1,#4f46e5)",color:"#fff",border:"none",borderRadius:10,padding:"12px 32px",fontSize:15,fontWeight:600,cursor:"pointer"},children:"Analyse My Skill Gap"})]})]});if(r==="loading")return h.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:320,gap:16},children:[h.jsx(Cn,{size:40,color:"#6366f1",style:{animation:"spin 1s linear infinite"}}),h.jsx("p",{style:{color:"rgba(240,255,223,0.7)"},children:"Calculating your skill gap"})]});const{role:y,steps:w,totals:_,formula_legend:g}=o,{readiness:x,total_gap:S,sum_weighted_gaps:O,sum_weights:E}=_,A=Math.round(x),b=A>=70?"#4ade80":A>=45?"#fbbf24":"#f87171",T=A>=70?"Industry Ready":A>=45?"Developing":"Skill Gap Found",I=w.map(C=>({skill:C.step.replace("Skill: ",""),"Industry Benchmark":Math.round(C.required*100),"Your Score":Math.round(C.user_score*100)})),j=({active:C,payload:R,label:k})=>!C||!(R!=null&&R.length)?null:h.jsxs("div",{style:{background:"#1F1F1F",border:"1px solid rgba(255,255,255,0.1)",borderRadius:8,padding:"10px 14px"},children:[h.jsx("p",{style:{color:"rgba(240,255,223,0.7)",fontSize:12,marginBottom:6},children:k}),R.map(D=>h.jsxs("p",{style:{color:D.fill,fontSize:13,fontWeight:700,margin:0},children:[D.name,": ",D.value,"%"]},D.name))]});return h.jsxs("div",{style:{maxWidth:820,margin:"0 auto",padding:"24px 16px"},children:[h.jsxs("div",{style:{display:"flex",gap:16,marginBottom:20,flexWrap:"wrap"},children:[h.jsxs("div",{style:{flex:"0 0 180px",background:"rgba(255,255,255,0.04)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:16,padding:24,textAlign:"center"},children:[h.jsxs("div",{style:{fontSize:52,fontWeight:800,color:b,lineHeight:1},children:[A,"%"]}),h.jsx("div",{style:{color:b,fontWeight:600,fontSize:15,margin:"6px 0 4px"},children:T}),h.jsx("div",{style:{color:"rgba(240,255,223,0.4)",fontSize:11},children:"Career Readiness"}),u&&h.jsx("div",{style:{color:"#4ade80",fontSize:11,marginTop:8},children:" Saved to profile"})]}),h.jsxs("div",{style:{flex:1,minWidth:260,background:"rgba(255,255,255,0.04)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:16,padding:24},children:[h.jsx("h4",{style:{color:"#f0ffdf",fontSize:13,fontWeight:700,marginBottom:10},children:" Formula Applied"}),Object.values(g).map((C,R)=>h.jsx("div",{style:{fontFamily:"monospace",fontSize:13,color:"rgba(240,255,223,0.9)",padding:"6px 0",borderBottom:"1px solid rgba(255,255,255,0.05)"},children:C},R)),h.jsxs("div",{style:{marginTop:8,fontSize:12,color:"rgba(240,255,223,0.4)"},children:["Matched role: ",h.jsx("strong",{style:{color:"#a5b4fc",textTransform:"capitalize"},children:y})]})]})]}),h.jsxs("div",{style:{background:"rgba(255,255,255,0.04)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:16,padding:24,marginBottom:20},children:[h.jsx("h4",{style:{color:"#f0ffdf",fontSize:14,fontWeight:700,marginBottom:16},children:"Industry Benchmark vs. Your Score"}),h.jsx(AN,{width:"100%",height:260,children:h.jsxs(DD,{data:I,margin:{top:4,right:8,left:-10,bottom:60},barCategoryGap:"28%",children:[h.jsx(F_,{strokeDasharray:"3 3",stroke:"rgba(240,255,223,0.07)",vertical:!1}),h.jsx(Pf,{dataKey:"skill",tick:{fill:"rgba(240,255,223,0.55)",fontSize:10},angle:-40,textAnchor:"end",interval:0,axisLine:{stroke:"rgba(240,255,223,0.1)"},tickLine:!1}),h.jsx(If,{domain:[0,100],tickFormatter:C=>`${C}%`,tick:{fill:"rgba(240,255,223,0.45)",fontSize:11},axisLine:!1,tickLine:!1}),h.jsx(nr,{content:h.jsx(j,{}),cursor:{fill:"rgba(255,255,255,0.04)"}}),h.jsx(di,{dataKey:"Industry Benchmark",fill:"#6366f1",radius:[5,5,0,0],maxBarSize:30}),h.jsx(di,{dataKey:"Your Score",fill:"#4ade80",radius:[5,5,0,0],maxBarSize:30})]})}),h.jsxs("div",{style:{display:"flex",gap:20,justifyContent:"center",marginTop:4,fontSize:12,color:"rgba(240,255,223,0.6)"},children:[h.jsxs("span",{children:[h.jsx("span",{style:{display:"inline-block",width:12,height:12,borderRadius:3,background:"#6366f1",marginRight:6,verticalAlign:"middle"}}),"Industry Benchmark"]}),h.jsxs("span",{children:[h.jsx("span",{style:{display:"inline-block",width:12,height:12,borderRadius:3,background:"#4ade80",marginRight:6,verticalAlign:"middle"}}),"Your Score"]})]})]}),h.jsxs("div",{style:{background:"rgba(255,255,255,0.04)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:16,padding:24,marginBottom:20},children:[h.jsx("h4",{style:{color:"#f0ffdf",fontSize:14,fontWeight:700,marginBottom:16},children:"Step-by-Step Calculation"}),h.jsx("div",{style:{overflowX:"auto"},children:h.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:12},children:[h.jsx("thead",{children:h.jsx("tr",{children:["Skill","Benchmark (B)","Your Score (S)","gap = max(0, BS)","Weighted Gap = gapB","Status"].map(C=>h.jsx("th",{style:{textAlign:"left",padding:"8px 10px",color:"rgba(240,255,223,0.45)",fontWeight:600,borderBottom:"1px solid rgba(255,255,255,0.08)",whiteSpace:"nowrap"},children:C},C))})}),h.jsx("tbody",{children:w.map((C,R)=>{const k=qme[C.status];return h.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[h.jsx("td",{style:{padding:"9px 10px",color:"rgba(240,255,223,0.85)",fontWeight:600,textTransform:"capitalize"},children:C.step.replace("Skill: ","")}),h.jsxs("td",{style:{padding:"9px 10px",color:"#a5b4fc",fontFamily:"monospace"},children:[Math.round(C.required*100),"%"]}),h.jsxs("td",{style:{padding:"9px 10px",color:"#60a5fa",fontFamily:"monospace"},children:[Math.round(C.user_score*100),"%"]}),h.jsx("td",{style:{padding:"9px 10px",color:"rgba(240,255,223,0.9)",fontFamily:"monospace",fontSize:13},children:C.formula}),h.jsx("td",{style:{padding:"9px 10px",color:C.gap>0?"#f87171":"#4ade80",fontFamily:"monospace",fontWeight:700},children:C.weighted_gap}),h.jsx("td",{style:{padding:"9px 10px"},children:h.jsx("span",{style:{background:k.bg,border:`1px solid ${k.border}`,color:k.text,padding:"2px 8px",borderRadius:99,fontSize:11,fontWeight:600},children:k.label})})]},R)})}),h.jsxs("tfoot",{children:[h.jsxs("tr",{style:{background:"rgba(255,255,255,0.03)",borderTop:"2px solid rgba(255,255,255,0.1)"},children:[h.jsx("td",{colSpan:4,style:{padding:"10px",color:"rgba(240,255,223,0.7)",fontWeight:700},children:" Totals"}),h.jsx("td",{style:{padding:"10px",color:"#fbbf24",fontFamily:"monospace",fontWeight:800},children:O}),h.jsxs("td",{style:{padding:"10px",color:"rgba(240,255,223,0.5)",fontSize:13,fontFamily:"monospace"},children:[" weights = ",E]})]}),h.jsx("tr",{style:{background:"rgba(99,102,241,0.08)"},children:h.jsxs("td",{colSpan:6,style:{padding:"10px",fontFamily:"monospace",fontSize:14,color:"#FFFFFF"},children:["total_gap = ",O," / ",E," = ",h.jsx("strong",{style:{color:"#fbbf24"},children:S})," readiness = (1  ",S,")  100 = ",h.jsxs("strong",{style:{color:b},children:[x,"%"]})]})})]})]})})]}),h.jsx("button",{onClick:()=>{i("idle"),a(null),c(!1)},style:{width:"100%",padding:"12px 0",borderRadius:10,border:"1px solid rgba(99,102,241,0.3)",background:"transparent",color:"#a5b4fc",fontSize:14,fontWeight:600,cursor:"pointer"},children:"  Re-run Analysis"})]})}function Kme({data:t,s:e}){if(!t)return h.jsx("div",{style:e.card,children:h.jsx("div",{style:{height:220,display:"flex",alignItems:"center",justifyContent:"center"},children:h.jsx(Cn,{size:24,color:"#3b82f6",style:{animation:"spin 1s linear infinite"}})})});if(Object.keys(t).length===0)return h.jsx("div",{style:e.card,children:h.jsxs("div",{style:{height:180,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:10},children:[h.jsx(Lh,{size:36,color:"rgba(240,255,223,0.15)"}),h.jsx("p",{style:{color:"rgba(240,255,223,0.4)",fontSize:13,margin:0},children:"No assessment data yet"}),h.jsx("p",{style:{color:"rgba(240,255,223,0.25)",fontSize:12,margin:0},children:"Go to the Assessment tab to take your first test"})]})});const n=t.domain||"",r=t.total_score??null,i=Object.entries(t.scores||{}).map(([a,s])=>({skill:a.charAt(0).toUpperCase()+a.slice(1),score:Math.round(s*100)})),o=({active:a,payload:s,label:l})=>!a||!(s!=null&&s.length)?null:h.jsxs("div",{style:{background:"#1F1F1F",border:"1px solid rgba(59,130,246,0.35)",borderRadius:8,padding:"8px 14px"},children:[h.jsx("p",{style:{color:"rgba(240,255,223,0.7)",fontSize:12,marginBottom:3},children:l}),h.jsxs("p",{style:{color:"#3b82f6",fontSize:16,fontWeight:700,margin:0},children:[s[0].value,"%"]})]});return h.jsxs("div",{style:e.card,children:[h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[h.jsxs("div",{children:[h.jsx("h4",{style:{...e.h4,marginBottom:4},children:"Assessment Score by Skill"}),n&&h.jsxs("span",{style:{fontSize:12,color:"rgba(240,255,223,0.4)",textTransform:"capitalize"},children:["Domain: ",n]})]}),h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[r!==null&&h.jsxs("span",{style:{fontSize:13,fontWeight:700,color:"#3b82f6",background:"rgba(59,130,246,0.12)",padding:"4px 12px",borderRadius:99,border:"1px solid rgba(59,130,246,0.25)"},children:["Avg ",Math.round(r*100),"%"]}),h.jsx(Lh,{size:16,color:"rgba(240,255,223,0.3)"})]})]}),h.jsx(AN,{width:"100%",height:240,children:h.jsxs(DD,{data:i,margin:{top:8,right:16,left:-10,bottom:48},children:[h.jsx(F_,{strokeDasharray:"3 3",stroke:"rgba(240,255,223,0.07)",vertical:!1}),h.jsx(Pf,{dataKey:"skill",tick:{fill:"rgba(240,255,223,0.55)",fontSize:11},angle:-35,textAnchor:"end",interval:0,axisLine:{stroke:"rgba(240,255,223,0.1)"},tickLine:!1}),h.jsx(If,{domain:[0,100],tickFormatter:a=>`${a}%`,tick:{fill:"rgba(240,255,223,0.45)",fontSize:11},axisLine:!1,tickLine:!1}),h.jsx(nr,{content:h.jsx(o,{}),cursor:{fill:"rgba(59,130,246,0.06)"}}),h.jsx(di,{dataKey:"score",fill:"#3b82f6",radius:[6,6,0,0],maxBarSize:40})]})})]})}const Yme=[["web development","web development"],["web developer","web development"],["frontend","web development"],["full stack","web development"],["data science","data science"],["data scientist","data science"],["machine learning","data science"],["ai engineer","ai engineer"],["artificial intelligence","ai engineer"],["software engineer","software engineering"],["software engineering","software engineering"],["data analyst","data analyst"],["business analyst","data analyst"]];function L_(t=[]){for(const e of t||[]){const n=e.toLowerCase();for(const[r,i]of Yme)if(n.includes(r)||r.includes(n))return i}return"web development"}function Xme({user:t}){var H;const e=_o(),[n,r]=M.useState("idle"),[i,o]=M.useState([]),[a,s]=M.useState(0),[l,u]=M.useState({}),[c,f]=M.useState(null),[p,m]=M.useState(""),[y,w]=M.useState(0),[_,g]=M.useState(!0),[x,S]=M.useState(!1),[O,E]=M.useState("Initializing AI..."),A=M.useRef(null);M.useRef(null);const b=M.useRef(null),[T,I]=M.useState(0),[j,C]=M.useState(!1),[R,k]=M.useState(""),D=M.useRef(0);M.useEffect(()=>{if(n!=="testing")return;const Q=()=>{document.visibilityState==="hidden"&&(D.current+=1,I(D.current),k("Tab switch detected"),C(!0),D.current+y>=3&&Th(io).then(()=>e("/login")))};document.addEventListener("visibilitychange",Q);let G,ne;return(async()=>{if(A.current)try{G=new window.FaceDetection({locateFile:pe=>`https://cdn.jsdelivr.net/npm/@mediapipe/face_detection/${pe}`}),G.setOptions({model:"short",minDetectionConfidence:.5}),G.onResults(pe=>{const ge=pe.detections&&pe.detections.length>0;g(ge),ge?(E("Monitoring active"),b.current&&(clearTimeout(b.current),b.current=null)):(E("No face detected / Camera blocked"),b.current||(b.current=setTimeout(()=>{w(Ae=>{const se=Ae+1;return se>=3?Th(io).then(()=>e("/login")):(E(`Violation recorded! (${se}/2)`),k("Camera/Face violation"),C(!0)),se}),b.current=null},5e3)))}),ne=new window.Camera(A.current,{onFrame:async()=>{await G.send({image:A.current})},width:320,height:240}),await ne.start()}catch(pe){console.error("AI Init failed",pe),E("Camera failed")}})(),()=>{document.removeEventListener("visibilitychange",Q),ne&&ne.stop(),G&&G.close(),b.current&&clearTimeout(b.current)}},[n,e]);const V=L_(t==null?void 0:t.interests),z=((t==null?void 0:t.skills)||[]).join(","),L=t==null?void 0:t.uid,$=async()=>{r("loading"),m("");try{const Q=`/api/mcq/user-test?domain=${encodeURIComponent(V)}&skills=${encodeURIComponent(z)}`,G=await fetch(Q),ne=await G.json();if(!G.ok){m(ne.error||"Failed to load questions."),r("idle");return}if(!ne.length){m("No questions found for your profile."),r("idle");return}o(ne),s(0),u({}),f(null),r("testing")}catch(Q){m(`Network error: ${Q.message}`),r("idle")}},U=async()=>{const Q={};i.forEach((ge,Ae)=>{const se=ge.skill;Q[se]||(Q[se]={correct:0,total:0}),Q[se].total++,l[Ae]===ge.answer&&Q[se].correct++});const G={};for(const[ge,Ae]of Object.entries(Q))G[ge]=parseFloat((Ae.correct/Ae.total).toFixed(2));const ne=Object.values(G),ue=parseFloat((ne.reduce((ge,Ae)=>ge+Ae,0)/ne.length).toFixed(2));let pe=!1;if(L)try{await Ao(Ve(Be,"test_scores",L),{uid:L,domain:V,scores:G,total_score:ue,completedAt:mi()},{merge:!0}),pe=!0}catch(ge){console.warn("Firestore save failed",ge)}f({scores:G,total_score:ue,savedOk:pe}),r("results")};if(n==="idle")return h.jsxs("div",{style:{maxWidth:620,margin:"0 auto",padding:24},children:[p&&h.jsx("div",{style:{background:"rgba(248,113,113,0.15)",border:"1px solid #f87171",borderRadius:10,padding:"12px 16px",marginBottom:16,color:"#f87171",fontSize:14},children:p}),h.jsxs("div",{style:{background:"rgba(255,255,255,0.04)",borderRadius:16,padding:32,textAlign:"center",border:"1px solid rgba(255,255,255,0.08)"},children:[h.jsx(Lh,{size:48,color:"#3b82f6",style:{marginBottom:16}}),h.jsx("h2",{style:{color:"#f0ffdf",fontSize:22,marginBottom:8},children:"Skill Assessment"}),h.jsxs("p",{style:{color:"rgba(240,255,223,0.6)",marginBottom:16,fontSize:14},children:["Domain: ",h.jsx("strong",{style:{color:"#60a5fa"},children:V})]}),((H=t==null?void 0:t.skills)==null?void 0:H.length)>0&&h.jsxs("p",{style:{color:"rgba(240,255,223,0.5)",fontSize:13,marginBottom:24},children:["Testing skills: ",t.skills.slice(0,6).join("  ")]}),h.jsx("p",{style:{color:"rgba(240,255,223,0.55)",fontSize:13,marginBottom:28},children:"3 questions per skill  Multiple choice  Instant scoring"}),h.jsx("button",{onClick:$,style:{background:"linear-gradient(135deg,#3b82f6,#6366f1)",color:"#fff",border:"none",borderRadius:10,padding:"12px 32px",fontSize:15,fontWeight:600,cursor:"pointer"},children:"Start Assessment"})]})]});if(n==="loading")return h.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:320,gap:16},children:[h.jsx(Cn,{size:40,color:"#3b82f6",style:{animation:"spin 1s linear infinite"}}),h.jsx("p",{style:{color:"rgba(240,255,223,0.7)"},children:"Loading your personalized questions"})]});if(n==="testing"){const Q=i[a],G=i.length,ne=Math.round((a+1)/G*100),ue=l[a],pe=a===G-1,ge=Object.keys(l).length,Ae=se=>{const Z={display:"block",width:"100%",textAlign:"left",padding:"12px 16px",borderRadius:10,marginBottom:10,fontSize:14,cursor:"pointer",border:"1px solid",fontWeight:500,transition:"all 0.2s"};return ue===se?{...Z,background:"rgba(59,130,246,0.25)",borderColor:"#3b82f6",color:"#93c5fd"}:{...Z,background:"rgba(255,255,255,0.03)",borderColor:"rgba(255,255,255,0.1)",color:"rgba(240,255,223,0.8)"}};return h.jsxs("div",{style:{maxWidth:680,margin:"0 auto",padding:"24px 16px",position:"relative"},children:[h.jsxs("div",{style:{position:"fixed",bottom:20,right:20,width:160,height:120,borderRadius:12,overflow:"hidden",border:`2px solid ${_?"#4ade80":"#f87171"}`,boxShadow:"0 8px 32px rgba(0,0,0,0.4)",zIndex:100,background:"#111"},children:[h.jsx("video",{ref:A,style:{width:"100%",height:"100%",objectFit:"cover",transform:"scaleX(-1)"},playsInline:!0,muted:!0}),h.jsx("div",{style:{position:"absolute",bottom:0,left:0,right:0,padding:"4px 8px",background:"rgba(0,0,0,0.6)",color:_?"#4ade80":"#f87171",fontSize:9,fontWeight:700,textAlign:"center"},children:O}),y>0&&h.jsxs("div",{style:{position:"absolute",top:5,left:5,background:"#ef4444",color:"#fff",fontSize:10,padding:"2px 6px",borderRadius:4,fontWeight:800},children:["Warnings: ",y,"/2"]})]}),j&&h.jsx("div",{style:{position:"fixed",inset:0,zIndex:9999,background:"rgba(0,0,0,0.82)",display:"flex",alignItems:"center",justifyContent:"center"},children:h.jsxs("div",{style:{background:T>=3?"#1a0a0a":T>=2?"#1a1000":"#0a0f1a",border:`2px solid ${T>=3?"#ef4444":(T>=2,"#f59e0b")}`,borderRadius:16,padding:"36px 40px",maxWidth:440,textAlign:"center",boxShadow:`0 0 40px ${T>=3?"rgba(239,68,68,0.35)":"rgba(245,158,11,0.3)"}`},children:[h.jsx("div",{style:{fontSize:48,marginBottom:12},children:T>=3?"":""}),h.jsx("h2",{style:{color:T+y>=3?"#ef4444":"#fbbf24",fontSize:20,fontWeight:800,marginBottom:10},children:T+y>=3?"Test Terminated":T+y>=2?"Final Warning!":"Warning!"}),h.jsxs("div",{style:{color:"rgba(240,255,223,0.5)",fontSize:12,marginBottom:12},children:["Type detected: ",h.jsx("strong",{style:{color:"#c084fc"},children:R})]}),h.jsx("div",{style:{display:"flex",justifyContent:"center",gap:8,marginBottom:16},children:[1,2,3].map(se=>h.jsx("div",{style:{width:32,height:32,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700,fontSize:14,background:se<=T+y?T+y>=3?"#ef4444":"#f59e0b":"rgba(255,255,255,0.08)",color:se<=T+y?"#fff":"rgba(255,255,255,0.25)"},children:se},se))}),h.jsx("p",{style:{color:"rgba(240,255,223,0.75)",fontSize:14,lineHeight:1.6,marginBottom:24},children:T+y>=3?"You have reached the maximum number of violations (3). For security and integrity, you are now being logged out.":`Violation detected (${T+y}/2 warnings). Multiple violations (tab switching or camera/face absence) will lead to an automatic logout.`}),T<3?h.jsx("button",{onClick:()=>C(!1),style:{background:"linear-gradient(135deg,#f59e0b,#d97706)",color:"#fff",border:"none",borderRadius:10,padding:"11px 28px",fontSize:14,fontWeight:700,cursor:"pointer"},children:"I Understand  Continue Test"}):h.jsx("div",{style:{color:"#ef4444",fontSize:13,fontWeight:600},children:"Logging you out"})]})}),(T>0||y>0)&&h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,marginBottom:12,padding:"6px 12px",background:"rgba(245,158,11,0.1)",border:"1px solid rgba(245,158,11,0.3)",borderRadius:8,fontSize:12},children:[h.jsx("span",{children:""}),h.jsxs("span",{style:{color:"#fbbf24"},children:["Total violations: ",h.jsxs("strong",{children:[T+y,"/2"]})," warnings used"]})]}),h.jsxs("div",{style:{marginBottom:20},children:[h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:6,fontSize:13,color:"rgba(240,255,223,0.6)"},children:[h.jsxs("span",{children:["Question ",a+1," of ",G]}),h.jsxs("span",{style:{color:"#60a5fa"},children:[ge,"/",G," answered"]})]}),h.jsx("div",{style:{height:6,borderRadius:99,background:"rgba(59,130,246,0.12)",overflow:"hidden"},children:h.jsx("div",{style:{height:"100%",width:`${ne}%`,background:"linear-gradient(90deg,#3b82f6,#6366f1)",borderRadius:99,transition:"width 0.4s ease"}})})]}),h.jsx("span",{style:{fontSize:11,background:"rgba(99,102,241,0.18)",color:"#a5b4fc",padding:"3px 10px",borderRadius:99,border:"1px solid rgba(99,102,241,0.3)",letterSpacing:"0.5px",textTransform:"uppercase"},children:Q.skill}),h.jsx("div",{style:{background:"rgba(255,255,255,0.04)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:16,padding:24,margin:"16px 0 20px"},children:h.jsxs("p",{style:{color:"#f0ffdf",fontSize:16,lineHeight:1.6,fontWeight:500},children:[h.jsxs("span",{style:{color:"rgba(240,255,223,0.4)",marginRight:8},children:["Q",a+1,"."]}),Q.question]})}),Q.options.map((se,Z)=>h.jsxs("button",{onClick:()=>u(he=>({...he,[a]:se})),style:Ae(se),children:[h.jsxs("span",{style:{color:"rgba(240,255,223,0.4)",marginRight:10},children:[String.fromCharCode(65+Z),"."]}),se]},Z)),h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:24,gap:12},children:[h.jsx("button",{onClick:()=>s(se=>Math.max(0,se-1)),disabled:a===0,style:{flex:1,padding:"11px 0",borderRadius:10,border:"1px solid rgba(255,255,255,0.15)",background:"transparent",color:a===0?"rgba(240,255,223,0.25)":"rgba(240,255,223,0.8)",cursor:a===0?"not-allowed":"pointer",fontSize:14,fontWeight:600},children:" Previous"}),pe?h.jsx("button",{onClick:U,style:{flex:1,padding:"11px 0",borderRadius:10,border:"none",background:"linear-gradient(135deg,#22c55e,#16a34a)",color:"#fff",cursor:"pointer",fontSize:14,fontWeight:700},children:" Submit Test"}):h.jsx("button",{onClick:()=>s(se=>Math.min(G-1,se+1)),style:{flex:1,padding:"11px 0",borderRadius:10,border:"none",background:"linear-gradient(135deg,#3b82f6,#6366f1)",color:"#fff",cursor:"pointer",fontSize:14,fontWeight:600},children:"Next "})]}),h.jsx("div",{style:{display:"flex",justifyContent:"center",flexWrap:"wrap",gap:6,marginTop:20},children:i.map((se,Z)=>h.jsx("button",{onClick:()=>s(Z),style:{width:10,height:10,borderRadius:"50%",border:"none",cursor:"pointer",background:Z===a?"#3b82f6":l[Z]?"#4ade80":"rgba(255,255,255,0.15)"}},Z))})]})}if(n==="results"&&c){const{scores:Q,total_score:G,savedOk:ne}=c,ue=Math.round(G*100),pe=ue>=70?{label:"Excellent",color:"#4ade80"}:ue>=45?{label:"Good",color:"#fbbf24"}:{label:"Needs Work",color:"#f87171"},ge=Ae=>{const se=l[Ae];return se?se===i[Ae].answer?"#4ade80":"#f87171":"rgba(255,255,255,0.12)"};return h.jsxs("div",{style:{maxWidth:680,margin:"0 auto",padding:"24px 16px"},children:[h.jsxs("div",{style:{background:"rgba(255,255,255,0.04)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:16,padding:28,textAlign:"center",marginBottom:24},children:[h.jsxs("div",{style:{fontSize:56,fontWeight:800,color:pe.color},children:[ue,"%"]}),h.jsx("div",{style:{fontSize:18,color:pe.color,fontWeight:600,marginBottom:6},children:pe.label}),h.jsx("div",{style:{color:"rgba(240,255,223,0.55)",fontSize:13},children:"Total Score (average across all skills)"}),ne&&h.jsx("div",{style:{marginTop:12,fontSize:12,color:"#4ade80"},children:" Score saved to your profile"})]}),h.jsx("h3",{style:{color:"#f0ffdf",fontSize:15,fontWeight:600,marginBottom:16},children:"Breakdown by Skill"}),Object.entries(Q).map(([Ae,se])=>{const Z=Math.round(se*100),he=Z>=70?"#4ade80":Z>=40?"#fbbf24":"#f87171";return h.jsxs("div",{style:{marginBottom:14},children:[h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:5},children:[h.jsx("span",{style:{fontSize:13,color:"rgba(240,255,223,0.8)",textTransform:"capitalize"},children:Ae}),h.jsxs("span",{style:{fontSize:13,fontWeight:700,color:he},children:[Z,"%"]})]}),h.jsx("div",{style:{height:6,borderRadius:99,background:"rgba(255,255,255,0.07)",overflow:"hidden"},children:h.jsx("div",{style:{height:"100%",width:`${Z}%`,background:he,borderRadius:99,transition:"width 0.6s ease"}})})]},Ae)}),h.jsx("h3",{style:{color:"#f0ffdf",fontSize:15,fontWeight:600,margin:"24px 0 12px"},children:"Answer Review"}),h.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:8,marginBottom:24},children:i.map((Ae,se)=>h.jsx("div",{title:`Q${se+1}: ${l[se]?l[se]===i[se].answer?"Correct":"Wrong":"Unanswered"}`,style:{width:32,height:32,borderRadius:8,background:ge(se),display:"flex",alignItems:"center",justifyContent:"center",fontSize:12,fontWeight:700,color:"#0f1a0f",cursor:"default"},children:se+1},se))}),h.jsxs("div",{style:{display:"flex",gap:12,fontSize:12,color:"rgba(240,255,223,0.5)",marginBottom:28},children:[h.jsxs("span",{children:[h.jsx("span",{style:{display:"inline-block",width:10,height:10,borderRadius:2,background:"#4ade80",marginRight:4}}),"Correct"]}),h.jsxs("span",{children:[h.jsx("span",{style:{display:"inline-block",width:10,height:10,borderRadius:2,background:"#f87171",marginRight:4}}),"Wrong"]}),h.jsxs("span",{children:[h.jsx("span",{style:{display:"inline-block",width:10,height:10,borderRadius:2,background:"rgba(255,255,255,0.12)",marginRight:4}}),"Unanswered"]})]}),h.jsx("button",{onClick:()=>{r("idle"),f(null),u({}),s(0)},style:{width:"100%",padding:"13px 0",borderRadius:10,border:"none",background:"linear-gradient(135deg,#3b82f6,#6366f1)",color:"#fff",fontSize:14,fontWeight:700,cursor:"pointer"},children:"Retake Assessment"})]})}return null}function Qme({uid:t,userName:e,initialData:n}){var E,A,b,T,I,j,C,R;const r=M.useRef(null),[i,o]=M.useState(!1),[a,s]=M.useState(!1),[l,u]=M.useState(n&&Object.keys(n).length>0?n:null),[c,f]=M.useState(""),[p,m]=M.useState("");M.useEffect(()=>{n&&Object.keys(n).length>0&&u(n)},[n]);const y=["image/png","image/jpeg","image/jpg","video/mp4","image/gif","image/webp"],w=k=>{if(!k)return"No file selected.";const D=k.name.split(".").pop().toLowerCase();return D!=="pdf"||y.includes(k.type)?` "${k.name}" is not a PDF. Only PDF resumes are accepted. (Received: .${D})`:k.size>10*1024*1024?"File too large. Maximum size is 10 MB.":null},_=async k=>{const D=w(k);if(D){f(D);return}f(""),s(!0),m(k.name);const V=new FormData;V.append("resume",k);try{const z=await fetch("/api/resume/parse",{method:"POST",body:V}),L=await z.json();if(!z.ok){f(L.error||`Upload failed (HTTP ${z.status})`),s(!1);return}if(t)try{await Ao(Ve(Be,"resumes",t),{uid:t,fullName:e||"",skills:L.skills||[],experience:L.experience||[],projects:L.projects||[],metadata:L.metadata||{},parsedAt:mi()},{merge:!0})}catch($){console.warn("[ResumeTab] Firestore save failed:",$)}u(L)}catch(z){f(`Network error: ${z.message}. Make sure the backend is running on port 5000.`)}finally{s(!1)}},g=k=>{k.preventDefault(),o(!1);const D=k.dataTransfer.files[0];D&&_(D)},x=k=>{const D=k.target.files[0];D&&_(D),k.target.value=""},S={background:"#1F1F1F",border:"1px solid rgba(35,114,39,0.2)",borderRadius:16,padding:24,marginBottom:20},O=k=>({fontSize:12,padding:"4px 10px",borderRadius:99,border:`1px solid ${k}33`,background:`${k}15`,color:k});return h.jsxs("div",{children:[h.jsxs("div",{style:S,children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,marginBottom:16},children:[h.jsx(T7,{size:18,color:"#237227"}),h.jsx("h4",{style:{margin:0,fontSize:15,fontWeight:700,color:"#F0FFDF"},children:"Upload Resume (PDF Only)"})]}),h.jsx("div",{onClick:()=>{var k;return(k=r.current)==null?void 0:k.click()},onDragOver:k=>{k.preventDefault(),o(!0)},onDragLeave:()=>o(!1),onDrop:g,style:{border:`2px dashed ${i?"#237227":"rgba(35,114,39,0.4)"}`,borderRadius:12,padding:"40px 24px",textAlign:"center",cursor:"pointer",background:i?"rgba(35,114,39,0.07)":"rgba(35,114,39,0.03)",transition:"all 0.2s"},children:a?h.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:10},children:[h.jsx(Cn,{size:32,color:"#237227",style:{animation:"spin 1s linear infinite"}}),h.jsxs("span",{style:{color:"#4ade80",fontSize:14},children:['Parsing "',p,'"']}),h.jsx("span",{style:{color:"rgba(240,255,223,0.4)",fontSize:12},children:"This may take a few seconds"})]}):h.jsxs(h.Fragment,{children:[h.jsx(vc,{size:36,color:"rgba(35,114,39,0.6)",style:{marginBottom:10}}),h.jsx("p",{style:{color:"#F0FFDF",fontWeight:600,margin:"0 0 4px"},children:"Drag & drop your PDF resume here"}),h.jsxs("p",{style:{color:"rgba(240,255,223,0.45)",fontSize:13,margin:0},children:["or ",h.jsx("span",{style:{color:"#4ade80",textDecoration:"underline"},children:"click to browse"})]}),h.jsx("p",{style:{color:"rgba(240,255,223,0.25)",fontSize:11,marginTop:8},children:"PDF only  Max 10 MB  .png / .jpg / .mp4 not accepted"})]})}),h.jsx("input",{ref:r,type:"file",accept:".pdf,application/pdf",onChange:x,style:{display:"none"}}),c&&h.jsxs("div",{style:{marginTop:12,padding:"10px 14px",borderRadius:8,background:"rgba(239,68,68,0.12)",border:"1px solid rgba(239,68,68,0.3)",display:"flex",alignItems:"flex-start",gap:8},children:[h.jsx(uR,{size:16,color:"#f87171",style:{flexShrink:0,marginTop:1}}),h.jsx("span",{style:{color:"#f87171",fontSize:13},children:c}),h.jsx("button",{onClick:()=>f(""),style:{marginLeft:"auto",background:"none",border:"none",cursor:"pointer",color:"rgba(240,255,223,0.4)",padding:0},children:h.jsx(Ox,{size:14})})]}),l&&!a&&h.jsxs("button",{onClick:()=>{var k;u(null),f(""),(k=r.current)==null||k.click()},style:{marginTop:12,display:"flex",alignItems:"center",gap:6,background:"none",border:"1px solid rgba(35,114,39,0.3)",borderRadius:8,padding:"7px 14px",color:"#4ade80",fontSize:13,cursor:"pointer"},children:[h.jsx(q7,{size:13})," Upload a different resume"]})]}),l&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,padding:"10px 16px",borderRadius:10,background:"rgba(35,114,39,0.12)",border:"1px solid rgba(35,114,39,0.3)",marginBottom:20},children:[h.jsx(ba,{size:16,color:"#4ade80"}),h.jsx("span",{style:{color:"#4ade80",fontSize:13,fontWeight:600},children:"Resume parsed & saved to database "}),h.jsxs("span",{style:{color:"rgba(240,255,223,0.4)",fontSize:12,marginLeft:4},children:[" ",((E=l.metadata)==null?void 0:E.file_name)||"resume.pdf"," (",((A=l.metadata)==null?void 0:A.page_count)||"?"," pages)"]})]}),h.jsxs("div",{style:S,children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:14},children:[h.jsx(Em,{size:16,color:"#237227"}),h.jsxs("h4",{style:{margin:0,fontSize:14,fontWeight:700,color:"#F0FFDF"},children:["Skills Extracted ",h.jsxs("span",{style:{fontWeight:400,color:"rgba(240,255,223,0.4)",fontSize:13},children:["(",((b=l.skills)==null?void 0:b.length)||0," found)"]})]})]}),((T=l.skills)==null?void 0:T.length)>0?h.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:l.skills.map((k,D)=>h.jsx("span",{style:O("#4ade80"),children:k},D))}):h.jsx("p",{style:{color:"rgba(240,255,223,0.35)",fontSize:13,margin:0},children:"No skills section detected in this resume."})]}),h.jsxs("div",{style:S,children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:14},children:[h.jsx(Ix,{size:16,color:"#a855f7"}),h.jsxs("h4",{style:{margin:0,fontSize:14,fontWeight:700,color:"#F0FFDF"},children:["Experience ",h.jsxs("span",{style:{fontWeight:400,color:"rgba(240,255,223,0.4)",fontSize:13},children:["(",((I=l.experience)==null?void 0:I.length)||0," entries)"]})]})]}),((j=l.experience)==null?void 0:j.length)>0?h.jsx("div",{style:{display:"flex",flexDirection:"column",gap:14},children:l.experience.map((k,D)=>h.jsxs("div",{style:{padding:"14px 16px",background:"rgba(168,85,247,0.07)",borderRadius:10,border:"1px solid rgba(168,85,247,0.15)"},children:[h.jsx("div",{style:{fontWeight:700,fontSize:14,color:"#F0FFDF"},children:k.title}),k.company&&h.jsx("div",{style:{fontSize:12,color:"#c084fc",marginTop:2},children:k.company}),k.duration&&h.jsx("div",{style:{fontSize:11,color:"rgba(240,255,223,0.35)",marginTop:2},children:k.duration}),k.description&&h.jsx("div",{style:{fontSize:12,color:"rgba(240,255,223,0.6)",marginTop:8,lineHeight:1.6},children:k.description})]},D))}):h.jsx("p",{style:{color:"rgba(240,255,223,0.35)",fontSize:13,margin:0},children:"No experience section detected in this resume."})]}),h.jsxs("div",{style:S,children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:14},children:[h.jsx(R7,{size:16,color:"#f59e0b"}),h.jsxs("h4",{style:{margin:0,fontSize:14,fontWeight:700,color:"#F0FFDF"},children:["Projects ",h.jsxs("span",{style:{fontWeight:400,color:"rgba(240,255,223,0.4)",fontSize:13},children:["(",((C=l.projects)==null?void 0:C.length)||0," found)"]})]})]}),((R=l.projects)==null?void 0:R.length)>0?h.jsx("div",{style:{display:"flex",flexDirection:"column",gap:14},children:l.projects.map((k,D)=>{var V;return h.jsxs("div",{style:{padding:"14px 16px",background:"rgba(245,158,11,0.07)",borderRadius:10,border:"1px solid rgba(245,158,11,0.15)"},children:[h.jsx("div",{style:{fontWeight:700,fontSize:14,color:"#F0FFDF"},children:k.name}),((V=k.technologies)==null?void 0:V.length)>0&&h.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:6,marginTop:6},children:k.technologies.map((z,L)=>h.jsx("span",{style:O("#fbbf24"),children:z},L))}),k.description&&h.jsx("div",{style:{fontSize:12,color:"rgba(240,255,223,0.6)",marginTop:8,lineHeight:1.6},children:k.description})]},D)})}):h.jsx("p",{style:{color:"rgba(240,255,223,0.35)",fontSize:13,margin:0},children:"No projects section detected in this resume."})]}),h.jsxs("details",{style:{...S,cursor:"pointer"},children:[h.jsxs("summary",{style:{fontSize:13,color:"rgba(240,255,223,0.5)",userSelect:"none",listStyle:"none",display:"flex",alignItems:"center",gap:6},children:[h.jsx(vc,{size:13})," View raw JSON output"]}),h.jsx("pre",{style:{marginTop:14,fontSize:11,color:"#86efac",overflowX:"auto",whiteSpace:"pre-wrap",wordBreak:"break-all",lineHeight:1.6},children:JSON.stringify(l,null,2)})]})]}),h.jsx("style",{children:"@keyframes spin { to { transform: rotate(360deg); } }"})]})}function Jme({uid:t,initialData:e}){var m;const[n,r]=M.useState(""),[i,o]=M.useState(!1),[a,s]=M.useState(e&&Object.keys(e).length>0?e:null),[l,u]=M.useState("");M.useEffect(()=>{e&&Object.keys(e).length>0&&s(e)},[e]);const c=async()=>{if(!n.trim()){u("Please enter a GitHub URL.");return}if(!n.includes("github.com/")){u("Invalid GitHub URL.");return}u(""),o(!0);try{const y=await fetch("/api/github/scrape",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:n.trim()})}),w=await y.json();if(!y.ok){u(w.error||`Scraping failed (HTTP ${y.status})`),o(!1);return}if(t)try{await Ao(Ve(Be,"github_scrapes",t),{uid:t,...w,scrapedAt:mi()},{merge:!0})}catch(_){console.warn("[GitHubTab] Firestore save failed:",_)}s(w)}catch(y){u(`Network error: ${y.message}.`)}finally{o(!1)}},f={background:"#1F1F1F",border:"1px solid rgba(35,114,39,0.2)",borderRadius:16,padding:24,marginBottom:20},p=y=>({fontSize:12,padding:"4px 10px",borderRadius:99,border:`1px solid ${y}33`,background:`${y}15`,color:y});return h.jsxs("div",{children:[h.jsxs("div",{style:f,children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,marginBottom:16},children:[h.jsx(Vh,{size:18,color:"#237227"}),h.jsx("h4",{style:{margin:0,fontSize:15,fontWeight:700,color:"#F0FFDF"},children:"Analyze GitHub Repository"})]}),h.jsxs("div",{style:{display:"flex",gap:10},children:[h.jsx("input",{type:"text",placeholder:"https://github.com/owner/repository",value:n,onChange:y=>r(y.target.value),style:{flex:1,background:"rgba(255,255,255,0.03)",border:"1px solid rgba(35,114,39,0.3)",borderRadius:10,padding:"12px 16px",color:"#F0FFDF",fontSize:14,outline:"none"}}),h.jsx("button",{onClick:c,disabled:i,style:{background:i?"rgba(35,114,39,0.2)":"linear-gradient(135deg,#237227,#166534)",color:"#fff",border:"none",borderRadius:10,padding:"0 24px",fontSize:14,fontWeight:600,cursor:i?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:8,transition:"all 0.2s"},children:i?h.jsx(Cn,{size:16,className:"animate-spin"}):"Scrape"})]}),l&&h.jsxs("div",{style:{marginTop:12,padding:"10px 14px",borderRadius:8,background:"rgba(239,68,68,0.12)",border:"1px solid rgba(239,68,68,0.3)",display:"flex",alignItems:"center",gap:8},children:[h.jsx(uR,{size:16,color:"#f87171"}),h.jsx("span",{style:{color:"#f87171",fontSize:13},children:l})]})]}),a&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,padding:"10px 16px",borderRadius:10,background:"rgba(35,114,39,0.12)",border:"1px solid rgba(35,114,39,0.3)",marginBottom:20},children:[h.jsx(ba,{size:16,color:"#4ade80"}),h.jsx("span",{style:{color:"#4ade80",fontSize:13,fontWeight:600},children:"Repository analyzed & saved "}),h.jsxs("span",{style:{color:"rgba(240,255,223,0.4)",fontSize:12,marginLeft:4},children:[" ",a.name," (",a.stars," stars)"]})]}),h.jsxs("div",{style:f,children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:14},children:[h.jsx(Ls,{size:16,color:"#4ade80"}),h.jsx("h4",{style:{margin:0,fontSize:14,fontWeight:700,color:"#F0FFDF"},children:"AI Insights"})]}),h.jsx("p",{style:{color:"rgba(240,255,223,0.8)",fontSize:14,lineHeight:1.6,margin:0},children:a.geminiAnalysis})]}),h.jsxs("div",{style:f,children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:14},children:[h.jsx(Em,{size:16,color:"#3b82f6"}),h.jsx("h4",{style:{margin:0,fontSize:14,fontWeight:700,color:"#F0FFDF"},children:"Tech Stack & Topics"})]}),h.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:(m=a.techStack)==null?void 0:m.map((y,w)=>h.jsx("span",{style:p("#60a5fa"),children:y},w))}),h.jsxs("p",{style:{color:"rgba(240,255,223,0.3)",fontSize:12,marginTop:14},children:["Primary Language: ",h.jsx("span",{style:{color:"rgba(240,255,223,0.5)"},children:a.language})," Last Commit: ",h.jsx("span",{style:{color:"rgba(240,255,223,0.5)"},children:new Date(a.lastCommit).toLocaleDateString()})]})]})]})]})}function Zme(){var O,E,A,b,T,I,j,C,R,k,D,V;const{user:t,loading:e,isAuthenticated:n}=Ax(),[r,i]=M.useState(!1),[o,a]=M.useState("Overview"),[s,l]=M.useState({testScores:null,skillGaps:null,swot:null,careerMatches:null,roadmaps:null,resumes:null,githubScrapes:null}),u=t==null?void 0:t.uid;if(M.useEffect(()=>{if(!u)return;const z=[$o(Ve(Be,"test_scores",u),L=>{l($=>({...$,testScores:L.exists()?L.data():{}}))}),$o(Ve(Be,"skill_gaps",u),L=>{l($=>({...$,skillGaps:L.exists()?L.data():{}}))}),$o(Ve(Be,"swot_analyses",u),L=>{l($=>({...$,swot:L.exists()?L.data():{}}))}),$o(Ve(Be,"career_matches",u),L=>{l($=>({...$,careerMatches:L.exists()?L.data():{}}))}),$o(Ve(Be,"roadmaps",u),L=>{l($=>({...$,roadmaps:L.exists()?L.data():{}}))}),$o(Ve(Be,"resumes",u),L=>{l($=>({...$,resumes:L.exists()?L.data():{}}))}),$o(Ve(Be,"github_scrapes",u),L=>{l($=>({...$,githubScrapes:L.exists()?L.data():{}}))})];return()=>z.forEach(L=>L())},[u]),e)return h.jsx("div",{style:{minHeight:"100vh",background:"#2B2A2A",display:"flex",alignItems:"center",justifyContent:"center"},children:h.jsx(Cn,{size:36,color:"#237227",className:"animate-spin"})});if(!n)return h.jsx(jk,{to:"/login",replace:!0});const c=r?64:220,f=()=>{var Q,G,ne,ue,pe,ge;const z=[],L=((Q=s.testScores)==null?void 0:Q.total_score)!==void 0?Math.round(s.testScores.total_score*100):0;z.push({label:"Technical Skills",value:L,color:"blue"});const $=((ne=(G=s.skillGaps)==null?void 0:G.totals)==null?void 0:ne.readiness)!==void 0?Math.round(s.skillGaps.totals.readiness):0;z.push({label:"Career Readiness",value:$,color:"amber"});const U=((ge=(pe=(ue=s.careerMatches)==null?void 0:ue.top_matches)==null?void 0:pe[0])==null?void 0:ge.match_pct)!==void 0?s.careerMatches.top_matches[0].match_pct:0;z.push({label:"Market Alignment",value:U,color:"purple"});let H=0;return s.resumes&&Object.keys(s.resumes).length>0&&(H+=25),s.githubScrapes&&Object.keys(s.githubScrapes).length>0&&(H+=25),s.testScores&&Object.keys(s.testScores).length>0&&(H+=25),s.skillGaps&&Object.keys(s.skillGaps).length>0&&(H+=25),z.push({label:"Profile Strength",value:H,color:"green"}),z},p=((O=t==null?void 0:t.username)==null?void 0:O.slice(0,2).toUpperCase())??"??",m=(t==null?void 0:t.fullName)||(t==null?void 0:t.username)||"there",y=new Date().getHours(),w=y<12?"Good morning":y<17?"Good afternoon":"Good evening",_=new Date().toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric",year:"numeric"}),g=((E=t==null?void 0:t.skills)==null?void 0:E.length)>0?t.skills:["Python","React","SQL","Machine Learning","Node.js","Docker"],x=((A=t==null?void 0:t.interests)==null?void 0:A.length)>0?t.interests:["AI Engineer","Data Scientist","Full-Stack Dev"],S={page:{minHeight:"100vh",background:"#2B2A2A",fontFamily:"'Segoe UI', Tahoma, Geneva, Verdana, sans-serif",display:"flex"},main:{marginLeft:c,flex:1,padding:"32px 28px",transition:"margin-left 0.25s ease",minHeight:"100vh"},card:{background:"#1F1F1F",border:"1px solid rgba(35,114,39,0.2)",borderRadius:16,padding:24,marginBottom:20},grid3:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(160px,1fr))",gap:16,marginBottom:20},grid2:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px,1fr))",gap:16,marginBottom:20},label:{fontSize:12,color:"rgba(240,255,223,0.45)",textTransform:"uppercase",letterSpacing:"0.07em",marginBottom:4},val:{fontSize:32,fontWeight:800,color:"#F0FFDF",lineHeight:1.1},delta:{fontSize:12,color:"#4ade80",marginTop:4},h4:{fontSize:15,fontWeight:700,color:"#F0FFDF",marginBottom:16,marginTop:0}};return h.jsxs("div",{style:S.page,children:[h.jsx(oz,{collapsed:r,onToggle:()=>i(!r),activeTab:o,onTabChange:a}),h.jsxs("main",{style:S.main,children:[h.jsxs("div",{style:{marginBottom:24},children:[h.jsx("p",{style:{fontSize:13,color:"rgba(240,255,223,0.45)",marginBottom:4},children:_}),h.jsxs("h1",{style:{fontSize:26,fontWeight:800,color:"#F0FFDF",margin:0},children:[w,", ",m," "]}),h.jsx("p",{style:{fontSize:14,color:"rgba(240,255,223,0.5)",marginTop:4},children:"Here's an overview of your career progress"})]}),h.jsx("div",{style:{display:"flex",gap:4,marginBottom:28,borderBottom:"1px solid rgba(35,114,39,0.15)",paddingBottom:0},children:Hme.map(z=>h.jsxs("button",{onClick:()=>a(z),style:{padding:"9px 20px",fontSize:14,fontWeight:o===z?700:400,color:o===z?"#4ade80":"rgba(240,255,223,0.5)",background:"none",border:"none",cursor:"pointer",borderBottom:o===z?"2px solid #237227":"2px solid transparent",marginBottom:-1,transition:"all 0.15s"},children:[z==="Resume Info"&&h.jsx(vc,{size:13,style:{marginRight:6,verticalAlign:"middle"}}),z==="GitHub Research"&&h.jsx(Vh,{size:13,style:{marginRight:6,verticalAlign:"middle"}}),z]},z))}),o==="Overview"&&h.jsxs(h.Fragment,{children:[h.jsx("div",{style:S.grid3,children:[{label:"Readiness Score",val:((T=(b=s.skillGaps)==null?void 0:b.totals)==null?void 0:T.readiness)!==void 0?`${Math.round(s.skillGaps.totals.readiness)}%`:"NaN",delta:((j=(I=s.skillGaps)==null?void 0:I.totals)==null?void 0:j.readiness)!==void 0?"Calculated from gap analysis":"Perform assessment to get insights"},{label:"Assessment Avg",val:((C=s.testScores)==null?void 0:C.total_score)!==void 0?`${Math.round(s.testScores.total_score*100)}%`:"NaN",delta:((R=s.testScores)==null?void 0:R.total_score)!==void 0?`${Object.keys(s.testScores.scores||{}).length} skills tested`:"Start your first assessment"},{label:"Rankings",val:(D=(k=s.careerMatches)==null?void 0:k.top_matches)!=null&&D[0]?`#1 ${s.careerMatches.top_matches[0].role}`:"",delta:(V=s.careerMatches)!=null&&V.top_matches?`${s.careerMatches.top_matches.length} matches found`:"Find your career match"}].map(({label:z,val:L,delta:$})=>h.jsxs("div",{style:S.card,children:[h.jsx("div",{style:S.label,children:z}),h.jsx("div",{style:S.val,children:L}),h.jsx("div",{style:S.delta,children:$})]},z))}),h.jsxs("div",{style:S.grid2,children:[h.jsxs("div",{style:S.card,children:[h.jsx("h4",{style:S.h4,children:"Profile Summary"}),h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:14},children:[h.jsx("div",{style:{width:48,height:48,background:"#237227",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:16,fontWeight:700,color:"#F0FFDF",flexShrink:0},children:p}),h.jsxs("div",{children:[h.jsx("div",{style:{fontWeight:700,fontSize:16,color:"#F0FFDF"},children:(t==null?void 0:t.fullName)||(t==null?void 0:t.username)||"Your Name"}),h.jsx("div",{style:{fontSize:13,color:"rgba(240,255,223,0.55)",marginTop:2},children:(t==null?void 0:t.degree)||"Aspiring Professional"}),h.jsxs("div",{style:{display:"flex",gap:6,flexWrap:"wrap",marginTop:8},children:[(t==null?void 0:t.educationalLevel)&&h.jsx("span",{style:{fontSize:11,padding:"2px 8px",background:"rgba(35,114,39,0.2)",borderRadius:99,color:"#4ade80",border:"1px solid rgba(35,114,39,0.3)"},children:t.educationalLevel}),(t==null?void 0:t.skillLevel)&&h.jsx("span",{style:{fontSize:11,padding:"2px 8px",background:"rgba(168,85,247,0.15)",borderRadius:99,color:"#c084fc",border:"1px solid rgba(168,85,247,0.25)"},children:t.skillLevel}),(t==null?void 0:t.currentYear)&&h.jsxs("span",{style:{fontSize:11,padding:"2px 8px",background:"rgba(59,130,246,0.12)",borderRadius:99,color:"#60a5fa",border:"1px solid rgba(59,130,246,0.2)"},children:["Year ",t.currentYear]})]})]})]})]}),h.jsxs("div",{style:S.card,children:[h.jsx("h4",{style:S.h4,children:"Interests"}),h.jsx("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:x.map(z=>h.jsx("span",{style:{fontSize:12,padding:"5px 12px",background:"rgba(35,114,39,0.15)",border:"1px solid rgba(35,114,39,0.3)",borderRadius:99,color:"#86efac"},children:z},z))})]})]}),h.jsxs("div",{style:S.grid2,children:[h.jsxs("div",{style:S.card,children:[h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[h.jsx("h4",{style:{...S.h4,marginBottom:0},children:"Skills"}),h.jsx(Em,{size:16,color:"rgba(240,255,223,0.3)"})]}),h.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:g.map(z=>h.jsx("span",{style:{fontSize:12,padding:"4px 10px",background:"rgba(240,255,223,0.06)",border:"1px solid rgba(240,255,223,0.12)",borderRadius:8,color:"rgba(240,255,223,0.75)"},children:z},z))})]}),h.jsxs("div",{style:S.card,children:[h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[h.jsx("h4",{style:{...S.h4,marginBottom:0},children:"Progress Overview"}),h.jsx(Ls,{size:16,color:"rgba(240,255,223,0.3)"})]}),f().map(z=>h.jsx(Wme,{...z},z.label))]})]}),h.jsx(Kme,{data:s.testScores,s:S})]}),o==="Resume Info"&&h.jsx(Qme,{uid:t==null?void 0:t.uid,userName:(t==null?void 0:t.fullName)||(t==null?void 0:t.username)||"",initialData:s.resumes}),o==="GitHub Research"&&h.jsx(Jme,{uid:t==null?void 0:t.uid,initialData:s.githubScrapes}),o==="Assessment"&&h.jsx(Xme,{user:t}),o==="Skill Gap"&&h.jsx(Gme,{user:t,initialData:s.skillGaps,testScores:s.testScores}),o==="SWOT Analysis"&&h.jsx(tge,{user:t,initialData:s.swot,skillGaps:s.skillGaps,testScores:s.testScores}),o==="Career Match"&&h.jsx($me,{user:t,initialData:s.careerMatches,testScores:s.testScores}),o==="Roadmap"&&h.jsx(Ume,{user:t,initialData:s.roadmaps,careerMatches:s.careerMatches,testScores:s.testScores,skillGaps:s.skillGaps,swot:s.swot})]})]})}const ege={strengths:{label:"Strengths",emoji:"",color:"#4ade80",bg:"rgba(74,222,128,0.09)",border:"rgba(74,222,128,0.28)"},weaknesses:{label:"Weaknesses",emoji:"",color:"#f87171",bg:"rgba(248,113,113,0.09)",border:"rgba(248,113,113,0.28)"},opportunities:{label:"Opportunities",emoji:"",color:"#60a5fa",bg:"rgba(96,165,250,0.09)",border:"rgba(96,165,250,0.28)"},threats:{label:"Threats",emoji:"",color:"#fbbf24",bg:"rgba(251,191,36,0.09)",border:"rgba(251,191,36,0.28)"}};function tge({user:t,initialData:e,skillGaps:n,testScores:r}){const[i,o]=M.useState(e&&Object.keys(e).length>0?"done":"idle"),[a,s]=M.useState(e&&Object.keys(e).length>0?e:null),[l,u]=M.useState("");M.useEffect(()=>{e&&Object.keys(e).length>0&&(s(e),o("done"))},[e]);const c=t==null?void 0:t.uid,f=L_(t==null?void 0:t.interests),p=(t==null?void 0:t.skills)||[],m=async()=>{o("loading"),u("");let y=(n==null?void 0:n.skill_results)||{},w=(n==null?void 0:n.totals)||{},_=(n==null?void 0:n.role)||"";if(!n||Object.keys(n).length===0)try{const S=await or(Ve(Be,"skill_gaps",c));if(S.exists()){const O=S.data();y=O.skill_results||{},w=O.totals||{},_=O.role||""}}catch(S){console.warn("Firestore skill_gaps",S)}let g=(r==null?void 0:r.scores)||{};if(!r||Object.keys(r).length===0)try{const S=await or(Ve(Be,"test_scores",c));S.exists()&&(g=S.data().scores||{})}catch(S){console.warn("Firestore test_scores",S)}const x={name:(t==null?void 0:t.fullName)||(t==null?void 0:t.username)||"Student",domain:f,role:_,skills:p,interests:(t==null?void 0:t.interests)||[],education:(t==null?void 0:t.educationLevel)||(t==null?void 0:t.education)||"",university:(t==null?void 0:t.university)||(t==null?void 0:t.college)||"",currentYear:(t==null?void 0:t.currentYear)||(t==null?void 0:t.year)||""};try{const S=await fetch("/api/swot/analyze",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({profile:x,test_scores,skill_results:y,totals:w})}),O=await S.json();if(!S.ok||O.error){u(O.error||"SWOT generation failed."),o("error");return}if(s(O),c)try{await Ao(Ve(Be,"swot_analyses",c),{...O,uid:c,updatedAt:mi()})}catch(E){console.warn("Firestore swot_analyses save failed",E)}o("done")}catch(S){u(`Network error: ${S.message}`),o("error")}};return i==="idle"||i==="error"?h.jsxs("div",{style:{maxWidth:640,margin:"0 auto",padding:24},children:[l&&h.jsx("div",{style:{background:"rgba(248,113,113,0.12)",border:"1px solid #f87171",borderRadius:10,padding:"12px 16px",marginBottom:16,color:"#f87171",fontSize:14},children:l}),h.jsxs("div",{style:{background:"rgba(255,255,255,0.04)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:16,padding:32,textAlign:"center"},children:[h.jsx("div",{style:{fontSize:48,marginBottom:12},children:""}),h.jsx("h2",{style:{color:"#f0ffdf",fontSize:22,marginBottom:8},children:"SWOT Analysis"}),h.jsx("p",{style:{color:"rgba(240,255,223,0.5)",fontSize:13,marginBottom:8},children:"Powered by Gemini AI  Personalised career mentor"}),h.jsxs("p",{style:{color:"rgba(240,255,223,0.4)",fontSize:13,marginBottom:28,lineHeight:1.6},children:["Domain: ",h.jsx("strong",{style:{color:"#a5b4fc"},children:f}),h.jsx("br",{}),"For best results, complete the ",h.jsx("strong",{children:"Assessment"})," and ",h.jsx("strong",{children:"Skill Gap"})," tabs first."]}),h.jsx("button",{onClick:m,style:{background:"linear-gradient(135deg,#a855f7,#7c3aed)",color:"#fff",border:"none",borderRadius:10,padding:"12px 32px",fontSize:15,fontWeight:600,cursor:"pointer"},children:"Generate My SWOT Analysis"})]})]}):i==="loading"?h.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:320,gap:16},children:[h.jsx(Cn,{size:40,color:"#a855f7",style:{animation:"spin 1s linear infinite"}}),h.jsx("p",{style:{color:"rgba(240,255,223,0.7)"},children:"Gemini is analysing your profile"})]}):h.jsxs("div",{style:{maxWidth:860,margin:"0 auto",padding:"24px 16px"},children:[h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:24,flexWrap:"wrap",gap:12},children:[h.jsxs("div",{children:[h.jsx("h2",{style:{color:"#f0ffdf",fontSize:20,fontWeight:800,margin:0},children:"Your SWOT Analysis"}),h.jsxs("p",{style:{color:"rgba(240,255,223,0.45)",fontSize:13,marginTop:4},children:["AI-generated  Domain: ",h.jsx("span",{style:{color:"#a5b4fc",textTransform:"capitalize"},children:f})]})]}),h.jsx("button",{onClick:()=>{o("idle"),s(null)},style:{padding:"8px 18px",borderRadius:8,border:"1px solid rgba(168,85,247,0.3)",background:"transparent",color:"#c084fc",fontSize:13,fontWeight:600,cursor:"pointer"},children:" Regenerate"})]}),h.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(340px, 1fr))",gap:16},children:Object.entries(ege).map(([y,w])=>{const _=(a==null?void 0:a[y])||[];return h.jsxs("div",{style:{background:w.bg,border:`1px solid ${w.border}`,borderRadius:16,padding:24},children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,marginBottom:16},children:[h.jsx("span",{style:{fontSize:24},children:w.emoji}),h.jsx("h3",{style:{color:w.color,fontSize:16,fontWeight:800,margin:0},children:w.label}),h.jsx("span",{style:{marginLeft:"auto",fontSize:11,background:`${w.border}`,color:w.color,padding:"2px 8px",borderRadius:99,fontWeight:600},children:_.length})]}),_.length===0?h.jsx("p",{style:{color:"rgba(240,255,223,0.35)",fontSize:13},children:"No items returned."}):h.jsx("ul",{style:{paddingLeft:0,margin:0,listStyle:"none",display:"flex",flexDirection:"column",gap:12},children:_.map((g,x)=>h.jsxs("li",{style:{borderBottom:`1px solid ${w.border}`,paddingBottom:10},children:[h.jsxs("div",{style:{color:w.color,fontSize:13,fontWeight:700,marginBottom:4},children:[" ",g.title]}),h.jsx("div",{style:{color:"rgba(240,255,223,0.7)",fontSize:12.5,lineHeight:1.6},children:g.explanation})]},x))})]},y)})})]})}const nge=()=>{const[t,e]=M.useState([]),[n,r]=M.useState(0),[i,o]=M.useState({}),[a,s]=M.useState(!1),[l,u]=M.useState(!0);M.useEffect(()=>{fetch("http://localhost:5000/api/mcq").then(g=>g.json()).then(g=>{const x=g.map(S=>({...S,options:c(S.options)}));e(x),u(!1)}).catch(g=>{console.error("Error fetching MCQs:",g),u(!1)})},[]);const c=g=>[...g].sort(()=>Math.random()-.5),f=g=>{o({...i,[n]:g})},p=()=>{n<t.length-1?r(n+1):s(!0)},m=()=>{n>0&&r(n-1)};if(l)return h.jsx("div",{style:dn.center,children:"Loading MCQs..."});if(t.length===0)return h.jsx("div",{children:"No questions available."});const y=t[n],w=g=>{const x=i[n],S=y.correct_answer;return a?g===S?dn.correctOption:x===g&&g!==S?dn.incorrectOption:dn.option:x===g?dn.selectedOption:dn.option},_=()=>{let g=0;return t.forEach((x,S)=>{i[S]===x.correct_answer&&g++}),g};return h.jsx("div",{style:dn.container,children:a?h.jsxs("div",{style:dn.card,children:[h.jsx("h2",{children:"Test Completed "}),h.jsxs("p",{children:["Your Score: ",_()," / ",t.length]}),h.jsx("button",{style:dn.button,onClick:()=>{s(!1),r(0),o({})},children:"Retake Test"})]}):h.jsxs("div",{style:dn.card,children:[h.jsxs("h2",{children:["Question ",n+1," / ",t.length]}),h.jsx("p",{style:dn.question,children:y.question}),h.jsx("div",{children:y.options.map((g,x)=>h.jsx("div",{style:w(g),onClick:()=>f(g),children:g},x))}),h.jsxs("div",{style:dn.navigation,children:[h.jsx("button",{onClick:m,disabled:n===0,style:dn.button,children:"Previous"}),h.jsx("button",{onClick:p,style:dn.button,children:n===t.length-1?"Submit":"Next"})]})]})})},dn={container:{minHeight:"100vh",background:"linear-gradient(135deg, #1f2937, #111827)",display:"flex",justifyContent:"center",alignItems:"center",padding:"20px",color:"white"},card:{width:"600px",background:"#1e293b",padding:"30px",borderRadius:"12px",boxShadow:"0px 10px 25px rgba(0,0,0,0.5)",animation:"fadeIn 0.4s ease-in-out"},question:{fontSize:"18px",marginBottom:"20px"},option:{padding:"12px",margin:"10px 0",borderRadius:"8px",background:"#334155",cursor:"pointer",transition:"0.3s"},selectedOption:{padding:"12px",margin:"10px 0",borderRadius:"8px",background:"#2563eb",cursor:"pointer",transition:"0.3s"},correctOption:{padding:"12px",margin:"10px 0",borderRadius:"8px",background:"#16a34a",cursor:"pointer"},incorrectOption:{padding:"12px",margin:"10px 0",borderRadius:"8px",background:"#dc2626",cursor:"pointer"},navigation:{display:"flex",justifyContent:"space-between",marginTop:"20px"},button:{padding:"10px 20px",borderRadius:"6px",border:"none",cursor:"pointer",background:"#3b82f6",color:"white",transition:"0.3s"},center:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",color:"white"}};function rge(){return h.jsx(i7,{children:h.jsx(R3,{children:h.jsxs(A3,{children:[h.jsx(Ii,{path:"/",element:h.jsx(Z7,{})}),h.jsx(Ii,{path:"/signup",element:h.jsx(ez,{})}),h.jsx(Ii,{path:"/login",element:h.jsx(tz,{})}),h.jsx(Ii,{path:"/profile",element:h.jsx(rz,{})}),h.jsx(Ii,{path:"/dashboard",element:h.jsx(Zme,{})}),h.jsx(Ii,{path:"/assessment",element:h.jsx(nge,{})}),h.jsx(Ii,{path:"*",element:h.jsx(jk,{to:"/",replace:!0})})]})})})}qy.createRoot(document.getElementById("root")).render(h.jsx(F.StrictMode,{children:h.jsx(rge,{})}));
